<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="Flux RSS"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Rechercher"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-JQUERY " class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/20/JQUERY /" class="article-date">
  <time datetime="2018-03-20T05:18:04.754Z" itemprop="datePublished">2018-03-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/03/20/JQUERY /">jQuery的重点</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <pre><code>2.1 jQuery入口函数(全球都会)   $ === jQuery
      $(function(){ });
      jQuery(document).read(function(){  });

 2.2 jQuery的选择器(其实就是CSS的选择器)
      (1) ID选择器（js一般尽量用ID选择器，效率最高）id=&quot;J_name&quot;
      (2) 类选择器 **（重点）**
      (3) 标签选择器 **（重点）**
      (4) 层级选择器 **（重点）**
       :contains(text)     $(&quot;:contains(&apos;W3School&apos;)&quot;)  包含指定字符串的所有元素
       :hidden             $(&quot;p:hidden&quot;)               所有隐藏的 &lt;p&gt; 元素
      (5) 表单元素选择
          :input      $(&quot;:input&quot;)         所有 &lt;input&gt; 元素
          :text       $(&quot;:text&quot;)          所有 type=&quot;text&quot; 的 &lt;input&gt; 元素
          :password   $(&quot;:password&quot;)      所有 type=&quot;password&quot; 的 &lt;input&gt; 元素
          :radio      $(&quot;:radio&quot;)         所有 type=&quot;radio&quot; 的 &lt;input&gt; 元素
          :checkbox   $(&quot;:checkbox&quot;)      所有 type=&quot;checkbox&quot; 的 &lt;input&gt; 元素
          :submit     $(&quot;:submit&quot;)        所有 type=&quot;submit&quot; 的 &lt;input&gt; 元素
          :reset      $(&quot;:reset&quot;)         所有 type=&quot;reset&quot; 的 &lt;input&gt; 元素
          :button     $(&quot;:button&quot;)        所有 type=&quot;button&quot; 的 &lt;input&gt; 元素
          :image      $(&quot;:image&quot;)         所有 type=&quot;image&quot; 的 &lt;input&gt; 元素
          :file       $(&quot;:file&quot;)          所有 type=&quot;file&quot; 的 &lt;input&gt; 元素
          :selected   $(&quot;:selected&quot;)  所有被选取的 input 元素
          :checked    $(&quot;:checked&quot;)   所有被选中的 input 元素

       (1) 获取父级元素
           $(selector).parent();     //获取直接父级
           $(selector).parents(&apos;p&apos;); //获取所有父级元素直到html 
       (2) 获取子代和后代的元素
           $(selector).children();   //获取直接子元素
           $(selector).find(&quot;span&quot;); //获取所有的后代元素   * find方法 可能用的多。
       (3) 获取同级的元素
           $(selector).siblings()    //所有的兄弟节点
           $(selector).next()        //下一个兄弟节点
           $(selector).nextAll()     //后面的所有兄弟节点
           $(selector).prev()        //上面一个的兄弟节点
           $(selector).prevAll()     //前面的所有的兄弟节点
       (4) 过滤方法
           $(&quot;div p&quot;).last();        //取最后一个元素
           $(&quot;div p&quot;).first();       //取第一个元素
           $(&quot;p&quot;).eq(1);             //去第n个元素
           $(&quot;p&quot;).filter(&quot;.intro&quot;);  //过滤，选择所有p标签带有 .intro类
           $(&quot;p&quot;).not(&quot;.intro&quot;);     //去除，跟上面的filetr正好相反

 2.3 jQuery的Dom操作
       (1) 获取html的内容-- 获取和设置相同方法名,通过不同参数来确定是获取还是设置值
           $(selector).text() - 设置或返回所选元素的文本内容
           $(selector).html() - 设置或返回所选元素的内容（包括 HTML 标记）
           $(selector).val()  - 设置或返回表单字段的值
           使用html来创建dom的方式效率比较高. 远大于： document.createElement();

 2.4 jQuery的样式操作
        (1) 基本样式操作
            $(selector).css(&quot;color&quot;,&quot;red&quot;) |css({})  设置或返回匹配元素的样式属性。
            $(selector).height()        设置或返回匹配元素的高度。
            $(selector).width()         设置或返回匹配元素的宽度
            $(selector).offset().left   =&gt; { left:99, top: 22}     返回第一个匹配元素相对于文档（最顶部 非可视区）的位置。left,top
            $(selector).offsetParent()  返回最近的定位祖先元素。
            $(selector).position()      返回第一个匹配元素相对于父元素的位置。
            $(window).scrollLeft(值)    设置或返回匹配元素相对滚动条左侧的偏移。
            $(window).scrollTop(值)     设置或返回匹配元素相对滚动条顶部的偏移。
            $(window).on(&quot;scroll&quot;,function(){});  滚动事件
        (2) 样式类操作  *尽量操作样式类，重点*
            $(selector).addClass(&apos;class&apos;);     向匹配的元素添加指定的类名。
            $(selector).removeClass(&apos;class&apos;);  从所有匹配的元素中删除全部或者指定的类。
            $(selector).toggleClass(&apos;class&apos;)   从匹配的元素中添加或删除一个类。
            $(selector).hasClass(&apos;class&apos;)      检查匹配的元素是否拥有指定的类
        (3) 属性操作
             $(selector).attr(&quot;id&quot;)      设置或返回匹配元素的属性和值
             $(selector).removeAttr()    从所有匹配的元素中移除指定的属性
        (4) 动态创建  
             $(selector).append(&apos;&lt;div&gt;&lt;/div&gt;&apos;html字符串 / $(&quot;div&quot;) jquery对象 )  在被选元素的结尾插入内容 父子关系
             $(&quot;&lt;div&gt;&lt;div&gt;&quot;)/$(&quot;div p&quot;).appendTo(&quot;#J_tbdata&quot;); - 追加到..  $tr.appendTo(&quot;#J_tbdata&quot;);
             $(selector).prepend()   - 在被选元素的开头插入内容 父子关系
             $(selector).after()     - 在被选元素之后插入内容 兄弟关系
             $(selector).before()    - 在被选元素之前插入内容 兄弟关系

 2.5 jQuery的动画
           (1）隐藏显示： 三个方法的语法都一致，参数可以有两个，第一个是动画的速度（也可以是单词                      slow fast normal），
               第二个是动画执行完成后的回调函数
                $(selector).show(speed,callback);
                $(selector).hide(1000);
                $(selector).toggle(&quot;slow&quot;);
           (2) 淡入淡出
              $(selector).fadeIn(speed, callback)
              $(selector).fadeOut(1000)
              $(selector).fadeToggle(&apos;fast&apos;,function(){})
              $(selector).fadeTo(0.5); //淡入到  0透明，1不透明
            (3) 滑动
              $(selector).slideDown(speed,callback);
              $(selector).slideUp(speed,callback);
              $(selector).slideToggle(speed,callback);
            (4) 动画
              $(selector).animate({params},speed,callback); 
            (5) 结束动画
              $(selector).stop();
              $(selector).stop(stopAll,goToEnd);


 2.6 jQuery的事件处理
        (1) 简单事件绑定方法  
            .click(hander)  .click() //绑定事件 或者触发 click事件
            .blur()  //失去焦点事件，同上
            .hover(function(){}, function(){}) //鼠标移入，移出
            mouseover  mouseout： 当鼠标离开元素及它的子元素的时都会触发。（不用）
            mouseenter mouseleave: 当鼠标离开自己时才会触发，子元素不触发。
            .dbclick() 双击
             change 改变,比如：文本框发送改变，下拉列表发生改变等...
             focus 获得焦点
             keyup, keydown, keypress :  键盘 键被按下。
             mousedown, mouseover     
         (2) 绑定事件的方式  jQuery1.7版本后，jQuery用on统一了所有的事件处理的方法
             bind方式（不推荐，1.7以后的jQuery版本被on取代）
             delegate方式（推荐，性能高，支持动态创建的元素）
             one绑定一次事件的方式  
             on绑定的方式（整合了bind、delegate  烈建议使用的方式）   

            $(&quot;.parentBox&quot;).delegate(&quot;p&quot;, &quot;click&quot;, function(){
                 //为 .parentBox下面的所有的p标签绑定事件
               });
            $(&quot;.parentBox&quot;).on(&quot;click&quot;,&quot;p&quot;, function(){
                //为 .parentBox下面的所有的p标签绑定事件
              });    效率较高

            $( &quot;p&quot; ).one( &quot;click&quot;, function() {
                  alert( $( this ).text() );
              });
            $(&quot;p&quot;).on(&quot;click&quot;,function(){
               $(this).off(&apos;click&apos;);//事件方法执行了一次后，就立即解绑事件
             })
            绑定一个方法（给自己绑定）
            $( &quot;#dataTable tbody tr&quot; ).on( &quot;click&quot;, function() {
                console.log( $( this ).text() );
             });
            给子元素绑定事件
             $( &quot;#dataTable tbody&quot; ).on( &quot;click&quot;, &quot;tr&quot;, function() {
               console.log( $( this ).text() );
              }); 
            绑定多个事件的方式
             $( &quot;div.test&quot; ).on({
                click: function() {}, 
                mouseenter: function() {},
                mouseleave: function() {}
             });
          (3) 解绑
             undelegate解绑delegate事件
             unbind解绑 bind方式绑定的事件
             off解绑on方式绑定的事件
               $(&quot;p&quot;).off(&apos;click&apos;);  解绑所有p的click事件    
           (4) 触发事件
               //简单事件触发: $(selector).click(); //触发 click事件
               //trigger方法触发事件: $( &quot;#foo&quot; ).trigger( &quot;click&quot; );
             triggerHandler触发 事件响应方法，不触发浏览器行为 --------------建议使用
                   $( &quot;input&quot; ).triggerHandler( &quot;focus&quot; );
           (5) event对象的简介
               event.stopPropagation()**//阻止事件冒泡
               event.preventDefault();**    //阻止默认行为

           (6) 全局的 $.each(array, function(index, element){})
               普通jQuery对象的each方法
               $(&quot;li&quot;).each(function(index, element){} )
</code></pre><p> ！！！文档加载顺序:下载html页面，解析html标签，遇到link标签加载css，遇到script加载js.</p>
<p> json ={“name”:”leo”}  键值对必须严格用双引号  而对象obj 不是很严格，可以不用””  obj={ ready:function(){} }</p>
<p> 入口函数的方式  Jquery会在html所有标签加载完毕之后就会执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">(document).ready(function()&#123;  &#125;)    ==    (function()&#123;  &#125; )</span><br><span class="line"></span><br><span class="line">$(&quot;#demo&quot;).css(&quot;background-color&quot;,&quot;red&quot;);    赋值</span><br><span class="line"></span><br><span class="line">console.log($(&quot;#demo&quot;).css(&quot;background-color&quot;)); 获得属性值</span><br><span class="line"></span><br><span class="line">$(&quot;#demo&quot;).css(&#123;</span><br><span class="line">             &quot;background-color&quot;,&quot;red&quot;，</span><br><span class="line">             &quot;color&quot;:&quot;#fff&quot;</span><br><span class="line">   &#125;);                      </span><br><span class="line">  设置多个样式，用一个对象  这里的键值对，可以带双引号，可以单引号，也可以不带引号</span><br><span class="line">   但是一些不合法的变量名字，要使用带引号的方式来声明  比如说 &quot;font-size&quot;</span><br></pre></td></tr></table></figure>
<p>  可根据自己意愿设置样式</p>
<pre><code> $(&quot;li&quot;).css(&quot;font-size&quot;,function(index,value){   
     return (index+1)*10+&quot;px&quot;;    
})
</code></pre><p> 基本选择器   </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(&quot;#demo&quot;)  (&quot;.demo&quot;)  $(&quot;li&quot;)</span><br></pre></td></tr></table></figure>
<p> 层级选择器：</p>
<p>   1.空格  选择所有的后代选择器 $(“div span”).css();</p>
<p>​    2. &gt;    子代选择器  选择所有的子代元素  $(“div&gt;span”).css();</p>
<ol>
<li>+紧邻选择器   选择紧挨着的下一个元素   $(“div+span”).css();</li>
<li><p>~    兄弟选择器   选择后面的所有兄弟元素   $(“div~span”).css();</p>
<p>过滤选择器：</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 :eq(index)  index是从0开始的一个数字  $(&quot;li:eq(1).css()&quot;);</span><br></pre></td></tr></table></figure>
<pre><code>2. :gt(index)   选择序号大于index的元素（不含自己）   $(&quot;li:gt(1)&quot;).css();

3. :lt(index)   选择序号小于index的元素（不含自己）   $(&quot;li:lt(1)&quot;).css();

4. :odd         选择所有序号为奇数行的元素            $(&quot;li:odd&quot;).css();

5. :even        选择所有序号为偶数行的元素            $(&quot;li:even&quot;).css();

6. :first       选择匹配第一个元素                    $(&quot;li:first&quot;).css();

7. :last        选择匹配最后一个元素                  $(&quot;li:last&quot;).css();
</code></pre><p>  属性选择器：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.(&quot;标签名[attr=val]&quot;)  (&quot;a[href=&apos;www.baidu.com&apos;]&quot;)  属性值为...的元素</span><br></pre></td></tr></table></figure>
<pre><code>2. $(&quot;a[href]&quot;)          标签a含有href属性的元素

3. $(&quot;a[href!=&apos;&apos;]&quot;)      属性值不等于...的元素  包括没有href的元素

4. $(&quot;a[href^=&apos;http&apos;]&quot;)  属性值以http开头的元素

5. $(&quot;a[href$=&apos;cn&apos;]&quot;)    属性值以cn结尾的元素

6. $(&quot;a[href*=&apos;i&apos;]&quot;)     属性值包含i的元素

7. $(&quot;a[href][title]&quot;)   含有这些属性的元素 都满足
</code></pre><p>  筛选选择器：（都是方法）</p>
<pre><code>1. .eq(index) 这是一个方法  和:eq(index)效果一样  $(&quot;span&quot;).eq(2) 

2. .first()  找到第一个元素   $(&quot;li&quot;).first()

3. .last()    选择最后一个元素

4. .parent()   $(&quot;p&quot;).parent(&quot;#div&quot;).css();  选择父元素

5. .siblings()   除了自己的其他兄弟元素  $(&quot;#demo&quot;).siblings().css(&quot;background&quot;,&quot;red&quot;);  可以用来写导航栏

6. .find()      $(&quot;div&quot;).find(&quot;#aa&quot;)    找出后代中符合条件的

7. .children(&quot;ul&quot;)   找到子元素为ul的元素 

8. .next()  选取下一个元素   （下一个兄弟节点）
</code></pre><p> 事件：1. mouseover与mouseenter区别</p>
<pre><code>mouseover(和mouseout一组)事件会触发多次，每遇到一个子元素就会被触发一次，我们不希望发生多次，一次就够了
mouseenter（和mouseleave一组）事件只触发一次
</code></pre><ol>
<li>hover事件实现鼠标移入移出两个事件，传入两个函数</li>
</ol>
<pre><code>$(&quot;#demo&quot;).hover(function(){},function(){});
</code></pre><ol>
<li>show() 和 hide() 事件——&gt; 实现显示和隐藏</li>
</ol>
<ol>
<li>slideToggle()  滑动开关效果，用于实现导航栏菜单效果 $(this).children(“ul”).slideToggle();  带有动画效果</li>
</ol>
<h3 id="DOM对象跟Jquery对象相互转化"><a href="#DOM对象跟Jquery对象相互转化" class="headerlink" title="DOM对象跟Jquery对象相互转化"></a>DOM对象跟Jquery对象相互转化</h3><pre><code>1. js里面的click()方法  触发click事件
   js里面的onclick() 是绑定点击事件 

2. $(&quot;button&quot;)[1].onclick=function(){ }     与下面的等价
   $(&quot;button&quot;).get(1).onclick=function(){ } Jquery转化为dom对象

3. DOM转化成Jquery对象     
   var btn=document.getElementById(&quot;btn&quot;);
   $(btn).click(function(){ $(&quot;div&quot;).show(); })
   $(document)   $(this)  这些也是将DOM转化为Jquery  不加双引号

4. .eq(index) 获取到的是Jquery对象   而 .get(index)获取的是DOM对象
   $(&quot;div&quot;).get(1).css(&quot;font-size&quot;,&quot;20px&quot;);  这句话是错误的，因为 .get(index)获取的是DOM，DOM对象没有css这个方法
</code></pre><p>  动画效果： 传入的参数可以是一个两个三个都可以</p>
<pre><code>1. show(2000,function(){ 动画后执行一系列的操作 })
</code></pre><p> 前面的动画时长 2000 –是动画在2s内完成  前面可以跟时间，当然也可以跟字符串  “slow” “normal” “fast”  后面当然也可以不跟函数</p>
<pre><code>2. hide(3000,function(){ }) 同show()
</code></pre><ol>
<li>滑动效果动画</li>
</ol>
<pre><code>上拉：slideDown(2000,&quot;linear/swing&quot;,function(){  })   linear是匀速运动的   swing是先慢后快   --  动画效果，默认是swing  也可以没有这个参数

下拉：slideUp() 同上

切换：slideToggle(1000,function(){ })  相当于一个开关，点击展开（显示），再点击隐藏
</code></pre><p> 淡入淡出（透明度变化）  可以不执行函数</p>
<pre><code>1. fadeIn(2000/&quot;fast&quot;,function(){ });    淡入 

2. fadeOut(2000/&quot;slow&quot;,function(){ });   淡出

3. fadeToggle(2000/&quot;normal&quot;,function(){ });  开关切换的效果

4. fadeTo(1000,0.6,&quot;linear/swing&quot;,function(){ });  淡入到0.6  1s完成  完成后执行函数
</code></pre><p>遍历 .each()  $.each()  map函数</p>
<ol>
<li><p>$(“li”).each(function(index,ele){ $(ele)  })  这里的ele是指当前元素，相当于this</p>
<p>   $(this).index();   获取当前元素的索引值</p>
<p>2.全局的 效果一样  $.each($(“li”),function(index,ele){  })  $(“li”)代表任何一个数组 array</p>
<p>map函数： 和each()的区别  它会返回一个新的数组</p>
<p>全局的  $.map(array,function(ele,index){  return …});</p>
<p>jQuery对象的  $(“li”).map(function(index,ele){ return …});</p>
<p>注意全局的和jQuery的参数是相反的</p>
</li>
</ol>
<p> 自定义动画： animate({ “width”:”300px”,”height”:”400px”,”opacity”:”0.7”},3000);</p>
<p>  停止上一次效果   stop(false,true)  – 我们做动画的时候，可能在进行下一次的动画时，上一次动画还没有结束（都在进行动画），造成混乱</p>
<p>  想让谁不动就加在那个身上 $(“div”).stop()</p>
<pre><code>1.两个参数： 第一个参数：表示是否清空动画队列，默认值是false , 如果设置为true，后面所有的动画都马上停止  第一个参数可以不传，可以默认是false
             第二个参数：表示是否立即执行完当前动画，默认为false  如果为true,表示立即执行完当前的动画，然后再执行后续动画

2. stop(false,true);  当前动画立即执行完毕，后续队列中的动画继续执行
   stop(true,true);   当前动画立即执行完毕，并清空后续队列中的所有动画       
</code></pre><p> 操作样式：</p>
<pre><code>1. $(&quot;div&quot;).addClass(&quot;nav&quot;);  给选定的元素添加样式，注意样式的名字没有 点 . 只是一个名字

2. $(&quot;div&quot;).removeClass(&quot;nav&quot;);  传参数移出指定样式  如果不加参数，就给所有的样式清除  如果指定的样式不存在，将不删除样式

3. $(&quot;div&quot;).ToggleClass(&quot;nav&quot;);  判断有没有样式，有就移出    没有就添加 
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$(this).addClass(&quot;active&quot;).siblings().removeClass(&quot;active&quot;); </span><br><span class="line"></span><br><span class="line">   var index=$(this).index(); </span><br><span class="line"></span><br><span class="line">   $(&quot;.main&quot;).eq(index).addClass(&quot;selected&quot;).siblings(&quot;.main&quot;).removeClass(&quot;selected&quot;);</span><br><span class="line"></span><br><span class="line">== $(&quot;.main:eq(&quot;+index+&quot;)&quot;).addClass(&quot;selected&quot;).siblings(&quot;.main&quot;).removeClass(&quot;selected&quot;);</span><br><span class="line"></span><br><span class="line">   $(&quot;div&quot;).empty(); 清空所有的子节点 留下自己</span><br><span class="line"></span><br><span class="line">   $(&quot;div&quot;).remove(); 自杀  自己和所有的子节点都没有了</span><br></pre></td></tr></table></figure>
<h3 id="常用DOM操作：属性和值和内容"><a href="#常用DOM操作：属性和值和内容" class="headerlink" title="常用DOM操作：属性和值和内容"></a>常用DOM操作：属性和值和内容</h3><ol>
<li><p>设置属性  $(this).attr(“title”,”我是title”)</p>
</li>
<li><p>获取属性  $(this).attr(“title”);移出属性  $</p>
</li>
<li><p>(this).removeAttr(“title”);</p>
</li>
<li><p>设置值    $(this).val(“我是设置的值”);获取值    $</p>
</li>
<li><p>(this).val();     val()里面有参数的时候是设置值，没有参数的时候是获取值</p>
</li>
<li><p>设置html内容   $(this).html(“我是html内容”);  </p>
<p>我们还可以利用这个动态创建新的元素 $(this).html(“</p><p>我是P元素</p>“);  在这个标签下面生成一个P标签，并且可以生成样式<p></p>
<p>获取html内容   $(this).html();</p>
<ol>
<li><p>设置文本内容  $(“div”).text(“我是文本内容”);</p>
</li>
<li><p>获取文本内容  $(“div”).text(); 但是只获取纯文本内容，不包含标签元素</p>
</li>
</ol>
</li>
</ol>
<p> 节点操作：（了解，实现效果我们用 $(“div”).html(“”)  高效）</p>
<p>   $(this).prevAll(); 得到这个节点前面的所有元素     $(this).nextAll();  得到这个节点后面的所有元素</p>
<p>   .end()  结束前面的操作，回到最开始的位置指向的元素    （当执行JQuery链式编程断掉的时候，想要把链链接上）</p>
<p>   1.追加节点  – 先动态创建再追加  $(“div”).append(“</p><p>我是动态创建出来的p元素</p>“)  <p></p>
<p>$(“</p><p>我是动态创建出来的p元素</p>“).appendTo($(“div”));  把前面这个元素追加给后面的元素<p></p>
<ol>
<li><p>在前面追加节点   $(“div”).prepend(node);  在div内部的前面追加元素</p>
<p>node.prependTo($(“div”));  把node追加到div内部的前面</p>
</li>
<li><p>往后面添加兄弟节点  $(“div”).after(“<span></span>“);  添加的是兄弟节点，在div标签的后面</p>
</li>
<li><p>往前面添加兄弟节点  $(“div”).before(“<span></span>“);  在div的前面添加一个兄弟节点</p>
</li>
<li><p>把前面的元素放到后面div元素的前面  $(“</p><p>???</p>“).insertBefore($(“div”));  兄弟节点关系<p></p>
</li>
<li><p>把前面的元素放到后面div元素的后面   $(“</p><p>???</p>“).insertAfter($(“div”));  兄弟节点关系<p></p>
</li>
<li><p>删除节点 （包含在父节点里面的子节点也删除了）  可以“自杀”  $(this).remove();</p>
</li>
<li><p>清空  $(“div”).empty();  我们更喜欢用  $(“div”).html(“”);  更加高效</p>
</li>
<li><p>克隆  $(“div”).append($(“p”).clone(true));   复制一份p标签添加到div里面去  传了一个参数为true 会把之前绑定的事件也复制一份</p>
</li>
<li><p>包裹节点  $(“span”).wrap($(“div”));  包裹层是div   用div去包裹span元素</p>
</li>
<li><p>包裹所有节点  $(“li”).wrapAll($(“div”));</p>
</li>
<li><p>替换节点   $(“div”).replaceWith($(“p”));  用后面的替换前面的元素</p>
<p>Window事件  </p>
<pre><code>$(window).scroll(function () {  }   固定导航栏（滚动时需要获取滚轮的高度时）

1. $(document).scrollTop();  滚轮滑动的距离  设置值就是在（）里面写

2. $(&quot;.top&quot;).height()/width();  获取和设置元素的宽高   $(&quot;.top&quot;).height(300)/width(300);

   $(&quot;.top&quot;).css(&quot;height&quot;);  两者的区别：.height() 获取的是一个数字，没有单位 Number类型    .css()获取的值有单位  String类型

3. 获取相对于页面坐标值   $(&quot;.nav&quot;).offset().top/left;   获取距离顶部（左边）的距离

   设置坐标值，设置后会变成相对定位： $(&quot;.nav&quot;).offset({top: , left: })   也可以只设置一个值

4. 获取相对于父元素的坐标位置   $(&quot;p&quot;).position().top/left;  子绝父相 

   这个没办法设置，只能获取
</code></pre></li>
</ol>
<p> jQuery事件   记住 on绑定事件就行了！！！！</p>
<pre><code>     绑定多个事件,处理相同的效果  $(&quot;button&quot;).bind(&quot;click mouseenter&quot;,function(){ });







      1. 绑定单个事件  $(&quot;button&quot;).bind(&quot;click&quot;,function(){ });                              
        绑定多个事件,处理相同的效果  $(&quot;button&quot;).bind(&quot;click mouseenter&quot;,function(){ });                  绑定多个事件,处理不同的效果  $(&quot;button&quot;).bind({       
                                  &quot;click&quot;:function(){ },                       
                                       &quot;mouseenter&quot;:function(){ }                                
                                 });
     传递数据： $(&quot;button&quot;).bind(&quot;click&quot;,{a:&quot;poaiomk&quot;,b:&quot;ako&quot;},function(e){ 
                alert(e.data.a);    //这里面可以用传进来的数据  --&gt; e是jQuery事件对象
                e.pageX  e.pageY    让图片可以跟随鼠标移动   }); 

2. 绑定一次事件 （了解） $(&quot;button&quot;).one(&quot;click&quot;,function(){ });   只触发一次

3. // 不建议 $(&quot;ul&quot;).delegate(&quot;li&quot;,&quot;click&quot;,function(){ });  delegate绑定方式，给父元素绑定  通过捕获和冒泡机制  

    为了解决多个li绑定同一个事件，消耗大量时间  性能不好   
</code></pre><p>强烈建议使用 ：</p>
<pre><code>$(&quot;ul&quot;).on(&quot;click&quot;,&quot;li&quot;,function(){alert($(this).html()); });   代替上面的所有方法
$(&quot;div&quot;).on(&quot;click&quot;,&quot;h2:eq(1)&quot;,function(){ alert($(this).html()); })这里的this指向触发该事件的元素  
</code></pre><p>div是父级元素           可以指定是哪一个h2 也可以不指定，就默认是所有h2元素</p>
<pre><code>4. 解绑方式   bind()----unbind()   delegate()---undelegate()    on()----off()
  最前面给谁绑定就给谁解绑   后面括号里面是 解绑的事件       $(&quot;div&quot;).off(&quot;click&quot;);  
</code></pre><p> on绑定事件：五星好评</p>
<pre><code>$(&quot;ul&quot;).on(&quot;mouseenter&quot;,&quot;li&quot;,function(){
      $(this).text(wjx_sel).preAll().text(wjx_sel).end().nextAll().text(wjx_none);

 })    
</code></pre><p>  第一步：鼠标移入，当前五角星和前面的五角星变成实体，后面的五角星变成空五角星</p>
<p>  第二布：鼠标点击的时候，为当前元素添加一个类clicked 这个可以不存在样式， 其他的移除clicked类</p>
<p>  第三步：当鼠标移开整个评分控件的时候，把clicked以及之前的显示实心</p>
<p> 隐式迭代： $(“ul li”).text(123); 如果是设置值的话，会遍历整个类数组进行赋值，如果是取值的话 获得第一个值</p>
<pre><code>1. 默认情况下，会自动迭代执行jQuery选择出来的所有dom元素的操作
2. 如果获取的是多元素的值，默认返回第一个元素的值
</code></pre><p> 我们可以解决 jQuery命名冲突  —- 知道这个方法就行了  一般不会出现</p>
<p>  比如说 $ 已经被jQuery占用了，我们在头部定义了一个对象 $={name:”qooo”,age:10};</p>
<p>  这个时候 jQuery会覆盖他  我们用 var laoma=$.noConflict();</p>
<p>这样我们可以用 $.name   但是不能用$(“li”).css()  我们可以用 laoma(“li”).css()代替</p>
<p>  jQuery.data()  jQuery对象的数据缓存 （了解）</p>
<p>  $(“.nav”).data(“name”,123);  设置值</p>
<p>  var t = $(“.nav”).data(“name”);  取值</p>
<p>  t.name=”18”;  对象值的更改，会直接同步到元素的jQuery 对象上去</p>
<h3 id="jQuery插件的开发-（重点）—-会做jQuery插件就行"><a href="#jQuery插件的开发-（重点）—-会做jQuery插件就行" class="headerlink" title="jQuery插件的开发 （重点）— 会做jQuery插件就行"></a>jQuery插件的开发 （重点）— 会做jQuery插件就行</h3><ol>
<li><p>全局jQuery函数扩展方法</p>
<p>$.log=function(){    }   log为自己定义的方法名<br>$.log();  使用</p>
</li>
<li><p>扩展一个普通的jQuery对象方法</p>
<p>$.fn.log=function(){ console.log$(this).text(); }    在原型上扩展一个方法  所有实例（jQuery对象）都有这个方法<br>$(“div”).log(); 使用</p>
<p>自己封装一个插件，组件化，模块化，可以给每一个效果写成一个组件，进行调用就可以执行了</p>
</li>
</ol>
<p>  第三方插件  怎么使用？ 1. 应用jQuery  2. 引入第三方插件的js包  3.实现效果</p>
<ol>
<li>背景色的渐变，动画效果，我们的 animate()没有实现的</li>
</ol>
<pre><code> jquery.color.js

  $(function(){
       $(&quot;.box&quot;).animate({
            backgroundColor:&quot;#000&quot;
        },2000);
    });

 可以实现两秒后变成黑色的一个渐变过程

2. 懒加载  网站的资源没有必要给所有的加载出来 延迟加载  当鼠标滚动到相应的位置时，再加载  减少流量，减少吞吐率 （效率提高）

  jquery.lazyload.js

  1. 引包   2.写img  3.用 lazyload() 方法

 用法： &lt;img class=&quot;la&quot; data-original=&quot;img/1.png&quot; width=&quot;200px&quot; height=&quot;300px&quot; alt=&quot;&quot;&gt; 
        &lt;img class=&quot;la&quot; data-original=&quot;img/2.png&quot; width=&quot;200px&quot; height=&quot;300px&quot; alt=&quot;&quot;&gt; 

       $(function(){  
         $(&quot;.la&quot;).lazyload();
     })
</code></pre><ol>
<li>jqueryUI 插件的使用</li>
</ol>
<pre><code>引入jquery  引入jQueryUI的js库   引入jQueryUI的css库
jquery-ui.min.js     jquery-ui.min.css
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/03/20/JQUERY /" data-id="cjez7tlcp0001fwuqxlwoylan" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-DOM + BOM" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/20/DOM + BOM/" class="article-date">
  <time datetime="2018-03-20T04:59:58.011Z" itemprop="datePublished">2018-03-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/03/20/DOM + BOM/">DOM + BOM</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>1.childNodes     元素.childNodes : 只读 属性 子节点列表集合</p>
<p> 标准下：包含了文本和元素类型的节点，也会包含非法嵌套的子节点</p>
<p>非标准下：只包含元素类型的节点，ie7以下不会包含非法嵌套子节点</p>
<p>childNodes只包含一级子节点，不包含后辈孙级以下的节点</p>
<p> DOM节点的类型有很多种    12种</p>
<p>元素.nodeType : 只读 属性 当前元素的节点类型</p>
<pre><code>元素节点    :    1
属性节点    :    2
文本节点  :    3

元素.attributes : 只读 属性 属性列表集合
</code></pre><p>childNodes  解决兼容性问题</p>
<pre><code> if ( 父级元素（oUl）.childNodes[i].nodeType == 1 ) {
    oUl.childNodes[i].style.background = &apos;red&apos;;
}
</code></pre><p>2.children(√)       元素.children : 只读 属性 子节点列表集合</p>
<p>标准下：只包含元素类型的节点    算</p><p></p><p></p>
<p>非标准下：只包含元素类型的节点    不算</p><p></p><p></p>
<pre><code>for (var i=0; i&lt;oUl.children.length; i++) {
          oUl.children[i].style.background = &apos;red&apos;;
          }      
</code></pre><p>3.firstChild        元素.firstChild : 只读 属性 第一个子节点</p>
<p>  标准下：firstChild会包含文本类型的节点</p>
<p> 非标准下：只包含元素节点</p>
<p>4.firstElementChild<br>    元素.firstElementChild : 只读 属性 标准下获取第一个元素类型的子节点<br>找第一个子节点  解决兼容性问题</p>
<pre><code>var oFirst = oUl.firstElementChild || oUl.firstChild;
oFirst.style.background = &apos;red&apos;;
元素.lastChild || 元素.lastElementChild        最后一个子节点
var oLast = oUl.lastElementChild || oUl.lastChild; 
oLast.style.background = &apos;yellow&apos;;
元素.nextSibling || 元素.nextElementSibling    下一个兄弟节点
var oNext = oFirst.nextElementSibling || oFirst.nextSibling;
 oNext.style.background = &apos;blue&apos;;
 元素.previousSibling || 元素.previousElementSibling    上一个兄弟节点
  var oPrev = oLast.previousElementSibling || oLast.previousSibling;
   oPrev.style.background = &apos;orange&apos;;
</code></pre><p> 找第一个子节点常用（√）<br>                      if ( oUl.children[0] ) {<br>                           oUl.children[0].style.background = ‘red’;<br>                         } else {<br>                         alert( ‘没有子节点可以设置’ );<br>                      }</p>
<p>5.parentNode （√）  元素.parentNode : 只读 属性 当前节点的父级节点</p>
<p>6.offsetParent      元素.offsetParent : 只读 属性 离当前元素最近的一个有定位属性的父节点        </p>
<pre><code>如果没有定位父级，默认是body
ie7以下，如果当前元素没有定位默认是body，如果有定位则是html
ie7以下，如果当前元素的某个父级触发了layout，那么offsetParent就会被指向到这个触发了layout特性的父节点上
</code></pre><p>7.offsetLeft[Top]    元素.offsetLeft[Top] : 只读 属性 当前元素到定位父级的距离（偏移值）        </p>
<p>到当前元素的offsetParent的距离</p>
<p> 如果没有定位父级</p>
<pre><code>offsetParent -&gt; body
offsetLeft -&gt; html
</code></pre><p>如果有定位父级            </p>
<pre><code>ie7以下：如果自己没有定位，那么offsetLeft[Top]是到body的距离
如果自己有定位，那么就是到定位父级的距离
其他：到定位父级的距离
</code></pre><p>获得  offsetLeft[Top] 封装函数       </p>
<pre><code>function getPos(obj) {               
               var pos = {left:0, top:0};
                while (obj) {
                pos.left += obj.offsetLeft;
               pos.top += obj.offsetTop;
               obj = obj.offsetParent;    
               }
                   return pos;                   
             }
               var p = getPos( oDiv3 );
               alert( p.top );
</code></pre><p>8.宽度高度（width height）<br>     style.width : 样式宽<br>     clientWidth : 可视区宽      样式宽 + padding<br>     offsetWidth    : 占位宽<br>     可视区宽 + 边框<br>9.getAttribute                </p>
<p> 元素.getAttribute(属性名称); 方法 获取指定元素的指定属性的值</p>
<pre><code>alert( oText.getAttribute(&apos;value&apos;) );
</code></pre><p>10.setAttribute               </p>
<p> 元素.setAttribute(属性名称，属性值); 方法 给指定元素指定的属性设置值</p>
<pre><code>oText.setAttribute( &apos;value&apos;, &apos;hello&apos; );
</code></pre><p>11.removeAttribute             </p>
<p> 元素.removeAttribute(属性名称); 方法 移除指定的元素的指定的属性</p>
<pre><code>oText.removeAttribute( &apos;value&apos; );
</code></pre><p>用.和[]的形式无法操作元素的自定义属性</p>
<p> getAttribute可以操作元素的自定义属性</p>
<pre><code>alert( oImg.src );
alert( oImg[&apos;src&apos;] );
</code></pre><p>可以获取元素属性实际的值</p>
<p>ie7下还是会返回资源的绝对路径</p>
<p>12.createElement                </p>
<pre><code>document.createElement(标签名称);   创建元素
var oLi = document.createElement(&apos;li&apos;)
</code></pre><p>13.removeChild                  </p>
<p>父级.removeChild(要删除的元素);     删除元素      oUl.removeChild( this.parentNode );</p>
<p>14.appendChild                  </p>
<p>父级.appendChild(要添加的元素) 方法 追加子元素    oUl.appendChild( oLi );</p>
<p>15.insertBefore                 </p>
<p>父级.insertBefore(新的元素，被插的元素) 方法 在指定元素前面插入一个新元素            </p>
<p> 在ie下如果第二个参数的节点不存在，会报错</p>
<p> 在其他标准浏览器下如果第二个参数的节点不存在，则会以appendChild的形式进行添加</p>
<pre><code>if ( oUl.children[0] ) {
oUl.insertBefore( oLi, oUl.children[0] );
} else {
oUl.appendChild( oLi );            
}
</code></pre><p>16.replaceChild(剪切粘贴的效果) </p>
<p>  父级.replaceChild(新节点，被替换节点) 替换子节点</p>
<p>剪切粘贴的效果    appendChild,insertBefore,replaceChild都可以操作动态创建出来的节点，也可以操作已有节点</p>
<p>17.获取表单中一个元素  表单.元素name   在表单里，name属性比id更好用，独一无二                               </p>
<pre><code>&lt;form id=&quot;form1&quot;&gt; 
&lt;input type=&quot;text&quot; id=&quot;text1&quot; name=&quot;username&quot; value=&quot;&quot; /&gt;     
&lt;/form&gt;

alert( oForm.username.value );
</code></pre><p>18.一组的单选钮，name值设置一致<br>     <input type="radio" name="sex" value="男">男<br>     <input type="radio" name="sex" value="女">女</p>
<p>   一组的复选框，name值设置一致<br>    <input type="checkbox" name="aihao" value="电影">电影<br>    <input type="checkbox" name="aihao" value="音乐">音乐<br>    <input type="checkbox" name="aihao" value="体育">体育</p>
<p>19.onchange : 当值发生改变的时候触发   type=”text” : 当光标离开元素的时候再去判断值是否发生了变化，如果发生了变化则触发onchange事件</p>
<p>20.onsubmit : 当表单被提交的时候触发    阻止触发  return false;</p>
<p>   onreset : 当表单要重置的时候触发</p>
<p>   return confirm(‘你确定要重置？’);</p>
<p>21.表格的动态添加 ！！！！</p>
<pre><code>tHead（一个）   tBodies（多个）  tFoot（一个）  rows  cells
 表格头           表格正文        表格尾         行     列

 alert( oTab.tBodies[0].rows[1].cells[1].innerHTML);
</code></pre><h2 id="BOM知识-Browser-Object-Model-浏览器对象模型"><a href="#BOM知识-Browser-Object-Model-浏览器对象模型" class="headerlink" title="BOM知识   Browser Object Model 浏览器对象模型"></a>BOM知识   Browser Object Model 浏览器对象模型</h2><ol>
<li><p>window.open();   open(地址默认是空白页面，打开方式默认新窗口) 打开一个新窗口    window.open(‘<a href="http://www.baidu.com&#39;" target="_blank" rel="noopener">http://www.baidu.com&#39;</a>, ‘_self’);</p>
<pre><code>opener = window.open();//返回值 返回的新开页面的window对象
</code></pre><p>window.close();   ff : 无法关闭    chrome : 直接关闭   ie : 询问用户</p>
</li>
</ol>
<p>2.window.navigator.userAgent : 浏览器信息     alert( window.navigator.userAgent );</p>
<p>3.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">window.location.href = window.location内容</span><br><span class="line"></span><br><span class="line">window.location.search = url?后面的内容</span><br><span class="line"></span><br><span class="line">window.location.hash = url#后面的内容</span><br></pre></td></tr></table></figure>
<p>4.可视区尺寸   </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alert( document.documentElement.clientHeight );</span><br></pre></td></tr></table></figure>
<p>  滚动距离 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var scrollTop = document.documentElement.scrollTop || document.body.scrollTop;	</span><br><span class="line">alert(scrollTop);</span><br></pre></td></tr></table></figure>
<p>5.onscroll : 当滚动条滚动的时候触发</p>
<p>  onresize : 当窗口大小发生变化的时候触发</p>
<h3 id="事件！！！！！"><a href="#事件！！！！！" class="headerlink" title="事件！！！！！"></a>事件！！！！！</h3><p>1.焦点：使浏览器能够区分用户输入的对象，当一个元素有焦点的时候，那么他就可以接收用户的输入</p>
<p>我们可以通过一些方式给元素设置焦点  1.点击  2.tab  3.js</p>
<p>不是所有元素都能够获得焦点，能够响应用户操作的元素才有焦点 </p>
<pre><code>window.onload=function(){
 var oText=document.getElementById(text1);
   oText.onfocus=function(){
      if(this.value==&apos;请输入内容&apos;)；
         this.value=&apos;&apos;;
         }
    oText.onblur=function(){
      if(this.value==&apos;&apos;)；
         this.value=&apos;请输入内容&apos;;
   }
 }

 &lt;input type=&quot;text&quot; value=&quot;请输入内容&quot; id=&quot;text1&quot;&gt;
</code></pre><p>js实现自动获取焦点：  obj.focus();</p>
<p>js 取消指定元素焦点   obj.blur();</p>
<p>选择指定元素里面的文本内容   obj.select();       设置一个全选按钮，点击后对象里的东西全选</p>
<p>2.event :当一个事件发生的时，和当前这个对象发生的这个事件有关的一些详细信息都会被临时保存到一个指定的地方-event对象，供我们在需要的时候调用</p>
<p> onmousemove ：当鼠标在一个元素上面移动的触发</p>
<p>3.事件冒泡（√√合理利用 能省去大量代码） : 当一个元素接收到事件的时候，会把他接收到的所有传播给他的父级，一直到顶层window.事件冒泡机制</p>
<p>4.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">document.onclick = fn1;</span><br><span class="line"></span><br><span class="line">document.onclick = fn2;	//会覆盖前面绑定fn1</span><br></pre></td></tr></table></figure>
<p>解决方法：  给一个对象的同一个事件绑定多个不同的函数</p>
<pre><code>function bind(obj, evname, fn) {
if (obj.addEventListener) {
obj.addEventListener(evname, fn, false);
} else {
obj.attachEvent(&apos;on&apos; + evname, function() {
fn.call(obj);
});
}
}

bind(document, &apos;click&apos;, fn1);
</code></pre><p>ie：obj.attachEvent(事件名称，事件函数);<br>    1.没有捕获<br>    2.事件名称有on<br>    3.事件函数执行的顺序：标准ie-》正序   非标准ie-》倒序<br>    4.this指向window<br>标准：obj.addEventListener(事件名称，事件函数，是否捕获);<br>    1.有捕获<br>    2.事件名称没有on<br>    3.事件执行的顺序是正序<br>    4.this触发该事件的对象</p>
<pre><code>是否捕获 : 默认是false    false:冒泡 true：捕获


   document.attachEvent(&apos;onclick&apos;, fn2);
   document.addEventListener(&apos;click&apos;, fn2, false);
   document.attachEvent(&apos;onclick&apos;, function() {
        fn1.call(document);   // fn.call()可以改变this的指向，在attachEvent下指向window
  });
  fn1() == fn1.call();
   call 函数下的一个方法，call方法第一个参数可以改变函数执行过程中的内部this的指向，call方法第二个参数开始就是原来函数的参数列表
   fn1.call(null)指向原来指向的对象，
</code></pre><ol>
<li><p>告诉div1，如果有一个出去的事件触发了你，你就去执行fn1这个函数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">oDiv1.addEventListener(&apos;click&apos;, fn1, false);</span><br></pre></td></tr></table></figure>
<p>告诉div1，如果有一个进去的事件触发了你，你就去执行fn1这个函数</p>
</li>
</ol>
<pre><code>oDiv1.addEventListener(&apos;click&apos;, fn1, true);
oDiv1.addEventListener(&apos;click&apos;, function() {
    alert(1);
}, false);
oDiv1.addEventListener(&apos;click&apos;, function() {
    alert(3);
}, true);
oDiv3.addEventListener(&apos;click&apos;, function() {
    alert(2);
}, false);   //  3   2   1   点击事件后从外到里依次排查
</code></pre><ol>
<li>事件函数的取消   obj.onclick=null;也可以取消</li>
</ol>
<pre><code>ie : obj.detachEvent(事件名称，事件函数);
标准 : obj.removeEventListener(事件名称，事件函数，是否捕获);
document.detachEvent(&apos;onclick&apos;, fn1);
document.removeEventListener(&apos;click&apos;, fn1, false);  
</code></pre><ol>
<li><p>onkeydown : 当键盘按键按下的时候触发<br>onkeyup : 当键盘按键抬起的时候触发</p>
<p>event.keyCode : 数字类型 键盘按键的值 键值<br>ctrlKey,shiftKey,altKey 布尔值<br>当一个事件发生的时候，如果ctrl || shift || alt 是按下的状态，返回true，否则返回false</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">document.onkeydown = function(ev) &#123; </span><br><span class="line">     var ev = ev || event;</span><br><span class="line">     (√)alert(ev.keyCode);   </span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>8.键盘事件    不是所有元素都能够接收键盘事件，能够响应用户输入的元素，能够接收焦点的元素就能够接收键盘事件</p>
<pre><code>onkeydown : 如果按下不抬起，那么会连续触发
  document.onkeydown = function(ev) {
  var ev = ev || event;
  switch(ev.keyCode) {
        case 37:
            oDiv.style.left = oDiv.offsetLeft - 10 + &apos;px&apos;;   //左移键
            break;
        case 38:
            oDiv.style.top = oDiv.offsetTop - 10 + &apos;px&apos;;    //上移键
            break;
        case 39:
            oDiv.style.left = oDiv.offsetLeft + 10 + &apos;px&apos;;   //右移键
            break;
        case 40:
            oDiv.style.top = oDiv.offsetTop + 10 + &apos;px&apos;;    //下移键
            break;
    }
}
</code></pre><ol>
<li><p>事件默认行为：当一个事件发生的时候浏览器自己会默认做的事情</p>
<p>怎么阻止？  当前这个行为是什么事件触发的，然后在这个事件的处理函数中使用return false;</p>
<p>oncontextmenu:  右键菜单事件，当右键菜单（环境菜单）显示出来的时候触发</p>
<p> document.oncontextmenu=function(){</p>
<pre><code>return false;
</code></pre><p> }    //右击菜单不显示  用一个自己写的div进行代替<br> document.oncontextmenu=function(ev){<br> var ev=ev||event;<br> oDiv.style.display=”block”;<br> oDiv.style.left=ev.clientX+’px’;<br> oDiv.style.top=ev.clientY+’px’;<br> return false;<br> }</p>
</li>
<li>onmousedown : 选择元素<br>onmousemove : 移动元素<br>onmouseup   : 释放元素</li>
</ol>
<ol>
<li><p>aInput[0].setCapture();    //设置全局捕获 ，当我们给一个元素设置全局捕获以后，</p>
<p>那么这个元素就会监听后续发生的所有事件，当有事件发生的时候，</p>
<p>就会被当前设置了全局捕获的元素所触发</p>
</li>
</ol>
<pre><code>/*
ie : 有，并且有效果
ff : 有，但是没效果
chrome : 没有
*/

​
    aInput[0].onclick = function() {
       alert(1);
     }

     aInput[1].onclick = function() {
        alert(2);
     }

     aInput[0].setCapture();   为了解决非IE的默认行为
</code></pre><ol>
<li><p>拖拽的时候，如果有文字被选中，会产生问题</p>
<p> 原因：当鼠标按下的时候，如果页面中有文字被选中，那么会触发浏览器默认拖拽文字的效果</p>
<p> 解决：<br>   标准：阻止默认行为     在最后加上return false;<br>   非标准ie：全局捕获     obj.setCapture();<br>拖拽图片会有问题，原因，解决的办法同上</p>
<p>释放全局捕获 releaseCapture();   在onmousedown下进行全局捕获   在onmouseup下进行释放</p>
</li>
</ol>
<pre><code>设置全局捕获   return false  都是为了解决事件的默认行为      

阻止冒泡： 当前要阻止冒泡的事件函数中调用 event.cancelBubble = true;
</code></pre><p>​        </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/03/20/DOM + BOM/" data-id="cjez7tlck0000fwuqjy4mz7us" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-html + css" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/20/html + css/" class="article-date">
  <time datetime="2018-03-20T04:33:22.057Z" itemprop="datePublished">2018-03-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/03/20/html + css/">HTML + CSS</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>   Ctrl+shift+D ==&gt; 复制本行     Ctrl+shift+K ==》 删除本行     </p>
<p>   Tab=》缩进    Shift+Tab ==》反缩进    Shift+Tab ==&gt; 切换</p>
<p>   text-indent:2em; 首行空两个汉字的格，单位比较奇怪，叫做em，em就是汉字的一个宽度  </p>
<p>！！！  <strong><a href="javascript:;" target="_blank" rel="noopener"></a></strong>   不要用# （致命） 会跳到页面的顶端 如果是要让页面原地不动，就用javascript:;  我们要×广告也用这个</p>
<p>– 网页的稳定：width  height 最稳定，其次是padding  最后再考虑margin</p>
<p>  可以用宽度剩余法  高度剩余法  尽量不要用margin</p>
<p>– 父级盒子刚好被两个子块级元素撑满，应为两个块级之间肯定会有缝隙，导致子盒子不能并列，会掉下来，我们给两个子盒子加浮动就可以解决问题</p>
<p>– 行类元素有padding-left,padding-right,margin-left,margin-right    但是没有上下，  块级元素都有</p>
<p>– 利用定位使我们的元素版块居中，可以实现类似响应式的效果  随着网页大小的变化，网页在中央的内容不会随着拖动窗口而变化</p>
<p>   京东的底部   position:absolute;  left:50%;  margin-left:一个模块的宽度  或者是  margin-right: ~~</p>
<p>— 如果我们希望背景上面有内容，而不是被背景位置给挤掉，我们可以通过绝对定位（相对定位不脱标）或者浮动，让背景图片脱离标准流给内容让位</p>
<p>   这时候父级要相对定位，子绝父相，  但是不要给父级加高，他占位置</p>
<p>— 标准流中，如果自己没有设定宽度，就和父级一样宽   定位的盒子，宽度和自己的内容一样宽，和父级没有任何关系，想和父级一样宽就 width:100%;</p>
<p>— 如果都有定位，他们默认的层级 z-index=0   最后一个定位更靠上 层级更高</p>
<p>   <strong>我们提高层级是提高父级的层级</strong></p>
<p>—！！！ 我们很多li进行并排，加了边框之后，会掉下来，但是他的父辈给了足够的宽度，解决办法：</p>
<h4 id="我们给这些li加一个盒子给包起来，给这个盒子足够的宽让他能够并列，比如给ul一个足够的宽，然后让ul的父辈"><a href="#我们给这些li加一个盒子给包起来，给这个盒子足够的宽让他能够并列，比如给ul一个足够的宽，然后让ul的父辈" class="headerlink" title="我们给这些li加一个盒子给包起来，给这个盒子足够的宽让他能够并列，比如给ul一个足够的宽，然后让ul的父辈"></a>我们给这些li加一个盒子给包起来，给这个盒子足够的宽让他能够并列，比如给ul一个足够的宽，然后让ul的父辈</h4><h4 id="overflow-hidden-就隐藏看不见了"><a href="#overflow-hidden-就隐藏看不见了" class="headerlink" title="overflow:hidden; 就隐藏看不见了"></a>overflow:hidden; 就隐藏看不见了</h4><p>  BFC : 创建一个区域，这个区域与外部毫不相干  （就是脱标之后的区域）</p>
<p>  哪些元素会生成BFC: </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> (1)根元素html  </span><br><span class="line"> (2)float属性不为no浮动框   </span><br><span class="line"> (3)position为absolute 或fixed </span><br><span class="line"> (4)display为inline-block  </span><br><span class="line"> (5)overflow为不是visible的边框  </span><br><span class="line">（6）触发IE的hasLayout特性</span><br></pre></td></tr></table></figure>
<p>  BFC的作用： 清除浮动问题    解决margin合并问题     多栏布局</p>
<p> —  继承父级的宽度，加padding值不会撑开盒子   我们经常给了固定的宽度高度给盒子，想让盒子里面的内容向右一点，这时候我们在里面再加一个盒子</p>
<p> 这样，他继承了父亲的宽度（不继承高，只有内容高度，需要高度自己加），加padding-left不会对盒子的大小造成影响</p>
<p> —清除图片下边距3px 方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vertical-align:top;  /  display:block;</span><br></pre></td></tr></table></figure>
<pre><code>document.body.style.overflow=&quot;hidden&quot;; 不显示滚动条
document.body.style.overflow=&quot;visible&quot;; 显示..
</code></pre><p>–  解决块级元素排列为一行后之间的间距问题： 由于换行造成的</p>
<pre><code>1. 给父级元素加 font-size:0;  再给有间距之间的块级元素加 font-size:20px; display:inline-block;
2. 设置 字符间距  （两个标签之间的距离） letter-spacing:-10px; 一个负值
   单词间距  word-spacing:-10px; 
3. 最好的方式  float:left;  脱离了标准流  没有间距  兼容性也好
</code></pre><ol>
<li><p>html标签分为容器级和文本级标签</p>
<p>容器级：能放任何东西</p>
<p>文本级标签：只能放文字、图片、表单元素</p>
<p>如： p为文本级标签，p里面只能放文字、图片、表单元素，其他的都不能放，</p>
</li>
</ol>
<p>​         比如说</p><h2></h2> <p></p>等都不能放<p></p>
<ol>
<li><p>锚  <a href="#add"></a>   比如这是目录的链接</p>
<pre><code>&lt;h2&gt;&lt;a name=&quot;add&quot;&gt;&lt;/a&gt;&lt;/h2&gt;   这是文中的一个段落，点击目录可以跳到指定位置  
也可以跳到其他页面 &lt;a href=&quot;a.html#add&quot;&gt;&lt;/a&gt;
</code></pre></li>
<li><p>单封闭标签==》 <strong><img></strong>  一定要封闭</p>
</li>
<li><p>a标签的三个属性   href  title是鼠标悬停时的内容  target=”_blank” 写了就代表在新的窗口打开，否则就是在本窗口打开</p>
</li>
</ol>
<p>选择器包括：标签选择器、类选择器、id选择器、后代选择器、交集选择器、并集选择器、通配符（*）</p>
<pre><code>CSS3选择器---》 儿子选择器、序选择器、下一个兄弟选择器
</code></pre><ol>
<li><p>儿子选择器—— IE7开始兼容，IE6不兼容 （CSS3） —-  div&gt;p { color:red;}   必须是儿子     </p>
<p>后代选择器 div p { color:red;}    是它的后代就行  IE6及以上都兼容</p>
<p>交集选择器，我们一般都是以标签名开头，比如  div.haha</p>
<p>并集选择器，用逗号就表示并集  —  h3,li  { color:red;}</p>
<p>序选择器(CSS3)– — IE8开始兼容；IE6、7都不兼容   ul li:first-child{ } – — ul li:last-child{ }</p>
<p>=====&gt; 由于浏览器的更新需要过程，所以现在如果公司还要求兼容IE6、7，那么就要自己写类名</p>
</li>
</ol>
<p>用类选择器来选择第一个或者最后一个======&gt; ul li.first{}  、  ul li.last{}</p>
<p>下一个兄弟选择器（CSS3）— IE7开始兼容，IE6不兼容   +表示选择下一个兄弟 —》h3+p{ }  选择的是h3元素后面紧挨着的第一个兄弟</p>
<p>6  学生要知道典型的IE6兼容问题（面试要问），但是做项目我们兼容到IE8</p>
<p> 7.CSS的继承性和层叠性</p>
<p>  有一些属性，当给自己设置的时候，自己的后代都继承上了，这个就是继承性。</p>
<p>  能继承的：color、 text-开头的、line-开头的、font-开头的。</p>
<p>  ——这些关于文字样式的，都能够继承； 所有关于盒子的、定位的、布局的属性都不能继承。</p>
<p> 层叠性：就是css处理冲突的能力。 所有的权重计算，没有任何兼容问题！—- 就是被覆盖了</p>
<p>—-当选择器，选择上了某个元素的时候，那么要这么统计权重： id的数量，类的数量，标签的数量  依次比较，谁大就取决于谁</p>
<p>—-如果权重一样，那么以 后写的为准</p>
<p>—-如果不能直接选中某个元素，通过继承性影响的话，那么权重是0。</p>
<p>—-如果大家都是0，那么有一个就近原则：谁描述的近，听谁的。</p>
<pre><code>总结：选择上了，数权重，(id的数量，类的数量，标签的数量)。如果权重一样，谁写在后面听谁的。 
     没有选择上，通过继承影响的，就近原则，谁描述的近听谁的。如果描述的一样近，比如选择器权重，如果权重再      一样重，谁写在后面听谁的。
</code></pre><ol>
<li><p>!important;   来给一个属性提高权重。这个属性的权重就是无穷大——》 !important提升的是一个属性，而不是一个选择器</p>
<p>font-size:60px !important;  正确写法  这里就是字体的大小提升了权重</p>
</li>
</ol>
<p>1）—– !important无法提升继承的权重，该是0还是0   </p>
<p>   如：<div><p>哈哈哈哈哈哈哈哈</p></div><br>      div{ color:red !important;}<br>      p{ color:blue;}<br>——div是通过继承性来影响文字颜色的，所以!important无法提升它的权重，权重依然是0。干不过p标签，字是蓝色的</p>
<p>2)—–!important不影响就近原则  (远的，永远是远的。不能给远的写一个important，干掉近的)</p>
<p>!!!!!!!!!! –  ! important做站的时候，不允许使用。因为会让css写的很乱。</p>
<pre><code>标签的权重是--&gt;1    类 -&gt; 10   id---&gt; 100   行内---&gt;1000  
</code></pre><ol>
<li><p>盒模型</p>
<p>（1）一个盒子中主要的属性就5个：width、height、padding、border、margin。</p>
<p> width：CSS中width指的是内容的宽度，而不是盒子的宽度。<br> height：CSS中height指的是内容的高度，而不是盒子的高度</p>
<p>（2）真实占有宽度=  左border  +  左padding  +  width  +  右padding  +  右border</p>
<p>（3）background-color将填充所有boder以内的区域，padding的区域有背景颜色也包括在内</p>
<p>（4） 不能把小属性，写在大属性前面。大属性，层叠掉了他们 {padding-left: 30px; padding: 20px;} 错误的</p>
<p>（5）边框：追求极高的页面还原度，那么不能使用css来制作边框，切图。比较稳定的就几个：solid、dashed、dotted</p>
<p>（6）border是由三个小属性综合而成：border-width  border-style   border-color</p>
<p>border-top/right/bottom/left:10px solid red;  </p>
<p>border-right/top/left/bottom-color/style/width:blue;</p>
<p>border-style:solid dashed;  上右下左</p>
<p>10.标准文档流 微观现象 ：</p>
<p>（1）空白折叠现象–（我们想让img标签之间没有空隙，必须紧密连接）<br>（2）高矮不齐，底边对齐  （3）自动换行 一行写不满，换行写</p>
<h4 id="标准流里面限制非常多，标签的性质恶心——-脱离标准文档流"><a href="#标准流里面限制非常多，标签的性质恶心——-脱离标准文档流" class="headerlink" title="标准流里面限制非常多，标签的性质恶心—— 脱离标准文档流"></a>标准流里面限制非常多，标签的性质恶心—— 脱离标准文档流</h4></li>
</ol>
<h4 id="1）-浮动-2）-绝对定位-3）-固定定位"><a href="#1）-浮动-2）-绝对定位-3）-固定定位" class="headerlink" title="1） 浮动  2） 绝对定位   3） 固定定位"></a>1） 浮动  2） 绝对定位   3） 固定定位</h4><ol>
<li>浮动 </li>
</ol>
<p>一个浮动的a、span ，是不需要设置display:block; 就能够设置宽高了。因为浮动之后，脱离标准流了，所以标准流里面的法律、规则都不适用了。</p>
<p>性质：1 一旦一个元素浮动了，那么脱离了标准文档流，将能够并排了，并且能够设置宽高了。无论它原来是个div还是个span </p>
<p>写代码的时候加display:block; 多余的      不再关注行内元素和块级元素</p>
<p> 2 一旦一个元素加上了浮动，那他就脱离了标准文档流。其他没有加浮动的话，认为自己是标准文档第一个元素，位置也会发生变化</p>
<p>3 浮动的元素相互贴靠 </p>
<p> 4 浮动的元素有“字围”效果  让图片img元素进行浮动，文字元素不浮动 （ 浮动的元素能挡住盒子，但是挡不住盒子里面的字）</p>
<p> 5 收缩：一个浮动的元素，如果没有设置width，那么将自动收缩为文字的宽度     </p>
<p>浮动这个东西，我们在初期一定要遵循一个原则：永远不是一个东西单独浮动，浮动都是一起浮动，要浮动，大家都浮动</p>
<ol>
<li>清除浮动方法</li>
</ol>
<p>1 给浮动的元素的祖先元素加高度 – （如果一个元素要浮动，那么它的祖先元素一定要有高度。高度的盒子，才能关住浮动。）</p>
<p>只要浮动在一个有高度的盒子中，那么这个浮动就不会影响后面的浮动元素 </p>
<p>用的很少：网页制作中，高度height很少出现 ， 因为能被内容撑高</p>
<p>2  clear:both; clear就是清除，both指的是左浮动、右浮动都要清除。意思就是：清除别人对我的影响</p>
<p>   ！！  这种方法有一个非常大的、致命的问题，margin失效了。</p>
<p> 3 隔墙法 就是加一个div进行分割，这个div先进行clear:both；再加一个高</p>
<p>4 overflow:hidden; 溢出隐藏  在浮动的父级加</p>
<p> 一个父亲不能被自己浮动的儿子，撑出高度。但是，只要给父亲加上overflow:hidden; 那么，父亲就能被儿子撑出高了。</p>
<pre><code>清除浮动总结：
（1）加高法 如果盒子内部有浮动，这个盒子有高，那么妥妥的，浮动不会互相影响。但是，工作上，我们绝对不会给所有的盒子加高度，这是因为麻烦，并且不能适应页面的快速变化。
（2）clear:both;法  -- 表示自己的内部元素，不受其他盒子的影响，浮动确实被清除了，不会互相影响了。
  但是有一个问题，就是margin失效。两个div之间，没有任何的间隙了
（3）隔墙法 ：在两部分浮动元素中间，建一个墙。隔开两部分浮动，让后面的浮动元素，不去追前面的浮动元素。墙用自己的身体当做了间隙  但是他的父级，还是没有高度，不能被浮动的儿子撑起高度
    内墙法：内墙法的优点就是，不仅仅能够让后部分的p不去追前部分的p了，并且能把第一个div撑出高度。
   这样，这个div的背景、边框就能够根据p的高度来撑开了  和浮动元素并列加一个 
   &lt;div class=&quot;aa&quot;&gt;&lt;/div&gt;  .aa{ clear:both;}
（4）overflow:hidden;  一个父亲，不能被自己浮动的儿子撑出高度，但是，如果这个父亲加上了overflow:hidden；
      那么这个父亲就能够被浮动的儿子撑出高度了。
      这个现象，不能解释，就是浏览器的小偏方，并且,overflow:hidden;能够让margin生效          
</code></pre><p> 13.块级元素和行内元素   标准文档流中，标签分为两种：块级元素、行内元素</p>
<p>   (1)块级元素: 霸占一行，不能与其他任何元素并列 , 能接受宽、高 , 如果不设置宽度，</p>
<p>​      那么宽度将默认变为父亲的100%。</p>
<p>   (2)行类元素：与其他行内元素并排 ，不能设置宽、高。默认的宽度，就是文字的宽度。</p>
<pre><code>文本级：p、span、a、b、i、u、em

容器级：div、h系列、li、dt、dd
</code></pre><p> —- 所有的文本级标签，都是行内元素，除了p，p是个文本级，但是是个块级元素</p>
<p>—– 所有的容器级标签都是块级元素。</p>
<p>  （3）块级元素和行内元素的相互转换</p>
<p>  display: inline;  这个标签将立即变为行内元素。此时它和一个span无异，</p>
<p>​                            此时这个div不能设置宽度、高度，可 以和别人并排</p>
<p> display: block;  标签变为块级元素。此时这个标签，和一个div无异， 此时这个span能够设置宽度、高度</p>
<p>​                            这个 span必须霸占一行了，别人无法和他并排，如果不设置宽度，将撑满父级</p>
<h3 id="14-浏览器兼容问题"><a href="#14-浏览器兼容问题" class="headerlink" title="14 浏览器兼容问题"></a>14 浏览器兼容问题</h3><p>  如果遇到图片的半透明现象，为了兼容，我们不用透明度，而用一个半透明背景图片解决</p>
<p>在谷歌浏览器中，不支持12px以下大小的盒子和字体</p>
<p>   1）IE6，不支持小于12px的盒子，任何小于12px的盒子，在IE6中看都大    </p>
<pre><code>解决办法：将盒子的字号，设置小（小于盒子的高），比如0px，只要小于盒子的高度就行
           height: 4px;     _font-size: 0px;
</code></pre><p> 浏览器hack：hack就是“黑客”，就是使用浏览器提供的后门，针对某一种浏览器做兼容</p>
<p> IE6留了一个后门，就是只要给css属性之前，加上下划线，这个属性就是IE6认识的专有属性 _background-color: green; 只有IE6认识</p>
<p>  2）IE6不支持用overflow:hidden;来清除浮动的</p>
<h4 id="解决办法：以毒攻毒。追加一条-zoom-1-zoom-1-能够触发浏览器hasLayout机制-，-就IE6有"><a href="#解决办法：以毒攻毒。追加一条-zoom-1-zoom-1-能够触发浏览器hasLayout机制-，-就IE6有" class="headerlink" title="解决办法：以毒攻毒。追加一条  _zoom:1;    _zoom:1;能够触发浏览器hasLayout机制 ， 就IE6有"></a>解决办法：以毒攻毒。追加一条  _zoom:1;    _zoom:1;能够触发浏览器hasLayout机制 ， 就IE6有</h4><h4 id="完整写法：overflow-hidden-zoom-1"><a href="#完整写法：overflow-hidden-zoom-1" class="headerlink" title="完整写法：overflow: hidden;   _zoom:1;"></a>完整写法：overflow: hidden;   _zoom:1;</h4><p><strong>强调一点</strong>，<br>    overflow:hidden;就是溢出盒子的border的东西隐藏，这个功能是IE6兼容的。<br>    overflow:hidden;表示清除浮动的时候不兼容<br>写一条hack来解决，我们称为伴生属性 </p>
<p>关于margin的IE6兼容问题</p>
<p>   3）IE6双倍margin bug – 当出现连续浮动的元素，携带和浮动方向相同的margin时，第一个浮动元素，会双倍marign</p>
<pre><code>解决方案：使浮动的方向和margin的方向，相反（前端开发工程师，把这个当做习惯） 左浮动就margin-right      
使用hack（没必要，别惯着这个IE6） _margin-left:20px; 第一个浮动元素写
</code></pre><p>   4）IE6的3px bug  子元素进行右浮动，margin-right的值会多加3px – 不用管，因为根本就不允许用儿子踹父亲</p>
<h4 id="15-margin"><a href="#15-margin" class="headerlink" title="15   margin"></a>15   margin</h4><p>   1）margin的塌陷现象： 在标准文档流中，竖直方向的margin不叠加，以较大的为准，</p>
<p>​           上面的盒子 margin-bottom:50px; 下面那个盒子 margin-top:20px; 则以50为准，不进行叠加</p>
<p>  2） 如果不在标准流，比如盒子都浮动了，那么两个盒子之间是没有塌陷现象的，可以进行叠加</p>
<p>  3） 盒子居中margin:0 auto;</p>
<pre><code>使用margin:0 auto; 的盒子，必须有width，有明确的width
只有标准流的盒子，才能使用margin:0 auto; 居中。也就是说，当一个盒子浮动了、绝对定位了、固定定位了，都不能使用margin:0 auto;
margin:0 auto;是在居中盒子，不是居中文本。文本的居中，要使用text-align:center;  它默认居左
</code></pre><p>  4）善于使用父亲的padding，而不是儿子的margin</p>
<pre><code>margin这个属性，本质上描述的是兄弟和兄弟之间的距离； 最好不要用这个marign表达父子之间的距离
</code></pre><p>16  行高、字号，一般都是偶数</p>
<p>行高=盒子高 ,只适用于单行文本垂直居中！！不适用于多行。—-  如果想让多行文本垂直居中，需要设置盒子的padding</p>
<p> line-height:20px;  4行文字  盒子的高度为200px   padding:(200-80)/2 px;</p>
<p>行高可以用百分比，表示字号的百分之多少，一般来说，都是大于100%的，因为行高一定要大于字号</p>
<p>font:12px/200% “宋体” 等价于 font:12px/24px;</p>
<p> 17  使用font属性，能够将字号、行高、字体，能够一起设置   font: 14px/24px “宋体”,”微软雅黑”;</p>
<pre><code>字体：中文我们只使用： 微软雅黑、宋体、黑体    英语：Arial 、 Times New Roman
</code></pre><p>为了防止用户电脑里面，没有微软雅黑这个字体。备选字体可以有无数个，用英语的逗号隔开</p>
<p>我们要将英语字体，放在最前面，这样所有的中文，就不能匹配英语字体，就自动的变为后面的中文字体 font-family: “Times New Roman”,”微软雅黑”,”宋体”;</p>
<pre><code>font-family: &quot;Microsoft YaHei&quot;,&quot;SimSun&quot;;   微软雅黑、宋体
</code></pre><p> 18  超级链接a标签有4种伪类</p>
<p>// a:link      表示， 用户没有点击过这个链接的样式。 是英语“链接”的意思。</p>
<p> // a:visited 表示， 用户访问过了这个链接的样式。 是英语“访问过的”的意思。<br>     a:hover    表示， 用户鼠标悬停的时候链接的样式。 是英语“悬停”的意思。<br>     a:active    表示， 用户用鼠标点击这个链接，但是不松手，此刻的样式。 是英语“激活”的意思</p>
<p>这四种状态，在css中，必须按照固定的顺序写：a:link 、a:visited 、a:hover 、a:active  如果不按照顺序，那么将失效</p>
<p>写样式的时候  a标签写在前面，伪类写在后面 –&gt; a标签中，描述盒子； 伪类中描述文字的样式、背景</p>
<p>a:link、a:visited都是可以省略的，简写在a标签里面。也就是说，a标签涵盖了link、visited的状态</p>
<p>!!!  所有的a不继承text、font这些东西。因为a自己有一个伪类的权重</p>
<p>  19  十六进制中，13 这个数字表示?  开头这位表示多少个16，末尾这位表示多少个1  16*1+3=19 (这是10进制)   #ff0000就等于rgb(255,0,0)</p>
<p>任何一种十六进制表示法，都能够换算成为rgb表示法</p>
<p>十六进制可以简化为3位，所有#aabbcc的形式，能够简化为#abc</p>
<pre><code>要记住：#000 黑   #fff 白  #f00 红   #333 灰    #222 深灰   #ccc 浅灰
</code></pre><p>  20  background-position: 描述左右的词儿  描述左右的词儿： left、 center、right    描述上下的词儿： top 、center、bottom</p>
<pre><code>background-position: right bottom; 右下 

background-image:url(images/1.jpg);  路径不加引号

background-attachment:fixed;   背景就会被固定住，不会被滚动条滚走

background:red url(1.jpg) no-repeat 100px 100px fixed;
</code></pre><p> 21  定位有三种，分别是相对定位、绝对定位、固定定位</p>
<pre><code>相对定位：position:relative;   相对定位不脱标，真实位置是在老家，只不过影子出去了，可以到处飘 
绝对定位：position:absolute;  绝对定位的盒子，是脱离标准文档流的。所以，所有的标准文档流的性质，绝对定位之后都不遵守了

绝对定位之后，标签就不区分所谓的行内元素、块级元素了，不需要display:block;就可以设置宽、高了

绝对定位的参考点，如果用top描述，那么定位参考点就是页面的左上角（滚动条），而不是浏览器的左上角 

如果用bottom描述，那么就是浏览器首屏窗口尺寸，对应的页面的左下角

以盒子为参考点：一个绝对定位的元素，如果父辈元素中出现了也定位了的元素，那么将以父辈这个元素，为参考点
要听最近的已经定位的祖先元素的，不一定是父亲，可能是爷爷
不一定是相对定位，任何定位，都可以作为参考点  -- 父辈是绝对定位也可以
子绝父绝、子绝父相、子绝父固，都是可以给儿子定位的。但是，工程上子绝、父绝，没有一个盒子在标准流里面了，
所以页面就不稳固，没有任何实战用途，程上，“子绝父相”有意义，父亲没有脱标，儿子脱标在父亲的范围里面移动
如果父辈相对定位，并且有padding和border  他的儿子绝对定位，以padding的左上角为参考点，在border内部
 绝对定位的盒子居中：绝对定位之后，所有标准流的规则，都不适用了。所以margin:0 auto;失效
 解决办法：position: absolute;  left: 50%;  margin-left: -300px;   → 宽度的一半

固定定位：position:fixed;    固定定位，就是相对浏览器窗口定位。页面如何滚动，这个盒子显示的位置不变 ---- &gt; 固定定位脱标
 IE6不兼容
</code></pre><p> 22  z-index</p>
<p>   1）z-index值表示谁压着谁。数值大的压盖住数值小的<br>   2）只有定位了的元素，才能有z-index值。也就是说，不管相对定位、绝对定位、固定定位，</p>
<p>​             都可以使用z-index值。而浮动的东西不能用<br>   3）z-index值没有单位，就是一个正整数。默认的z-index值是0<br>   4）如果大家都没有z-index值，或者z-index值一样，那么谁写在HTML后面，谁压住谁<br>   5）定位了的元素，永远能够压住没有定位的元素<br>   6）从父现象：父亲怂了，儿子再牛逼也没用</p>
<p>  23 修饰图标的标签：</p>
<pre><code> s   del ---&gt; 删除线         i em --&gt;  倾斜     u  ins -&gt; 下划线

text-decoration:none;        font-style:none;     text-decoration:none;
</code></pre><p>  定位： position:static;   静态定位   约等于标准流</p>
<p>  浮动的不浮动：  float:none;     浮动有 none left right</p>
<p>  定位的不定位： position:static;   定位有 relative  absolite  fixed   </p>
<p>  一个网页，页面中每个盒子基本上都是 static   比如说，我们淘宝页面，从下面往上滚动时，搜索栏由固定定位变成不定位 position:static;</p>
<p>  清除浮动  真名  闭合浮动····</p>
<p>  清除浮动最常用的方式： 双伪元素  .clearfix为父级的类</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.clearfix &#123; *zoom:1;&#125;   为了解决IE6</span><br><span class="line">.clearfix:before,.clearfix:after &#123; content:&apos;&apos;; display:table;&#125;</span><br><span class="line">.clearfix:after &#123; clear:both;&#125;</span><br></pre></td></tr></table></figure>
<p>  浮动的目的： 为了让块级元素在一行显示  </p>
<p>  清除浮动的目的： 为了给父级盒子一个高  根据子元素内容撑开的高</p>
<p>  鼠标的样式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cursor:pointer;   鼠标变成小手</span><br><span class="line">cursor:default;   默认是箭头的样式</span><br><span class="line">cursor:move;      就是拖动样式，十字架</span><br><span class="line">cursor:text;      就是文本I样式</span><br></pre></td></tr></table></figure>
<p>  在CSS页面，写颜色可以简写 比如说#fff   但是在HTML页面不允许，必须写成#ffffff  不然会出错</p>
<p>  标签的嵌套： </p>
<p>​      1. 块级元素：– 任何元素都可以</p>
<p>​      2. 行内元素 ： – 行内元素  </p>
<p>​           !!!!!!!        p 里面不能放 div</p>
<p>​      4. 到h5里面， a里面可以放任何东西，无所不能 div也行 —&gt;  但是a里面不能放a  input</p>
<p>— 行内元素变成块级元素后，如a  进行display:block;   他可以继承父级的宽度，但是不继承高度，需要自己写</p>
<p>   但是我们在给这个没有设置宽度的行内元素加 paading-left时，只要我们不加宽度的值，就不会撑大盒子</p>
<p>— 当层级不够的时候，先调父级的层级  定位  +  z-index      定位的层级高于没定位的元素</p>
<p>   ????— 多个盒子并列在一排时，盒子之间的border会变成双倍…</p>
<pre><code>我们需要 margin-left:-1px;  解决问题
</code></pre><p>  ??? — 鼠标放上去后让边框变色，就会出现层级低被压住了一边</p>
<p>​    1)父亲没有定位时， 我们用 div:hover{ position:relative; border:1px solid #ddd; }</p>
<p>   这个定位我们用相对定位提高层级，但是不能用绝对定位，因为决定定位不占位置，会让标准流的盒子左移，改变布局，使界面混乱</p>
<p>​    2）如果父级有相对定位：我们通过div:hover{ z-index:1; border:1px solid #ddd; }解决问题</p>
<p>– ——  定位中只有相对定位不脱标， 没有定位的盒子没有层级 z-index</p>
<p>  背景半透明：</p>
<p>—-  我们不用 opacity  因为他会让盒子半透明，里面的内容也半透明</p>
<p>  CSS3  滤镜  —&gt;   background:rgba(0,0,0,0.5);</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/03/20/html + css/" data-id="cjez7tlcx0007fwuqdutv8p89" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-PHP_01.V5.0" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/20/PHP_01.V5.0/" class="article-date">
  <time datetime="2018-03-20T03:56:29.860Z" itemprop="datePublished">2018-03-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/03/20/PHP_01.V5.0/">第一天 服务端开发基础</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="每日目标"><a href="#每日目标" class="headerlink" title="每日目标"></a>每日目标</h2><ul>
<li>能够说出访问网址时请求与响应的流程</li>
<li>能够说出什么是IP、DNS、端口</li>
<li>能够安装并使用phpStudy</li>
<li>能够说出索引数组与关联数组的区别</li>
<li>能够声明和调用自定义函数</li>
<li>综合案例：<strong>水果列表案例</strong></li>
</ul>
<h2 id="建立你的第一个网站（大目标）"><a href="#建立你的第一个网站（大目标）" class="headerlink" title="建立你的第一个网站（大目标）"></a>建立你的第一个网站（大目标）</h2><blockquote>
<p><strong>前端开发</strong> 最终还是属于 <strong>Web 开发</strong> 中的一个分支，想要成为一名合格的前端开发人员，就必须要 <strong>充分理解 Web 的概念</strong>。</p>
</blockquote>
<p>构建一个专业的网站是一项巨大的工作！对于新手我们应该从小事做起，也就是说咱们不可能立马就要求自己能够开发出跟淘宝一样的电商平台，但是对咱们来说建立一个属于自己的 Blog 网站并不难（其实再大的系统也是由一些基础功能叠加出来的），所以咱们就从这个话题开始聊。</p>
<h2 id="如何建立一个-Blog-网站"><a href="#如何建立一个-Blog-网站" class="headerlink" title="如何建立一个 Blog 网站"></a>如何建立一个 Blog 网站</h2><blockquote>
<p>提问：到底什么是网站？</p>
<ul>
<li>可以在浏览器上通过一个地址直接访问使用</li>
<li>用于提供一种（或多种）特定服务的一系列具备相关性的网页组合的整体</li>
<li>例如：博客、门户、电商、在线教育等</li>
</ul>
</blockquote>
<p>有了明确的目标过后，我们需要规划具体的业务方案，学习特定的技能，完成各项功能，解决各种过程中出现的问题。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">s=&gt;start: 开始</span><br><span class="line">o1=&gt;operation: 明确业务</span><br><span class="line">o2=&gt;operation: 根据分析需求</span><br><span class="line">o3=&gt;operation: 设计功能</span><br><span class="line">o4=&gt;operation: 具体实现功能</span><br><span class="line">o5=&gt;operation: 部署上线</span><br><span class="line">e=&gt;end: 结束</span><br><span class="line">s-&gt;o1-&gt;o2-&gt;o3-&gt;o4-&gt;o5-&gt;e</span><br></pre></td></tr></table></figure>
<h3 id="之前学习了什么？"><a href="#之前学习了什么？" class="headerlink" title="之前学习了什么？"></a>之前学习了什么？</h3><p>在之前的学习过程中，我们很专注，没有关心这些东西在整体中是什么角色，起到什么作用。这里我们是时候总结一下我们之前学过了的内容：</p>
<ul>
<li>网页开发技术（硬性）<ul>
<li>HTML —— 网页内容结构（GUI）</li>
<li>CSS —— 网页外观样式（GUI）</li>
<li>JavaScript —— 编程语言（<strong>可以用于</strong>调用浏览器提供的 API）</li>
<li>Web APIs —— 网页交互（界面功能）</li>
<li>jQuery —— 便捷手段（糖果而已，不是必要的）</li>
</ul>
</li>
<li>编程能力 / 编程思想 / 解决问题的思路（软性）<ul>
<li>我要做什么（我要得到什么），我目前有什么（我能拿到什么）</li>
</ul>
</li>
</ul>
<p>至此，我们已经可以独立完成网页开发了，具体能完成的东西就是一个一个的网页，而且还能给这个页面加上一些动态的交互。但是这距离成为一个网站还有一些路要走。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">webpage=&gt;operation: 网页开发</span><br><span class="line">website=&gt;operation: 网站开发</span><br><span class="line">application=&gt;operation: 应用开发</span><br><span class="line"></span><br><span class="line">webpage(right)-&gt;website(right)-&gt;application</span><br></pre></td></tr></table></figure>
<h3 id="还需要学习什么？"><a href="#还需要学习什么？" class="headerlink" title="还需要学习什么？"></a>还需要学习什么？</h3><p>想要完成完整的 Web 网站，还需要学习什么？</p>
<ul>
<li>搭建 WEB 服务器（提供网站服务的机器）</li>
<li>服务端开发（动态网页技术）</li>
<li>HTTP（浏览器与服务端的通讯协议）</li>
<li>数据库操作（服务端存储数据方式）</li>
<li>AJAX（浏览器与服务端的数据交互方式）</li>
</ul>
<h3 id="访问一个网站时发生了什么？-重要"><a href="#访问一个网站时发生了什么？-重要" class="headerlink" title="访问一个网站时发生了什么？(重要)"></a>访问一个网站时发生了什么？(重要)</h3><p><img src="media/http-req-res.png" alt="HTTP请求和响应"></p>
<h2 id="什么是-Web-服务器"><a href="#什么是-Web-服务器" class="headerlink" title="什么是 Web 服务器"></a>什么是 Web 服务器</h2><blockquote>
<ul>
<li>服务器（提供服务）指的就是一台<strong>安装特定的软件的计算机</strong>，用于专门用于提供特定的服务。<ul>
<li>按照服务类型的不同，又划分为：Web 服务器、数据库服务器、文件服务器等等。</li>
</ul>
</li>
<li>客户端（使用服务）指的是在一次服务过程中使用这个服务的设备（网络端点）。<ul>
<li>目前咱们最常见的客户端就是浏览器</li>
</ul>
</li>
</ul>
</blockquote>
<p>我们手头上的这些网页，如果想要成为一个网站，首先要完成的第一件事就是有一台公共的 Web 服务器，把这一系列的页面放到这台 Web 服务器上，让用户可以通过服务器的地址访问到这些网页。</p>
<p><img src="media/web-server.png" alt="Web Server"></p>
<blockquote>
<p>思考：为什么不把这些网页放在我们自己电脑上呢？</p>
</blockquote>
<p>那么，哪里有这样的服务器呢？</p>
<p>我们手头上的电脑都可以是一台服务器，因为服务器是一个相对的概念，只要能提供服务就可以是一个服务器（提供服务的时候就是服务端，使用服务的时候就是客户端）。</p>
<p>既然服务器就是安装特定的软件的计算机，那么要让自己的成为 Web 服务器就是要安装一个 Web 服务器软件。</p>
<h3 id="C-S-架构与-B-S架构-重要"><a href="#C-S-架构与-B-S架构-重要" class="headerlink" title="C/S 架构与 B/S架构 (重要)"></a>C/S 架构与 B/S架构 (重要)</h3><blockquote>
<p>应用软件架构一般分为两类：</p>
<ul>
<li>B/S 架构：Browser（浏览器） ←→ Server（服务器），这种软件都是通过浏览器访问一个网站使用，服务器提供数据存储等服务。</li>
<li>C/S 架构：Client（客户端） ←→ Server（服务器），这种软件通过安装一个软件到电脑，然后使用，服务器提供数据存储等服务。</li>
</ul>
</blockquote>
<p>B/S的优点与缺点：</p>
<p>​    优点：部署方便(不用安装)，可维护性强。</p>
<p>​    缺点：用户体验不好</p>
<p>C/S的优点与缺点：</p>
<p>​    优点：用户体验好</p>
<p>​    缺点：部署不方便(用安装)，可维护性弱    </p>
<h3 id="Web-服务器软件分类（了解）"><a href="#Web-服务器软件分类（了解）" class="headerlink" title="Web 服务器软件分类（了解）"></a>Web 服务器软件分类（了解）</h3><ul>
<li>Nginx</li>
<li>Apache  -  php</li>
<li>IIS  -  C#    .net</li>
<li>Tomcat  -   java</li>
</ul>
<h3 id="安装-phpStudy"><a href="#安装-phpStudy" class="headerlink" title="安装 phpStudy"></a>安装 phpStudy</h3><p>这里我们选择一个简单易用的服务器软件集成环境，内部集合了我们需要使用的服务器软件Apache、服务端开发语言php的执行环境、以及数据库软件MySQL。</p>
<blockquote>
<ul>
<li>下载地址与使用说明：<a href="http://www.phpstudy.net/download.html" target="_blank" rel="noopener">http://www.phpstudy.net/download.html</a></li>
</ul>
</blockquote>
<p>安装方式如下，解压后，双击运行phpStudySetup.exe：</p>
<p><img src="media/day1/2018-01-30_172920.png" alt="2018-01-30_172920"></p>
<p>界面会提示安装路径，使用默认路径即可，点击<code>是</code>：</p>
<p><img src="media/day1/2018-01-30_172343.png" alt="2018-01-30_172343"></p>
<p>接下来等待安装完毕：</p>
<p><img src="media/day1/2018-01-30_172355.png" alt="2018-01-30_172355"></p>
<p>安装完毕后可能会弹出更新提示，跳过即可(如果没有则可忽略)。界面会呈现如下效果：</p>
<p><img src="media/day1/2018-01-30_172456.png" alt="2018-01-30_172456"></p>
<p>点击启动，等待左侧红点变为绿色即为启动成功，现在可以打开浏览器，在地址栏中输入localhost并点击回车，页面会显示<code>Hello World</code>，恭喜你，phpStudy成功的安装完毕啦！~</p>
<p><img src="media/day1/2018-01-30_174325.png" alt="2018-01-30_174325"></p>
<p><img src="media/day1/2018-01-30_172704.png" alt="2018-01-30_172704"></p>
<h2 id="网络基础概念（重要）"><a href="#网络基础概念（重要）" class="headerlink" title="网络基础概念（重要）"></a>网络基础概念（重要）</h2><h3 id="IP-地址"><a href="#IP-地址" class="headerlink" title="IP 地址"></a>IP 地址</h3><blockquote>
<p>Internet Protocol Address</p>
</blockquote>
<p>设备在某一个网络中的地址，目前最常见的格式：<code>[0-255].[0-255].[0-255].[0-255]</code> 即为四个 0-255 的数字组成。  192.168.83.77</p>
<p>作用就是标识一个网络设备（计算机、手机、电视）在<strong>某一个具体的网络</strong>当中的地址。</p>
<p>127.0.0.1 是本地回环地址</p>
<h4 id="单个网络情况"><a href="#单个网络情况" class="headerlink" title="单个网络情况"></a>单个网络情况</h4><p>在单个局域网下，结构非常简单，就是我们所连接的网络设备（网关）给我们分配了一个地址，在<strong>这个范围之内</strong>我们都可以通过这个地址找到我们的这个设备。</p>
<blockquote>
<p>如果设备没有连接任何网络情况下，我们会有一个本地回环地址 127.0.0.1</p>
</blockquote>
<p><img src="media/single-network.png" alt="单个局域网情况"></p>
<h4 id="多个网络情况"><a href="#多个网络情况" class="headerlink" title="多个网络情况"></a>多个网络情况</h4><p>但是当一个设备同时处于多个网络下（比如同时连接了有线网卡和无线网卡），就会变得稍微复杂一点：</p>
<p><img src="media/multiple-network.png" alt="multiple-network"></p>
<blockquote>
<p>例如：</p>
<p>小明这个同学同时报名了两个课程，在 A 班级小明是班长，所有 A 班级的同学都管他叫班长（叫班长就能找到他）。而在 B 班级小明是课代表，所有 B 班的同学都管他叫课代表（叫课代表就能找到他）。</p>
<p>同样的一个人在不同的环境有不同的身份，这些身份只有特定的环境才生效。</p>
</blockquote>
<blockquote>
<p>纸上得来终觉浅，绝知此事要躬行！多尝试，多思考才能更好的理解这个问题。</p>
</blockquote>
<h3 id="域名"><a href="#域名" class="headerlink" title="域名"></a>域名</h3><p>由于 IP 地址都是没有规律的一些数字组成的，很难被人记住，不利于广泛传播，所以就有人想出来要给 IP 起名字（别名）。</p>
<blockquote>
<p>域名是需要花钱注册的</p>
</blockquote>
<h4 id="特殊的域名"><a href="#特殊的域名" class="headerlink" title="特殊的域名"></a>特殊的域名</h4><p><code>localhost</code> 含义为本地主机，对应127.0.0.1 。这是一个保留域名，主要用于本地测试。</p>
<h4 id="顶级域名（了解）"><a href="#顶级域名（了解）" class="headerlink" title="顶级域名（了解）"></a>顶级域名（了解）</h4><p>.com: 商业机构<br>.cn: 中国国家、地区域名 .hk,<br>.gov: 政府网站。<br>.org: 机构。<br>.edu: 教育网站。<br>.net: 网络服务商。   php.net<br>.mil: 军事。</p>
<h3 id="DNS"><a href="#DNS" class="headerlink" title="DNS"></a>DNS</h3><p>通过宽带运营商提供的服务器解析一个域名背后对应的 IP，这个过程叫做 <strong>DNS 寻址</strong>，帮你完成 DNS 寻址过程的服务器叫做 <strong>DNS 服务器</strong>。</p>
<h4 id="hosts-文件"><a href="#hosts-文件" class="headerlink" title="hosts 文件"></a>hosts 文件</h4><p>操作系统在发起对 DNS 服务器的查询请求之前，会优先检查本机的 hosts 文件。如果这个文件中包含了对当前需要解析的域名的配置，则不再发起对 DNS 服务器的请求，直接使用 hosts 文件中的配置。</p>
<p><strong>文件所在路径：</strong></p>
<ul>
<li>Windows：<code>C:\Windows\System32\drivers\etc\hosts</code></li>
<li>macOS：<code>/etc/hosts</code></li>
</ul>
<blockquote>
<p><strong>注意：</strong></p>
<ul>
<li>本机的 hosts 文件配置只能到影响本机的 DNS 寻址</li>
<li>只有以管理员权限运行的编辑器才有权利修改 <code>hosts</code> 文件</li>
</ul>
</blockquote>
<h3 id="端口"><a href="#端口" class="headerlink" title="端口"></a>端口</h3><p>计算机本身是一个封闭的环境，就像是一个大楼，如果需要有数据通信往来，必须有门，这个门在术语中就叫端口，每一个端口都有一个编号，每台计算机只有 65536 个端口（0-65535）。</p>
<blockquote>
<p>一般我们把“占门”的过程叫做监听</p>
</blockquote>
<p>可以通过在命令行中运行： <code>netstat -an</code> 命令监视本机端口使用情况：</p>
<p><img src="media/netstat.png" alt="netstat"></p>
<blockquote>
<p>参考链接：</p>
<ul>
<li><a href="https://baike.baidu.com/item/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E5%8F%A3" target="_blank" rel="noopener">https://baike.baidu.com/item/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E5%8F%A3</a></li>
<li><a href="https://baike.baidu.com/item/%E7%AB%AF%E5%8F%A3" target="_blank" rel="noopener">https://baike.baidu.com/item/%E7%AB%AF%E5%8F%A3</a></li>
<li><code>http</code> 默认的端口 <code>80</code></li>
<li><code>https</code> 默认的端口是 <code>443</code></li>
</ul>
</blockquote>
<h3 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h3><p>URL（Uniform Resource Locator），统一资源定位符，通俗点来说就是表示网络当中某一个网页的完整访问地址，它具有一定的格式：</p>
<p>例如：<a href="https://itcast.cn:80/schools/students?id=18&amp;name=zce#photo" target="_blank" rel="noopener">https://itcast.cn:80/schools/students?id=18&amp;name=zce#photo</a></p>
<h2 id="请求响应流程-重要"><a href="#请求响应流程-重要" class="headerlink" title="请求响应流程 (重要)"></a>请求响应流程 (重要)</h2><p><img src="media/http-req-res.png" alt="HTTP请求和响应"></p>
<ol>
<li>用户打开浏览器</li>
<li>地址栏输入我们需要访问的网站网址（<code>URL</code>）</li>
<li>浏览器通过  <code>DNS 服务器</code> 获取即将访问的网站  <code>IP 地址</code></li>
<li>浏览器发起一个对这个 IP地址的 <code>请求</code></li>
<li>服务端监听指定的 <code>端口</code> 的服务器软件接收到这个请求，进行相应的处理</li>
<li>服务端将处理完的结果返回给客户端浏览器（<code>响应</code>）</li>
<li>浏览器将服务端返回的结果呈现到界面上</li>
</ol>
<h2 id="phpStudy的基本使用"><a href="#phpStudy的基本使用" class="headerlink" title="phpStudy的基本使用"></a>phpStudy的基本使用</h2><h3 id="监听端口（了解）"><a href="#监听端口（了解）" class="headerlink" title="监听端口（了解）"></a>监听端口（了解）</h3><p>监听端口可以随意修改为任意一个未被其他程序监听的端口，可以通过点击phpStudy软件底部右侧 <code>其他选项菜单</code> 中 <code>phpStudy 设置</code> 中的 <code>端口常规设置</code> 进行设置。(采用默认80即可)</p>
<p><img src="media/day1/port.png" alt="port"></p>
<h3 id="网站根目录与默认文档"><a href="#网站根目录与默认文档" class="headerlink" title="网站根目录与默认文档"></a>网站根目录与默认文档</h3><blockquote>
<p><strong>网站根目录</strong> 就是存放我们网站文件的最顶层目录，通常 URL 中域名后面的第一个斜线对应（映射）的就是网站根目录。</p>
<p><strong>默认文档</strong> 又称为默认首页，指的是客户端访问的是一个目录（没有指定具体的文件），服务端默认返回这个目录下的某个文档（文件），这个文档就称之为<strong>默认文档</strong></p>
</blockquote>
<p>如果需要设置网站根目录与默认文档，可以通过点击phpStudy软件底部右侧 <code>其他选项菜单</code> 中 <code>phpStudy 设置</code> 中的 <code>端口常规设置</code> 进行设置。</p>
<p><img src="media/day1/documentRoot-directoryIndex.png" alt="documentRoot-directoryIndex"></p>
<h3 id="开启目录列表"><a href="#开启目录列表" class="headerlink" title="开启目录列表"></a>开启目录列表</h3><p>当我们访问一个目录时，如果没有指明要访问的文件，则会访问 <code>默认文档</code> (见上一节)，但如果没有默认文档时，访问文件就不那么方便了。</p>
<p>此时可以开启 <code>目录列表</code> 功能，方便文件的查看。设置方式如下：</p>
<p><img src="media/day1/indexes.png" alt="indexes"></p>
<blockquote>
<p>注：开启目录列表后，localhost无法访问（其他路径不影响），则删除网站根目录下的 l.php 即可。</p>
</blockquote>
<h3 id="虚拟主机-了解"><a href="#虚拟主机-了解" class="headerlink" title="虚拟主机 (了解)"></a>虚拟主机 (了解)</h3><p>如果一台机器上只有一个网站的话，没有任何问题，但是如果想要在一台机器上部署多个站点，就必须通过配置虚拟主机的方式解决。</p>
<p>找到虚拟主机配置位置，点击phpStudy软件底部右侧 <code>其他选项菜单</code> 中的 <code>站点域名管理</code>。</p>
<blockquote>
<p>初次打开时，每个选项中有均默认的示例配置，可以直接修改为需要的值</p>
</blockquote>
<p><img src="media/day1/domain.png" alt="domain"></p>
<blockquote>
<p>配置中标红的位置中第一个为虚拟主机的域名，第二个为当前虚拟主机的网站根目录，第三个为第二域名(相对第一个域名简短一些，方便使用，不是必须的)，端口无需修改。(例如此处设置域名为 <code>www.day1.cn</code> ，目录为<code>C:\phpStudy\PHPTutorial\WWW\day1</code>, 第二域名为 <code>day1.cn</code>)</p>
</blockquote>
<blockquote>
<p>修改完毕后点击 <code>新增</code> ，然后点击 <code>保存设置并生成配置文件</code>，phpStudy会自动重启。</p>
</blockquote>
<p><img src="media/day1/vhost.png" alt="vhost"></p>
<p>虚拟主机配置完毕后，如果真的要使用 <code>www.day1.com</code> 这个域名的话，还需要通过修改 <code>hosts</code> 文件达到目的，原因很简单：这个域名不是我们自己的，我们没有办法修改这个域名在公网上的 DNS。</p>
<p>找到hosts文件位置或直接从phpStudy中进入，点击phpStudy软件底部右侧 <code>其他选项菜单</code> 中的 <code>host</code>即可。配置方式见上一节 <code>网络基础概念</code> 中 <code>DNS</code> 中 <code>hosts文件</code> 部分。</p>
<p><img src="media/day1/hosts.png" alt="hosts"></p>
<blockquote>
<p>注意：</p>
<ul>
<li>如果使用了虚拟主机，则默认必须全部使用虚拟主机，即之前的默认网站也必须通过虚拟主机方式配置，否则访问不到。参考：<a href="http://skypegnu1.blog.51cto.com/8991766/1532454" target="_blank" rel="noopener">http://skypegnu1.blog.51cto.com/8991766/1532454</a></li>
</ul>
</blockquote>
<h3 id="Apache-与-PHP"><a href="#Apache-与-PHP" class="headerlink" title="Apache 与 PHP"></a>Apache 与 PHP</h3><p>对于很多初学者来说，很容易把 Apache 和 PHP 混在一起 混为一谈，其实他们两者各自有各自负责的领域，各自的职责，但是我们在使用 PHP 做动态网站开发时，两者就会产生联系，具体如下：</p>
<blockquote>
<p>Apache 是根据文件的扩展名找到文件的类型，然后挨个问一下每一个模块能否处理这个类型的文件，如果这些模块都不能处理，那么 Apache 就自己处理（按照静态文件的方式处理）</p>
</blockquote>
<p><img src="media/apache-php.png" alt="apache-php"></p>
<blockquote>
<p>你可以理解为：Apache 是一家没有太多能力的公司，只能处理一些简单的业务（静态网站），但是心很大想做更多的事（动态网站），所以就想到了外包，所有额外的业务都需要外包给其他程序，而 PHP 就是理解为一个专门能够处理 php 业务的外包公司</p>
</blockquote>
<h2 id="PHP"><a href="#PHP" class="headerlink" title="PHP"></a>PHP</h2><blockquote>
<p>详细参考文档：<a href="http://php.net/manual/zh/index.php" target="_blank" rel="noopener">http://php.net/manual/zh/index.php</a></p>
</blockquote>
<h3 id="起步"><a href="#起步" class="headerlink" title="起步"></a>起步</h3><blockquote>
<ul>
<li>PHP 是什么？</li>
<li>PHP 写在哪？</li>
<li>PHP 能做啥？</li>
</ul>
</blockquote>
<blockquote>
<p>超文本标记是用普通文本描述富文本的一种方式</p>
</blockquote>
<p>PHP（PHP: Hypertext Preprocessor）是一种被广泛应用的脚本语言，它可以被嵌入到 HTML中，尤其适合做动态网站开发开发。</p>
<p>我们接下来会在 PHP 中看到的许多代码特性和其他编程语言类似，例如：变量、函数、循环，等等。 代码语法看起来略有不同，但是在概念上是基本类似的。</p>
<p>我们使用 PHP 的目的就是能让静态网页变成动态网页，能称之为动态网页的核心就是让 HTML 上的内容不再被写死，而是通过在 HTML 中嵌入一段可以在服务端执行的代码，从而达到动态网页的目标。</p>
<p>例如：我们需要有一个网页，这个网页每次打开都可显示当前的年月日，如果采用 HTML 处理：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>当前日期<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>2020-01-01<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>我们必须每天到服务器上修改这个网页，从而让它保持显示最新日期，但是有了 PHP 这种能够在服务端执行的脚本语言就可以很轻松实现：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">"en"</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">  &lt;title&gt;当前日期&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;h1&gt;<span class="meta">&lt;?php</span> <span class="keyword">echo</span> date(<span class="string">'Y-m-d'</span>); <span class="meta">?&gt;</span>&lt;/h1&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>从以上这个最最简单的基础案例就能看出：PHP 无外乎为了可以在网页中动态输出最新内容的一种技术手段。</p>
<blockquote>
<p>历史使人明智：<a href="http://php.net/manual/zh/history.php.php" target="_blank" rel="noopener">http://php.net/manual/zh/history.php.php</a></p>
</blockquote>
<h3 id="PHP-标记"><a href="#PHP-标记" class="headerlink" title="PHP 标记"></a>PHP 标记</h3><blockquote>
<p><a href="http://php.net/manual/zh/language.basic-syntax.phpmode.php" target="_blank" rel="noopener">http://php.net/manual/zh/language.basic-syntax.phpmode.php</a></p>
</blockquote>
<ul>
<li><code>&lt;?php</code> 可以让代码进入“PHP 模式”</li>
<li><code>?&gt;</code> 可以让代码退出“PHP 模式”</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">"en"</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">  &lt;title&gt;这是一个包含 PHP 脚本的网页&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;h1&gt;这是一个包含 PHP 脚本的网页&lt;/h1&gt;</span><br><span class="line">  &lt;p&gt;这里原封不动的输出&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">  <span class="meta">&lt;?php</span></span><br><span class="line">  <span class="comment">// 这里是 PHP 代码，必须满足 PHP 语法</span></span><br><span class="line">  $foo = <span class="string">'bar'</span>;</span><br><span class="line">  <span class="keyword">echo</span> $foo;</span><br><span class="line">  <span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line">  &lt;p&gt;这里也不变&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">  &lt;p&gt;<span class="meta">&lt;?php</span> <span class="keyword">echo</span> <span class="string">'&lt;b&gt;这还是 PHP 输出的&lt;/b&gt;'</span>; <span class="meta">?&gt;</span>&lt;/p&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>类似于在 HTML 中使用 JavaScript，但是不同的是 JavaScript 运行在客户端，而 PHP 运行在服务端。</p>
<p><strong>只有处于 PHP 标记内部的代码才是 PHP 代码，PHP 标记以外都原封不动。</strong></p>
<h4 id="省略结束标记"><a href="#省略结束标记" class="headerlink" title="省略结束标记"></a>省略结束标记</h4><p>如果 PHP 代码段处于整个文件的末尾，建议（必须）删除结束标记，这样不会有额外的空行产生。</p>
<h3 id="输出内容方式"><a href="#输出内容方式" class="headerlink" title="输出内容方式"></a>输出内容方式</h3><ul>
<li><p>echo：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// echo 是 PHP 中的一个特殊的“指令”，</span></span><br><span class="line"><span class="comment">// 不一定需要像函数那样通过 `()` 去使用</span></span><br><span class="line"><span class="comment">// 注意：echo 后面紧跟着一个空格</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">'hello php'</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'hello'</span>, <span class="string">'world'</span>;</span><br><span class="line"><span class="comment">// =&gt; `helloworld`</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>print：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// print 与 echo 唯一区别就是只能有一个参数</span></span><br><span class="line"><span class="keyword">print</span> <span class="string">'hello php'</span>;</span><br><span class="line"><span class="comment">// print 'hello', 'world';</span></span><br><span class="line"><span class="comment">// =&gt; Parse error: syntax error ...</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>var_dump：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// var_dump 是一个函数，必须跟上 () 调用</span></span><br><span class="line"><span class="comment">// 可以将数据以及数据的类型打印为特定格式</span></span><br><span class="line">var_dump(<span class="string">'hello php'</span>);</span><br><span class="line"><span class="comment">// =&gt; 'string(9) "hello php"'</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p>还有一些输出函数（可以通过查手册自学，用到再说），例如：<code>exit()</code> / <code>print_r()</code> 等等</p>
</blockquote>
<h3 id="与-HTML-混编"><a href="#与-HTML-混编" class="headerlink" title="与 HTML 混编"></a>与 HTML 混编</h3><ul>
<li><p>普通嵌入</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;<span class="meta">&lt;?php</span> <span class="keyword">echo</span> <span class="string">'hello'</span>; <span class="meta">?&gt;</span>&lt;/p&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>语句混编</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">if</span> ($age &gt;= <span class="number">18</span>) &#123; <span class="meta">?&gt;</span></span><br><span class="line">  &lt;p&gt;成年人&lt;/p&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> &#125; <span class="keyword">else</span> &#123; <span class="meta">?&gt;</span></span><br><span class="line">  &lt;p&gt;小朋友&lt;/p&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> &#125; <span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>更常见的用法：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">if</span> ($age &gt; <span class="number">18</span>): <span class="meta">?&gt;</span></span><br><span class="line">  &lt;p&gt;成年人&lt;/p&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">else</span>: <span class="meta">?&gt;</span></span><br><span class="line">  &lt;p&gt;小朋友&lt;/p&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">endif</span> <span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h3><p>你可以在代码中添加注释，从而增强我们代码的可阅读性。PHP 中注释有两种方式（与 JavaScript 相同）：</p>
<ul>
<li><p>单行注释</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// 这是一条单行注释</span></span><br><span class="line"><span class="comment"># 井号也可以做注释（不要用，有点生僻）</span></span><br><span class="line">$foo = <span class="string">'hello'</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>多行注释</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">......</span></span><br><span class="line"><span class="comment">这里可以添加任意行数的注释内容</span></span><br><span class="line"><span class="comment">......</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">$foo = <span class="string">'hello'</span>;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><p>编程语言常见的语法</p>
<ul>
<li>变量 —— 用于临时存放数据的容器</li>
<li>顺序结构 —— 先干什么再干什么</li>
<li>分支结构 —— 如果怎样就怎样否则怎样</li>
<li>循环结构 —— 不断的做某件相同的事</li>
<li>函数 —— 提前设计好一件事怎么干，然后想什么时候干就什么时候干</li>
<li>运算符 —— 数学运算和字符串拼接</li>
<li>字面量 —— 在代码中用某些字符组成，能够表达一个具体的值 这些字符之间表示数据的方式叫做字面量</li>
</ul>
<p>PHP 也是另外种编程语言，作为另外一种编程语言，PHP 也具备着绝大多数语言都有的特点，例如变量、条件分支、循环、函数等等，不同的是每个语言都会有自己的语法规定。这里不用太过担心，这些语法规定与之前学习的编程语言大同小异，对我们来说不会有太大的压力。</p>
<p>以下是重点注意的问题：</p>
<ol>
<li>变量</li>
<li>双引号字符串和单引号字符串的差异</li>
<li>指令式的语法</li>
<li>foreach</li>
<li>函数作用域问题</li>
<li>字符串拼接</li>
</ol>
<h4 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h4><blockquote>
<p>变量是编程语言中临时存放数据的容器。</p>
</blockquote>
<p>PHP 中申明一个变量是用一个美元符号后面跟变量名来表示。变量名同样是区分大小写的。</p>
<p>PHP 中变量无需声明类型，变量的类型根据值的类型来推断。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$foo; <span class="comment">// 申明一个变量，变量名为 `foo`，未对其进行赋值</span></span><br><span class="line">$bar = <span class="string">'baz'</span>; <span class="comment">// 申明一个变量，将一个值为 `baz` 的字符串赋值给它</span></span><br><span class="line"><span class="keyword">echo</span> $foo; <span class="comment">// 输出一个变量名为 `foo` 的变量</span></span><br><span class="line">fn($bar); <span class="comment">// 将一个变量名为 `foo` 的变量作为 `fn` 的实参传递</span></span><br></pre></td></tr></table></figure>
<h4 id="数据类型-了解"><a href="#数据类型-了解" class="headerlink" title="数据类型(了解)"></a>数据类型(了解)</h4><p>常见的 PHP 数据类型与 JavaScript 基本一致：</p>
<ul>
<li>string（字符串）</li>
<li>integer（整型）—— 只能存整数</li>
<li>float（浮点型）—— 可以存带小数位的数字</li>
<li>boolean（布尔型）</li>
<li>array（数组）</li>
<li>object（对象）</li>
<li>NULL（空）</li>
</ul>
<h5 id="字符串（重要）"><a href="#字符串（重要）" class="headerlink" title="字符串（重要）"></a>字符串（重要）</h5><p>PHP 有多种创建字符串的方式：单引号、双引号等。</p>
<ul>
<li>单引号字符串<ul>
<li>不支持特殊的转义符号，例如 <code>\n</code></li>
<li>如果要表示一个单引号字符内容，可以通过 <code>\&#39;</code> 表达</li>
<li>如果要表示一个反斜线字符内容，可以通过 <code>\\</code> 表达</li>
</ul>
</li>
<li>双引号字符串<ul>
<li>支持转义符号</li>
<li>支持变量解析</li>
</ul>
</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// ====== 单引号 ======</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">'hello\nworld'</span>;</span><br><span class="line"><span class="comment">// =&gt; `hello\nworld`</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">'I\'m a better man'</span>;</span><br><span class="line"><span class="comment">// =&gt; `I'm a better man`</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">'OS path: C:\\Windows'</span>;</span><br><span class="line"><span class="comment">// =&gt; `OS path: C:\Windows`</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ====== 双引号 ======</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">"hello\nworld"</span>;</span><br><span class="line"><span class="comment">// =&gt; `hello</span></span><br><span class="line"><span class="comment">// world`</span></span><br><span class="line">$name = <span class="string">'zce'</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"hello $name"</span>;</span><br><span class="line"><span class="comment">// =&gt; `hello zce`</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>字符串函数</p>
<ul>
<li><a href="http://php.net/manual/zh/ref.strings.php" target="_blank" rel="noopener">http://php.net/manual/zh/ref.strings.php</a></li>
<li><a href="http://www.w3school.com.cn/php/php_string.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/php/php_string.asp</a></li>
</ul>
</blockquote>
<h5 id="数组（重要）"><a href="#数组（重要）" class="headerlink" title="数组（重要）"></a>数组（重要）</h5><p>PHP 中数组可以分为两类：</p>
<ul>
<li><p>索引数组</p>
<p>与 JavaScript 中的数组基本一致</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// 定义一个索引数组</span></span><br><span class="line">$arr = <span class="keyword">array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line">var_dump($arr);</span><br><span class="line"></span><br><span class="line"><span class="comment">// PHP 5.4 以后定义的方式可以用 `[]`</span></span><br><span class="line">$arr2 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line">var_dump($arr2);</span><br></pre></td></tr></table></figure>
</li>
<li><p>关联数组</p>
<p>有点类似于 JavaScript 中的对象</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// 注意：键只能是`integer`或者`string`</span></span><br><span class="line">$arr = <span class="keyword">array</span>(<span class="string">'key1'</span> =&gt; <span class="string">'value1'</span>, <span class="string">'key2'</span> =&gt; <span class="string">'value2'</span>);</span><br><span class="line">var_dump($arr);</span><br><span class="line"></span><br><span class="line"><span class="comment">// PHP 5.4 以后定义的方式可以用 `[]`</span></span><br><span class="line">$arr2 = [<span class="string">'key1'</span> =&gt; <span class="string">'value1'</span>, <span class="string">'key2'</span> =&gt; <span class="string">'value2'</span>];</span><br><span class="line">var_dump($arr2);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="数据类型转换"><a href="#数据类型转换" class="headerlink" title="数据类型转换"></a>数据类型转换</h4><blockquote>
<p>参考：<a href="http://php.net/manual/zh/language.types.type-juggling.php" target="_blank" rel="noopener">http://php.net/manual/zh/language.types.type-juggling.php</a></p>
</blockquote>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$str = <span class="string">'132'</span>;</span><br><span class="line"><span class="comment">// 将一个内容为数字的字符串强制转换为一个整形的数字</span></span><br><span class="line">$num = (int)$str;</span><br><span class="line"><span class="comment">// 将一个数字强制转换为布尔值</span></span><br><span class="line">$flag = (bool)$num;</span><br></pre></td></tr></table></figure>
<h4 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h4><p>数学运算符，逻辑运算符与 JavaScript 基本一致，无额外特殊情况。</p>
<p>注意：字符串连接（拼接）采用的是比较特殊的 <code>.</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$name = <span class="string">'zce'</span>;</span><br><span class="line"><span class="comment">// 拼接 `hey ` 和 `zce`</span></span><br><span class="line">$message = <span class="string">'hey '</span> . $name;</span><br><span class="line"><span class="comment">// 相当于 +=</span></span><br><span class="line">$foo .= $message</span><br></pre></td></tr></table></figure>
<h4 id="语句"><a href="#语句" class="headerlink" title="语句"></a>语句</h4><ul>
<li>分号分割</li>
<li>if、switch、while、for、 foreach、function……</li>
</ul>
<h4 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h4><ul>
<li><p>顺序结构</p>
</li>
<li><p>分支结构</p>
<ul>
<li>if … else</li>
<li>switch … case</li>
</ul>
</li>
<li><p>循环结构</p>
<ul>
<li><p>for</p>
</li>
<li><p>while</p>
</li>
<li><p>foreach — 专门用来遍历数组</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$arr = <span class="keyword">array</span>(<span class="string">'name'</span> =&gt; <span class="string">'zhangsan'</span>, <span class="string">'age'</span> =&gt; <span class="string">'18'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> ($arr <span class="keyword">as</span> $key =&gt; $value) &#123;</span><br><span class="line">  <span class="keyword">echo</span> $key . <span class="string">' '</span> . $value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<p>指令式的 if、for、foreach、while 单独掌握</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// 指令式就是将开始 &#123; 换成 :  结束 &#125; 换成 endif;</span></span><br><span class="line"><span class="keyword">if</span> ($i &gt; <span class="number">0</span>) :</span><br><span class="line">  <span class="keyword">echo</span> <span class="string">'ok'</span></span><br><span class="line"><span class="keyword">endif</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// for foreach while 也是一样</span></span><br><span class="line"><span class="keyword">for</span> ($i = <span class="number">0</span>; $i &lt; <span class="number">10</span>; $i++) :</span><br><span class="line">  <span class="keyword">echo</span> $i;</span><br><span class="line"><span class="keyword">endfor</span>;</span><br></pre></td></tr></table></figure>
<h4 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h4><p>定义与使用函数的方式与 JavaScript 相同：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// 函数名不区分大小写</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span> <span class="params">($name, $title)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">echo</span> <span class="string">"$name ($title)"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用</span></span><br><span class="line">foo(<span class="string">'zce'</span>, <span class="string">'UFO'</span>);</span><br><span class="line">Foo(<span class="string">'zgd'</span>, <span class="string">'SBO'</span>); <span class="comment">// 大小写不区分</span></span><br></pre></td></tr></table></figure>
<p>注意：使用方式有点差异（函数名不区分大小写），但是不要这么搞！！！</p>
<blockquote>
<p>建议在 PHP 中采用下划线式（snake_case）做命名规则，不管是函数还是变量</p>
</blockquote>
<h3 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h3><h4 id="变量作用域"><a href="#变量作用域" class="headerlink" title="变量作用域"></a>变量作用域</h4><p>关于变量作用域这一点，PHP 与绝大多数语言也都不同：<strong>默认函数内不能访问函数所在作用域的成员。</strong></p>
<p>在 JavaScript 中，我们可以在函数作用域中使用父级作用域中的成员：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> top = <span class="string">'top variable'</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> sub = <span class="string">'sub variable'</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(top)</span><br><span class="line">  <span class="comment">// =&gt; `top variable`</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">bar</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(top)</span><br><span class="line">    <span class="comment">// =&gt; `top variable`</span></span><br><span class="line">    <span class="built_in">console</span>.log(sub)</span><br><span class="line">    <span class="comment">// =&gt; `sub variable`</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  bar()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo()</span><br></pre></td></tr></table></figure>
<p>而在 PHP 中：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$top = <span class="string">'top variable'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">  $sub = <span class="string">'sub variable'</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">echo</span> $top;</span><br><span class="line">  <span class="comment">// =&gt; 无法拿到</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">bar</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> $top;</span><br><span class="line">    <span class="comment">// =&gt; 无法拿到</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">echo</span> $sub;</span><br><span class="line">    <span class="comment">// =&gt; 无法拿到</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  bar();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo();</span><br></pre></td></tr></table></figure>
<p>如果需要访问全局变量，可以通过 <code>global</code> 关键字声明：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$top = <span class="string">'top variable'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 声明在当前作用域中获取全局作用域中的 `$top`</span></span><br><span class="line">  <span class="keyword">global</span> $top;</span><br><span class="line"></span><br><span class="line">  $sub = <span class="string">'sub variable'</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">echo</span> $top;</span><br><span class="line">  <span class="comment">// =&gt; `top variable`</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">bar</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 声明在当前作用域中获取全局作用域中的 `$top` 和 `$bar`</span></span><br><span class="line">    <span class="keyword">global</span> $top, $bar;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">echo</span> $top;</span><br><span class="line">    <span class="comment">// =&gt; `top variable`</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">echo</span> $sub;</span><br><span class="line">    <span class="comment">// =&gt; 任然无法拿到，因为 `$sub` 不再全局范围，而是在 `foo` 函数中定义</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  bar();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo();</span><br></pre></td></tr></table></figure>
<h4 id="超全局变量"><a href="#超全局变量" class="headerlink" title="超全局变量"></a>超全局变量</h4><blockquote>
<p><a href="http://www.w3school.com.cn/php/php_superglobals.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/php/php_superglobals.asp</a></p>
</blockquote>
<p>PHP 中的许多预定义变量都是“超全局的”，这意味着它们在一个脚本的全部作用域中都可用。在函数或方法中无需执行 global $variable; 就可以访问它们。</p>
<p>这些超全局变量是：</p>
<ul>
<li>$GLOBALS — 引用全局作用域中可用的全部变量</li>
<li>$_SERVER — 获取服务端相关信息</li>
<li>$_REQUEST — 获取提交参数</li>
<li>$_POST — 获取 POST 提交参数</li>
<li>$_GET — 获取 GET 提交参数</li>
<li>$_FILES — 获取上传文件</li>
<li>$_ENV — 操作环境变量</li>
<li>$_COOKIE — 操作 Cookie</li>
<li>$_SESSION — 操作 Session</li>
</ul>
<p>本节会介绍一些超全局变量，并会在稍后的章节讲解其他的超全局变量。</p>
<h4 id="GLOBALS"><a href="#GLOBALS" class="headerlink" title="$GLOBALS"></a>$GLOBALS</h4><p>$GLOBALS 这种全局变量用于在 PHP 脚本中的任意位置访问全局变量（从函数或方法中均可）。</p>
<p>PHP 在名为 $GLOBALS[index] 的数组中存储了所有全局变量。变量的名字就是数组的键。</p>
<p>下面的例子展示了如何使用超级全局变量 $GLOBALS：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$x = <span class="number">75</span>;</span><br><span class="line">$y = <span class="number">25</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">  $GLOBALS[<span class="string">'z'</span>] = $GLOBALS[<span class="string">'x'</span>] + $GLOBALS[<span class="string">'y'</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo();</span><br><span class="line"><span class="keyword">echo</span> $z;</span><br><span class="line"><span class="comment">// =&gt; 100</span></span><br></pre></td></tr></table></figure>
<h4 id="常量定义与使用"><a href="#常量定义与使用" class="headerlink" title="常量定义与使用"></a>常量定义与使用</h4><blockquote>
<p>常量跟变量一样也是一个数据容器，但是不同的是一旦申明过后就不允许被修改。</p>
</blockquote>
<h5 id="定义常量"><a href="#定义常量" class="headerlink" title="定义常量"></a>定义常量</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// 定义常量使用的是内置的 `define` 函数</span></span><br><span class="line"><span class="comment">// 第一个参数是常量的名称，建议采用全大写字母命名，多个单词下划线分隔</span></span><br><span class="line"><span class="comment">// 第二个参数是常量中存放的数据，可以是任意类型</span></span><br><span class="line"><span class="comment">// 第三个参数是常量名称是否区不分大小写，默认 false 区分大小写</span></span><br><span class="line">define(<span class="string">'SYSTEM_NAME'</span>, <span class="string">'阿里百秀'</span>);</span><br><span class="line">define(<span class="string">'SYSTEM_ENABLE'</span>, <span class="keyword">true</span>);</span><br></pre></td></tr></table></figure>
<h4 id="使用常量"><a href="#使用常量" class="headerlink" title="使用常量"></a>使用常量</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// 直接通过常量的名称访问常量</span></span><br><span class="line"><span class="comment">// 与变量不同的是不需要用 $</span></span><br><span class="line"><span class="keyword">echo</span> SYSTEM_NAME;</span><br><span class="line"><span class="keyword">echo</span> SYSTEM_ENABLE;</span><br></pre></td></tr></table></figure>
<h3 id="载入其他文件"><a href="#载入其他文件" class="headerlink" title="载入其他文件"></a>载入其他文件</h3><p>通常情况下，当一个文件中的代码过长，自然会想到要拆分到多个文件中。随着开发经验的积累，慢慢的会发现，除了文件过程应该拆分文件，更应该做的事情是根据用途去划分。</p>
<p>不管你是怎样想的，核心问题都是一样：怎么将代码拆分到多个文件中？</p>
<p>PHP 中引入其他 PHP 文件有四种方式：</p>
<ul>
<li>require</li>
<li>require_once</li>
<li>include</li>
<li>include_once</li>
</ul>
<p>四种方式的对比：</p>
<table>
<thead>
<tr>
<th></th>
<th>require</th>
<th>require_once</th>
<th>include</th>
<th>include_once</th>
</tr>
</thead>
<tbody>
<tr>
<td>被载入文件如果不存在是否影响继续运行</td>
<td>Y</td>
<td>Y</td>
<td>N</td>
<td>N</td>
</tr>
<tr>
<td>多次调用是否会重复执行被载入的文件</td>
<td>Y</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
</tbody>
</table>
<p>总结来说：</p>
<ul>
<li>横向分为两类：require 和 include 两种，区别在于 require 会因为载入文件不存在而停止当前文件执行，而 include 不会。</li>
<li>纵向分为两类：xxx 和 xxx_once，区别在于代码中每使用一次 xxx 就执行一次载入的文件，而 xxx_once 只会在第一次使用是执行。</li>
</ul>
<p>使用层面：</p>
<ul>
<li>include 一般用于载入公共文件，这个文件的存在与否不能影响程序后面的运行</li>
<li>require 用于载入不可缺失的文件</li>
<li>至于是否采用一次载入（once）这种方式取决于被载入的文件</li>
</ul>
<h3 id="常用-API"><a href="#常用-API" class="headerlink" title="常用 API"></a>常用 API</h3><blockquote>
<p>API（Application Programming Interface）</p>
<p>接口都是提供某种特定能力的事物，特点是有输入有输出，而我们在开发时（写代码时）用到的接口称之为 API（应用程序编程接口）</p>
<p>任何编程语言本身并没有太多的能力，具体的能力大多数都来源于 API。</p>
</blockquote>
<p>PHP 的能力来源于它有 1000+ 内置函数，不是每一个函数都默认直接可以使用，有一些需要安装或者启用额外的”插件” 扩展</p>
<h4 id="字符串与数组处理"><a href="#字符串与数组处理" class="headerlink" title="字符串与数组处理"></a>字符串与数组处理</h4><p>字符串与数组操作均使用php提供的内置函数，这里仅以几个函数作为示例，后面会有单独的部分进行讲解。</p>
<p>字符串函数</p>
<ul>
<li>int strlen ( string $string )</li>
<li>mixed mb_strlen ( string $str [, string $encoding = mb_internal_encoding() ] )</li>
</ul>
<p>数组长度</p>
<ul>
<li>count()</li>
</ul>
<h5 id="宽字符集扩展"><a href="#宽字符集扩展" class="headerlink" title="宽字符集扩展"></a>宽字符集扩展</h5><blockquote>
<p>宽字符集函数需要开启 <code>php_mbstring</code> 扩展，设置方式如下：</p>
</blockquote>
<p><img src="media/day1/mbstring.png" alt="mbstring"></p>
<h4 id="时间处理"><a href="#时间处理" class="headerlink" title="时间处理"></a>时间处理</h4><p>事件处理默认采用格林威治时间(与中国所在的时区相差8个小时)，需要进行设置。</p>
<p>这里我们要修改php的配置文件，打开phpStudy，点击 <code>其它选项菜单</code> 中 <code>打开配置文件</code> 中 <code>php.ini</code></p>
<p><img src="media/day1/phpini.png" alt="phpini"></p>
<p>搜索关键字 <code>date.timezone</code> ，并在下一行添加 <code>date.timezone=PRC</code>即可。</p>
<blockquote>
<p>注：配置文件中每行开头的;表示注释。</p>
</blockquote>
<p><img src="media/day1/timezone.png" alt="timezone"></p>
<ul>
<li>时间戳：<code>time()</code><ul>
<li>从 Unix 纪元（格林威治时间 1970-01-01 00:00:00）到当前时间的秒数</li>
</ul>
</li>
<li>格式化日期：<code>date()</code><ul>
<li>获取有格式的当前时间</li>
<li>格式化一个指定的时间戳</li>
<li>可以通过 <code>strtotime()</code> 将有格式的时间字符串转换为时间戳</li>
</ul>
</li>
</ul>
<h4 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h4><table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
<th>PHP</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://www.w3school.com.cn/php/func_filesystem_file_get_contents.asp" target="_blank" rel="noopener">file_get_contents()</a></td>
<td>将文件读入字符串。</td>
<td>4</td>
</tr>
<tr>
<td><a href="http://www.w3school.com.cn/php/func_filesystem_file_put_contents.asp" target="_blank" rel="noopener">file_put_contents()</a></td>
<td>将字符串写入文件。</td>
<td>5</td>
</tr>
</tbody>
</table>
<blockquote>
<p>参考：<a href="http://www.w3school.com.cn/php/php_ref_filesystem.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/php/php_ref_filesystem.asp</a></p>
</blockquote>
<h2 id="综合案例-水果列表"><a href="#综合案例-水果列表" class="headerlink" title="综合案例 : 水果列表"></a>综合案例 : 水果列表</h2><h3 id="静态页面展示"><a href="#静态页面展示" class="headerlink" title="静态页面展示"></a>静态页面展示</h3><blockquote>
<p><a href="media/day1/fruit/index.html">水果案例静态页面演示</a></p>
</blockquote>
<ul>
<li>观察静态水果列表案例，思考，如果希望进行水果的增减，是不是每次都需要进行页面结构以及内容的修改呢？</li>
<li>如果可以在服务端根据数据进行页面结构的生成，每次需要修改时只进行数据的修改即可，客户端所看到的页面会随之改变。</li>
</ul>
<h3 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h3><ul>
<li>处理静态页面</li>
<li>分离水果列表模块</li>
<li>对数据进行处理</li>
<li>生成页面结构</li>
</ul>
<h3 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h3><ul>
<li>文件引入方式 include</li>
<li>字符串函数 explode()</li>
<li>文件读取函数 file_get_contents()</li>
<li>数组遍历方式 foreach</li>
</ul>
<h3 id="效果演示"><a href="#效果演示" class="headerlink" title="效果演示"></a>效果演示</h3><p><img src="media/day1/fruit.png" alt="fruit"></p>
<h2 id="静态网站与动态网站"><a href="#静态网站与动态网站" class="headerlink" title="静态网站与动态网站"></a>静态网站与动态网站</h2><p>至此，我们已经可以把这些静态页面放到服务器上了，客户端也可以通过域名请求这个网站，但是对于我们来说，Apache 能够完成的事情过于简单，无外乎就是找到你请求对应的文件 → 读取文件 → 将文件内容响应给客户端浏览器（<strong>文件原封不动的给你</strong>）。<strong>无法满足让网页内容动起来（随着数据动态变化）的需求。</strong></p>
<p>于是乎，就有人提出了<strong>服务端动态网页的概念</strong>，这种实现这种概念的技术有很多种：JSP、ASP.NET、PHP、Node 等等。</p>
<p>这些技术的原理就是：不再将 HTML 固定写死，每次用户请求时，动态执行一段代码，临时生成一个用户想要的 HTML 页面。</p>
<p><img src="media/apache-process.png" alt="apache-process"></p>
<p><strong>动态网站指的也就是每次请求时服务端动态生成 HTML 返回给用户的这种网站。</strong></p>
<p>这里我们选择 PHP 作为我们了解服务端动态网页开发的技术方案，注意：<strong>我们学习的重心不在 PHP，而是了解服务端开发，以及某些其他对前端开发有帮助的东西。</strong></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/03/20/PHP_01.V5.0/" data-id="cjez7tlcs0003fwuqw4v496hm" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-PHP_05.V5.0" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/20/PHP_05.V5.0/" class="article-date">
  <time datetime="2018-03-20T03:56:29.858Z" itemprop="datePublished">2018-03-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/03/20/PHP_05.V5.0/">第五天 PHP操作MySQL</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="每日目标"><a href="#每日目标" class="headerlink" title="每日目标"></a>每日目标</h2><ul>
<li>能够使用php连接MySQL数据库</li>
<li>能够使用php对MySQL进行查询操作</li>
<li>能够使用php检测非查询操作的受影响行数</li>
<li>能够断开与数据库的连接</li>
<li><p>综合案例：<strong>能够完成用户管理案例</strong></p>
<p>​</p>
</li>
</ul>
<h2 id="PHP-操作数据库"><a href="#PHP-操作数据库" class="headerlink" title="PHP 操作数据库"></a>PHP 操作数据库</h2><p>如何在 PHP 代码中操作数据库是我们能否在自己的程序中使用数据库的核心。</p>
<blockquote>
<p>数据库扩展：<a href="http://php.net/manual/zh/refs.database.php" target="_blank" rel="noopener">http://php.net/manual/zh/refs.database.php</a></p>
</blockquote>
<p>如果需要使用 MySQLi 扩展，需要在 php.ini 文件中打开这个扩展（解除注释）</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 假定数据库用户名：root，密码：123456，数据库：baixiu</span></span><br><span class="line">$connection = mysqli_connect(<span class="string">"localhost"</span>, <span class="string">"root"</span>, <span class="string">"123456"</span>, <span class="string">"baixiu"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!$connection) &#123;</span><br><span class="line">  <span class="comment">// 如果连接失败报错</span></span><br><span class="line">  <span class="keyword">die</span>(<span class="string">'&lt;h1&gt;Connect Error ('</span> . mysqli_connect_errno() . <span class="string">') '</span> . mysqli_connect_error() . <span class="string">'&lt;/h1&gt;'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$sql = <span class="string">"select * from users"</span>;</span><br><span class="line">$result = mysqli_query($connection, $sql);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 查询数据填充到关联数组</span></span><br><span class="line"><span class="keyword">while</span> ($row = mysqli_fetch_assoc($result)) &#123;</span><br><span class="line">  <span class="keyword">echo</span> $row[<span class="string">"id"</span>] . <span class="string">" - "</span> . $row[<span class="string">"username"</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 释放结果集</span></span><br><span class="line">mysqli_free_result($result);</span><br><span class="line"></span><br><span class="line">mysqli_close($connection);</span><br></pre></td></tr></table></figure>
<h3 id="执行查询语句"><a href="#执行查询语句" class="headerlink" title="执行查询语句"></a>执行查询语句</h3><h3 id="执行非查询语句"><a href="#执行非查询语句" class="headerlink" title="执行非查询语句"></a>执行非查询语句</h3><blockquote>
<ul>
<li>mysqli：<ul>
<li><a href="http://php.net/manual/zh/book.mysqli.php" target="_blank" rel="noopener">http://php.net/manual/zh/book.mysqli.php</a></li>
<li><a href="http://www.runoob.com/php/php-ref-mysqli.html" target="_blank" rel="noopener">http://www.runoob.com/php/php-ref-mysqli.html</a></li>
</ul>
</li>
</ul>
</blockquote>
<h2 id="用户管理案例"><a href="#用户管理案例" class="headerlink" title="用户管理案例"></a>用户管理案例</h2><p>基于数据库的增删改查</p>
<h3 id="用户查询与删除功能"><a href="#用户查询与删除功能" class="headerlink" title="用户查询与删除功能"></a>用户查询与删除功能</h3><p><img src="media/user.png" alt="user"></p>
<h3 id="用户新增与修改功能"><a href="#用户新增与修改功能" class="headerlink" title="用户新增与修改功能"></a>用户新增与修改功能</h3><p><img src="media/user-add.png" alt="user-add"></p>
<h2 id="php函数补充"><a href="#php函数补充" class="headerlink" title="php函数补充"></a>php函数补充</h2><h3 id="字符串处理函数"><a href="#字符串处理函数" class="headerlink" title="字符串处理函数"></a>字符串处理函数</h3><ul>
<li>字符串截取<ul>
<li>string substr ( string $string , int $start [, int $length ] )</li>
<li>string mb_substr ( string $str , int $start [, int $length = NULL [, string $encoding = mb_internal_encoding() ]] )</li>
</ul>
</li>
<li>字符串长度<ul>
<li>int strlen ( string $string )</li>
<li>mixed mb_strlen ( string $str [, string $encoding = mb_internal_encoding() ] )</li>
</ul>
</li>
<li>大小写转换<ul>
<li>string strtolower ( string $string )</li>
<li>string strtoupper ( string $string )</li>
</ul>
</li>
<li>去除首尾空白字符<ul>
<li>string trim ( string $str [, string $character_mask = “ \t\n\r\0\x0B” ] )</li>
</ul>
</li>
<li>查找字符串中某些字符首次出现位置<ul>
<li>mixed strpos ( string $haystack , mixed $needle [, int $offset = 0 ] )</li>
<li>int mb_strpos ( string $haystack , string $needle [, int $offset = 0 [, string $encoding = mb_internal_encoding() ]] )</li>
</ul>
</li>
<li>字符串替换<ul>
<li>mixed str_replace ( mixed $search , mixed $replace , mixed  \$subject [, int &amp;  $count ] )</li>
</ul>
</li>
<li>重复字符串<ul>
<li>string str_repeat ( string $input , int $multiplier )</li>
</ul>
</li>
<li>字符串分割<ul>
<li>array explode( string $char, string $input )</li>
</ul>
</li>
</ul>
<h3 id="数组处理"><a href="#数组处理" class="headerlink" title="数组处理"></a>数组处理</h3><ul>
<li>获取关联数组中全部的键 / 值<ul>
<li>array_keys() / array_values()</li>
</ul>
</li>
<li>判断关联数组中是否存在某个键<ul>
<li>array_key_exists()</li>
</ul>
</li>
<li>将一个或多个元素追加到数组中<ul>
<li>array_push()</li>
<li>$arr[] = ‘new value’</li>
</ul>
</li>
<li>删除数组中最后一个元素<ul>
<li>array_pop()</li>
</ul>
</li>
<li>数组长度<ul>
<li>count()</li>
</ul>
</li>
<li>检测存在<ul>
<li>in_array()</li>
</ul>
</li>
<li>获取元素在数组中的下标<ul>
<li>array_search()</li>
</ul>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/03/20/PHP_05.V5.0/" data-id="cjez7tlcw0006fwuqff38vwu5" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-PHP_04.V5.0" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/20/PHP_04.V5.0/" class="article-date">
  <time datetime="2018-03-20T03:56:29.850Z" itemprop="datePublished">2018-03-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/03/20/PHP_04.V5.0/">第四天 Cookie、Session 与 MySQL</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="每日目标"><a href="#每日目标" class="headerlink" title="每日目标"></a>每日目标</h2><ul>
<li>能够完成登录案例</li>
<li>能够在服务端设置一个Cookie</li>
<li>能够在服务端设置一个Session</li>
<li>能够说出Cookie与Session的关系与区别</li>
<li>能够使用SQL语句对表进行增删改查操作</li>
<li>能够使用数据库可视化工具对表进行增删改查操作</li>
</ul>
<h2 id="HTTP-会话"><a href="#HTTP-会话" class="headerlink" title="HTTP 会话"></a>HTTP 会话</h2><h3 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h3><p>HTTP 很重要的一个特点就是<strong>无状态</strong>（每一次见面都是“初次见面”），如果单纯的希望通过我们的服务端程序去记住每一个访问者是不可能的，所以必须借助一些手段或者说技巧让服务端记住客户端，这种手段就是 <strong>Cookie</strong>。</p>
<p><img src="media/cookie.png" alt="cookie"></p>
<p>Cookie 就像是在超级市场买东西拿到的小票，由超市（Server）发给消费者（Browser），超市方面不用记住每一个消费者的脸，但是他们认识消费者手里的小票（Cookie），可以通过小票知道消费者之前的一些消费信息（在服务端产生的数据）。</p>
<h4 id="PHP-中操作-Cookie"><a href="#PHP-中操作-Cookie" class="headerlink" title="PHP 中操作 Cookie"></a>PHP 中操作 Cookie</h4><blockquote>
<p><a href="http://php.net/manual/zh/function.setcookie.php" target="_blank" rel="noopener">http://php.net/manual/zh/function.setcookie.php</a></p>
</blockquote>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 设置 cookie</span></span><br><span class="line">setcookie(<span class="string">"TestCookie"</span>, <span class="string">"hello"</span>, time() + <span class="number">1</span> * <span class="number">60</span> * <span class="number">60</span>);  <span class="comment">/* 1 小时过期  */</span></span><br><span class="line"><span class="comment">// 获取 cookie</span></span><br><span class="line"><span class="keyword">echo</span> $_COOKIE[<span class="string">"TestCookie"</span>];</span><br></pre></td></tr></table></figure>
<h5 id="记住登录名案例"><a href="#记住登录名案例" class="headerlink" title="记住登录名案例"></a>记住登录名案例</h5><h6 id="登录功能实现流程"><a href="#登录功能实现流程" class="headerlink" title="登录功能实现流程"></a>登录功能实现流程</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">客户端-&gt;服务端: Request GET /login.php</span><br><span class="line">服务端-&gt;客户端: Response 空白表单页面</span><br><span class="line">Note left of 客户端: 用户填写表单</span><br><span class="line">客户端-&gt;服务端: Request POST /login.php 表单数据</span><br><span class="line">Note right of 服务端: 服务端对提交过来的数据进行校验</span><br><span class="line">服务端-&gt;客户端: Response Location: /main.php\n跳转到 main.php</span><br><span class="line">客户端--&gt;服务端: Request GET /main.php</span><br><span class="line">服务端--&gt;客户端: Response Welcome</span><br><span class="line">Note over 客户端,服务端: ..........</span><br><span class="line">客户端-&gt;服务端: Request GET /login.php</span><br><span class="line">服务端-&gt;客户端: Response 空白表单页面</span><br></pre></td></tr></table></figure>
<h4 id="JavaScript-中操作-Cookie"><a href="#JavaScript-中操作-Cookie" class="headerlink" title="JavaScript 中操作 Cookie"></a>JavaScript 中操作 Cookie</h4><h5 id="Pure-JavaScript"><a href="#Pure-JavaScript" class="headerlink" title="Pure JavaScript"></a>Pure JavaScript</h5><blockquote>
<p>参考：<a href="http://www.runoob.com/js/js-cookies.html" target="_blank" rel="noopener">http://www.runoob.com/js/js-cookies.html</a></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 新增一条 cookie，注意：cookie 是有大小限制，约为 4k</span></span><br><span class="line"><span class="comment">//   格式固定：&lt;key&gt;=&lt;value&gt;[; expires=&lt;GMT格式时间&gt;][; path=&lt;作用路径&gt;][; domain=&lt;作用域名&gt;]</span></span><br><span class="line"><span class="comment">//   除了键值以外其余属性均有默认值，可以省略</span></span><br><span class="line"><span class="comment">//   expires 表示 cookie 失效的时间，默认为关闭浏览器时</span></span><br><span class="line"><span class="comment">//   path 表示 cookie 生效的路径，默认为当路径</span></span><br><span class="line"><span class="comment">//       /   /foo.php   /abc/foo.php</span></span><br><span class="line"><span class="comment">//       /foo     /bar/abc.php</span></span><br><span class="line"><span class="comment">//   domain 表示 cookie 生效的域名，默认为当前域名</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.cookie = <span class="string">'name=value; expires=Tue, 10 Oct 2017 16:14:47 GMT; path=/; domain=zce.me'</span></span><br><span class="line"><span class="comment">// 获取全部 cookie</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">document</span>.cookie)</span><br><span class="line"><span class="comment">// =&gt; 'key1=value1; key2=value2'</span></span><br><span class="line"><span class="comment">// 得到的结果是字符串，需要自己通过字符串操作解析</span></span><br></pre></td></tr></table></figure>
<h5 id="jQuery-plugin"><a href="#jQuery-plugin" class="headerlink" title="jQuery plugin"></a>jQuery plugin</h5><p><a href="https://github.com/carhartl/jquery-cookie" target="_blank" rel="noopener">https://github.com/carhartl/jquery-cookie</a></p>
<h5 id="without-jQuery"><a href="#without-jQuery" class="headerlink" title="without jQuery"></a>without jQuery</h5><p><a href="https://github.com/js-cookie/js-cookie" target="_blank" rel="noopener">https://github.com/js-cookie/js-cookie</a></p>
<h3 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h3><p>由于 Cookie 是服务端下发给客户端<strong>由客户端本地保存</strong>的。换而言之客户端可以在本地对其随意操作，包括删除和修改。如果客户端随意伪造一个 Cookie 的话，对于服务端是无法辨别的，就会造成服务端被蒙蔽，构成安全隐患。</p>
<p>于是乎就有了另外一种基于 Cookie 基础之上的手段：<strong>Session</strong>：</p>
<p><img src="media/session-structure.png" alt="session-structure"></p>
<p>Session 区别于 Cookie 一个很大的地方就是：Session 数据存在了服务端，而 Cookie 存在了客户端本地，存在服务端最大的优势就是，不是用户想怎么改就怎么改了。</p>
<p>Session 这种机制会更加适合于存放一些属于用户而又不能让用户修改的数据，因为客户端不再保存具体的数据，只是保存一把“钥匙”，伪造一把可以用的钥匙，可能性是极低的，所以不需要在意。</p>
<p><img src="media/session-flow.png" alt="session-flow"></p>
<blockquote>
<p><a href="http://php.net/manual/zh/session.examples.basic.php" target="_blank" rel="noopener">http://php.net/manual/zh/session.examples.basic.php</a></p>
</blockquote>
<h2 id="MySQL"><a href="#MySQL" class="headerlink" title="MySQL"></a>MySQL</h2><h3 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h3><h4 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h4><blockquote>
<p>目标：</p>
<ul>
<li>搞明白什么是数据库</li>
<li>如何通过工具操作数据库</li>
<li>如何通过代码操作数据库</li>
</ul>
</blockquote>
<p>数据库就是数据的仓库，用来按照特定的结构去组织和管理我们的数据，有了数据库我们就可以更加方便、便捷的操作（C / R / U / D）我们需要保存的数据。</p>
<p>不管是什么数据库，最终都是将数据存到文件（硬盘）中，只是存储的格式不同于文本文件。</p>
<p>一个 Excel 文件就可以看做一个数据库：</p>
<p><img src="media/excel-files.png" alt="excel-files"></p>
<p>一个 Excel 文件中可以包含多个数据表：</p>
<p><img src="media/excel-tables.png" alt="excel-tables"></p>
<h3 id="基础操作"><a href="#基础操作" class="headerlink" title="基础操作"></a>基础操作</h3><h4 id="数据库管理工具"><a href="#数据库管理工具" class="headerlink" title="数据库管理工具"></a>数据库管理工具</h4><p>数据库管理工具本质上就是一个使用数据库服务器软件（Server）提供的服务的数据库客户端（Client）。</p>
<h5 id="命令行工具"><a href="#命令行工具" class="headerlink" title="命令行工具"></a>命令行工具</h5><p>一般如果只是简单操作数据库，推荐使用 MySQL 内置的命令行工具完成：</p>
<p>进入 MySQL 客户端的 REPL 环境过后，可以通过标准的 SQL 语句操作数据库。</p>
<p>常见的操作指令：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show databases;  -- 显示全部数据库</span><br><span class="line">mysql&gt; create database &lt;db-name&gt;;  -- 创建一个指定名称的数据库</span><br><span class="line">mysql&gt; use &lt;db-name&gt;;  -- 使用一个数据库，相当于进入指定的数据库</span><br><span class="line">mysql&gt; show tables;  -- 显示当前数据库中有哪些表</span><br><span class="line">mysql&gt; create table &lt;table-name&gt; (id int, name varchar(20), age int);  -- 创建一个指定名称的数据表，并添加 3 个列</span><br><span class="line">mysql&gt; desc &lt;table-name&gt;;  -- 查看指定表结构</span><br><span class="line">mysql&gt; source ./path/to/sql-file.sql  -- 执行本地 SQL 文件中的 SQL 语句</span><br><span class="line">mysql&gt; drop table &lt;table-name&gt;;  -- 删除一个指定名称的数据表</span><br><span class="line">mysql&gt; drop database &lt;db-name&gt;;  -- 删除一个指定名称的数据库</span><br><span class="line">mysql&gt; exit|quit;  -- 退出数据库终端</span><br></pre></td></tr></table></figure>
<h5 id="可视化工具"><a href="#可视化工具" class="headerlink" title="可视化工具"></a>可视化工具</h5><p>如果需要复杂的操作，推荐 Navicat Premium</p>
<blockquote>
<p>下载地址：<a href="http://www.navicat.com.cn/download/navicat-premium" target="_blank" rel="noopener">http://www.navicat.com.cn/download/navicat-premium</a></p>
<p>这是一个付费软件，可以免费试用 14 天</p>
</blockquote>
<h4 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h4><ul>
<li>数据库</li>
<li>表</li>
<li>字段 —— 指的就是列</li>
<li>字段类型 —— 指的就是列能够存储的数据种类<ul>
<li>int</li>
<li>char(<length>)</length></li>
<li>varchar(<length>)</length></li>
<li>date</li>
<li>decimal</li>
</ul>
</li>
<li>数据库查询：指的是操作数据库的过程（查、增、删、改）</li>
<li>数据库查询语言：SQL</li>
</ul>
<h4 id="基本查询语句"><a href="#基本查询语句" class="headerlink" title="基本查询语句"></a>基本查询语句</h4><h5 id="查询"><a href="#查询" class="headerlink" title="查询"></a>查询</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询数据</span></span><br><span class="line"><span class="comment">-- select 字段[, 字段2] from 表名</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">id</span>, <span class="keyword">name</span>, birthday <span class="keyword">from</span> <span class="keyword">users</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 通配 * 找到表中所有列</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">users</span>;</span><br></pre></td></tr></table></figure>
<h5 id="增加"><a href="#增加" class="headerlink" title="增加"></a>增加</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 新增数据</span></span><br><span class="line"><span class="comment">-- 插入全部字段</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">users</span> <span class="keyword">values</span> (<span class="literal">null</span>, <span class="string">'王五'</span>, <span class="number">0</span>, <span class="string">'2020-12-12'</span>, <span class="string">'12312'</span>);</span><br><span class="line"><span class="comment">-- 指定字段</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">users</span> (<span class="keyword">name</span>, gender, avatar) <span class="keyword">values</span> (<span class="string">'王五'</span>, <span class="number">0</span>, <span class="string">'12312'</span>);</span><br></pre></td></tr></table></figure>
<h5 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 更新数据</span></span><br><span class="line"><span class="keyword">update</span> <span class="keyword">users</span> <span class="keyword">set</span> <span class="keyword">name</span> = <span class="string">'麻子'</span>, gender = <span class="number">0</span></span><br></pre></td></tr></table></figure>
<h5 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 删除</span></span><br><span class="line"><span class="comment">-- 删除语句必须指定条件</span></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> <span class="keyword">users</span></span><br></pre></td></tr></table></figure>
<h5 id="筛选条件"><a href="#筛选条件" class="headerlink" title="筛选条件"></a>筛选条件</h5><p>子语句</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> <span class="keyword">users</span> <span class="keyword">where</span> <span class="keyword">id</span> = <span class="number">6</span></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> <span class="keyword">users</span> <span class="keyword">where</span> <span class="keyword">id</span> = <span class="number">6</span> <span class="keyword">and</span> gender = <span class="number">0</span></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> <span class="keyword">users</span> <span class="keyword">where</span> <span class="keyword">id</span> = <span class="number">6</span> <span class="keyword">or</span> gender = <span class="number">0</span></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> <span class="keyword">users</span> <span class="keyword">where</span> <span class="keyword">id</span> &gt; <span class="number">6</span></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> <span class="keyword">users</span> <span class="keyword">where</span> <span class="keyword">id</span> <span class="keyword">in</span> (<span class="number">4</span>, <span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<h4 id="常见查询函数"><a href="#常见查询函数" class="headerlink" title="常见查询函数"></a>常见查询函数</h4><ul>
<li>总条数 —— count 分页功能，查询总页数</li>
<li>最大值、最小值 —— max/min</li>
<li>平均值 —— avg</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> fn(field1) <span class="keyword">from</span> <span class="keyword">table</span></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/03/20/PHP_04.V5.0/" data-id="cjez7tlcu0004fwuqpdakde7n" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-PHP_03.V5.0" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/20/PHP_03.V5.0/" class="article-date">
  <time datetime="2018-03-20T03:56:29.842Z" itemprop="datePublished">2018-03-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/03/20/PHP_03.V5.0/">第三天 音乐列表与HTTP</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="每日目标"><a href="#每日目标" class="headerlink" title="每日目标"></a>每日目标</h2><ul>
<li>综合案例：<strong>音乐列表</strong></li>
<li>能够说出任意三个常见的请求头以及函数</li>
<li>能够说出响应报文的组成</li>
<li>能够识别常见的状态码以及含义</li>
</ul>
<h1 id="音乐列表案例"><a href="#音乐列表案例" class="headerlink" title="音乐列表案例"></a>音乐列表案例</h1><blockquote>
<p>基于文件存储的音乐数据<strong>增删改查</strong></p>
</blockquote>
<h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><blockquote>
<p>绝大多数情况下我们编写的应用功能都是在围绕着某种类型的数据做增删改查（Create / Read / Update / Delete）。</p>
</blockquote>
<p>对于被增删改查的数据有几点是可以明确的：</p>
<ul>
<li>结构相同的多条数据（可以认为是：一个数组，数组中的元素都具有相同的属性结构）</li>
<li>可以持久化（长久保存）</li>
</ul>
<h3 id="数据放在哪？"><a href="#数据放在哪？" class="headerlink" title="数据放在哪？"></a>数据放在哪？</h3><p>我们第一件事就是考虑数据放在哪（怎么存怎么取）？</p>
<p>目前我们接触到的技术方案中，只有文件可以持久化的保存内容（数据），所以一定是用文件存我们要操作的数据。</p>
<p>但是由于我们要存放的是一个有着复杂结构的数据，并不是简简单单的值，所以我们必须设计一种<strong>能表示复杂结构数据的方式</strong>。</p>
<p>例如，一行为一条数据，不同信息之间用 <code>|</code> 分割，同时约定好每个位置的数据含义：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">59d632855434e | 错过 | 梁咏琪 | /uploads/img/1.jpg | /uploads/mp3/1.mp3</span><br><span class="line">59d632855434f | 开始懂了 | 孙燕姿 | /uploads/img/2.jpg | /uploads/mp3/2.mp3</span><br><span class="line">59d6328554350 | 一生中最爱 | 谭咏麟 | /uploads/img/3.jpg | /uploads/mp3/3.mp3</span><br><span class="line">59d6328554351 | 爱在深秋 | 谭咏麟 | /uploads/img/4.jpg | /uploads/mp3/4.mp3</span><br></pre></td></tr></table></figure>
<p>这种方式很简单，但是缺点也非常明显，所以我们迫切需要一个更好更方便的表示有结构数据的方式。</p>
<h2 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h2><p>JSON（JavaScript Object Notation） 是一种通过普通字符串描述数据的手段，用于表示有结构的数据。类似于编程语言中字面量的概念，语法上跟 JavaScript 的字面量非常类似。</p>
<h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><ul>
<li><p>null</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">null</span><br></pre></td></tr></table></figure>
</li>
<li><p>string</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"hello json"</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>number</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2048</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>boolean</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">true</span><br></pre></td></tr></table></figure>
</li>
<li><p>object</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"zce"</span>,</span><br><span class="line">  <span class="attr">"age"</span>: <span class="number">18</span>,</span><br><span class="line">  <span class="attr">"gender"</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">"girl_friend"</span>: <span class="literal">null</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>array</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">"zhangsan"</span>, <span class="string">"lisi"</span>, <span class="string">"wangwu"</span>]</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><ol>
<li>JSON 中属性名称必须用双引号包裹</li>
<li>JSON 中表述字符串必须使用双引号</li>
<li>JSON 中不能有单行或多行注释</li>
<li>JSON 没有 <code>undefined</code> 这个值</li>
</ol>
<h3 id="JSON-表述"><a href="#JSON-表述" class="headerlink" title="JSON 表述"></a>JSON 表述</h3><p>有了 JSON 这种格式，我们就可以更加容易的表示拥有复杂结构的数据了。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"id"</span>: <span class="string">"59d632855434e"</span>,</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"错过"</span>,</span><br><span class="line">    <span class="attr">"artist"</span>: <span class="string">"梁咏琪"</span>,</span><br><span class="line">    <span class="attr">"images"</span>: [<span class="string">"/uploads/img/1.jpg"</span>],</span><br><span class="line">    <span class="attr">"source"</span>: <span class="string">"/uploads/mp3/1.mp3"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"id"</span>: <span class="string">"59d632855434f"</span>,</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"开始懂了"</span>,</span><br><span class="line">    <span class="attr">"artist"</span>: <span class="string">"孙燕姿"</span>,</span><br><span class="line">    <span class="attr">"images"</span>: [<span class="string">"/uploads/img/2.jpg"</span>],</span><br><span class="line">    <span class="attr">"source"</span>: <span class="string">"/uploads/mp3/2.mp3"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"id"</span>: <span class="string">"59d6328554350"</span>,</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"一生中最爱"</span>,</span><br><span class="line">    <span class="attr">"artist"</span>: <span class="string">"谭咏麟"</span>,</span><br><span class="line">    <span class="attr">"images"</span>: [<span class="string">"/uploads/img/3.jpg"</span>],</span><br><span class="line">    <span class="attr">"source"</span>: <span class="string">"/uploads/mp3/3.mp3"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"id"</span>: <span class="string">"59d6328554351"</span>,</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"爱在深秋"</span>,</span><br><span class="line">    <span class="attr">"artist"</span>: <span class="string">"谭咏麟"</span>,</span><br><span class="line">    <span class="attr">"images"</span>: [<span class="string">"/uploads/img/4.jpg"</span>],</span><br><span class="line">    <span class="attr">"source"</span>: <span class="string">"/uploads/mp3/4.mp3"</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h2 id="功能实现"><a href="#功能实现" class="headerlink" title="功能实现"></a>功能实现</h2><blockquote>
<p>在服务端开发领域中所谓的<strong>渲染</strong>指的是经过程序执行得到最终的 HTML 字符串这个过程。</p>
</blockquote>
<h3 id="列表数据展示（展示类）"><a href="#列表数据展示（展示类）" class="headerlink" title="列表数据展示（展示类）"></a>列表数据展示（展示类）</h3><ul>
<li>文件读取</li>
<li>JSON 反序列化<ul>
<li>json_decode 需要注意第二个参数</li>
<li>如果希望以关联数组的方式而非对象的方式操作数据，可以将 json_decode 的第二个参数设置为 true</li>
</ul>
</li>
<li>数组遍历 foreach</li>
<li>PHP 与 HTML 混编</li>
</ul>
<h3 id="新增数据（表单类）"><a href="#新增数据（表单类）" class="headerlink" title="新增数据（表单类）"></a>新增数据（表单类）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">客户端-&gt;服务端: GET /add.php\n获取一个添加音乐的表单</span><br><span class="line">服务端-&gt;客户端: 响应一个空的表单页面</span><br><span class="line">Note left of 客户端: 用户填写表单内容</span><br><span class="line">客户端-&gt;服务端: POST /add.php\n提交用户数据的内容和选择的文件</span><br><span class="line">Note right of 服务端: 接收并处理提交的数据</span><br><span class="line">服务端-&gt;客户端: 跳转回列表页</span><br></pre></td></tr></table></figure>
<ul>
<li>表单使用（form action method enctype，input name label for id）</li>
<li>服务端表单校验并提示错误消息<ul>
<li>empty 判断一个成员是否没定义或者值为 false（可以隐式转换为 false）</li>
</ul>
</li>
<li>上传文件<ul>
<li>文件数量</li>
<li>文件种类</li>
<li>如果需要考虑文件重名的情况，可以给上传的文件重新命名（唯一名称）</li>
</ul>
</li>
<li>单文件域多文件上传<ul>
<li>name 一定 以 [] 结尾，服务端会接收到一个数组</li>
</ul>
</li>
<li>JSON 序列化</li>
<li>文件写入</li>
</ul>
<h3 id="删除数据"><a href="#删除数据" class="headerlink" title="删除数据"></a>删除数据</h3><ul>
<li><p>问号传参</p>
<ul>
<li><p>一般情况下，如果需要超链接点击发起的请求可以传递参数，我们可以采用 <code>?</code> 的方式</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/delete.php?id=123"</span>&gt;</span>删除<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>数组中找到指定元素</p>
<ul>
<li><code>array_search</code></li>
</ul>
</li>
<li><p>数组移除元素</p>
<ul>
<li><code>array_splice</code></li>
</ul>
</li>
</ul>
<h1 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h1><h2 id="概要"><a href="#概要" class="headerlink" title="概要"></a>概要</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>HTTP（HyperText Transfer Protocol，超文本传输协议）最早就是计算机与计算机之间沟通的一种标准协议，这种协议限制了通讯<strong>内容的格式</strong>以及各项<strong>内容的含义</strong>。</p>
<p><img src="media/http-protocol.png" alt="http-protocol"></p>
<p>随着时代的发展，技术的变迁，这种协议现在广泛的应用在各种领域，也不仅仅局限于计算机与计算机之间，手机、电视等各种智能设备很多时候都在使用这种协议通讯，所以一般现在称 <strong>HTTP 为端与端之间的通讯协议</strong>。</p>
<p>Web 属于 B/S 架构的应用软件，在 B/S 架构中，浏览器与服务器沟通的协议就是 HTTP 协议，作为一个合格的 Web 开发者，了解 HTTP 协议中约定的内容是一门必修课。</p>
<blockquote>
<p>应用软件架构一般分为两类：</p>
<ul>
<li>B/S 架构：Browser（浏览器） ←→ Server（服务器），这种软件都是通过浏览器访问一个网站使用，服务器提供数据存储等服务。</li>
<li>C/S 架构：Client（客户端） ←→ Server（服务器），这种软件通过安装一个软件到电脑，然后使用，服务器提供数据存储等服务。</li>
</ul>
</blockquote>
<h3 id="约定内容"><a href="#约定内容" class="headerlink" title="约定内容"></a>约定内容</h3><ul>
<li>请求 / 响应报文格式</li>
<li>请求方法 —— GET / POST / etc.</li>
<li>响应状态 —— 200 / 404 / 302 / 304 / etc.</li>
<li>预设的请求 / 响应头</li>
</ul>
<h3 id="约定形式"><a href="#约定形式" class="headerlink" title="约定形式"></a>约定形式</h3><ol>
<li>客户端通过随机端口与服务端某个固定端口（一般为80）<strong>建立连接</strong> 三次握手</li>
<li>客户端通过这个连接<strong>发送请求</strong>到服务端（这里的请求是名词）</li>
<li>服务端监听端口得到的客户端发送过来的请求</li>
<li>服务端通过连接响应给客户端状态和内容（响应报文）</li>
</ol>
<blockquote>
<p>要求：接下来的一个月，每次上网打开任何一个页面时都要能够脑补这个画面，默念这个流程。</p>
</blockquote>
<h2 id="核心概念"><a href="#核心概念" class="headerlink" title="核心概念"></a>核心概念</h2><h3 id="报文"><a href="#报文" class="headerlink" title="报文"></a>报文</h3><h4 id="请求报文"><a href="#请求报文" class="headerlink" title="请求报文"></a>请求报文</h4><p><img src="media/request.png" alt="request"></p>
<p><img src="media/request-structure.png" alt="request-structure"></p>
<h5 id="请求行"><a href="#请求行" class="headerlink" title="请求行"></a>请求行</h5><p><code>GET /demo.php HTTP/1.1</code></p>
<p>请求方式 + 空格 + 请求路径 + 空格 + HTTP 协议版本</p>
<h5 id="请求头"><a href="#请求头" class="headerlink" title="请求头"></a>请求头</h5><p>客户端想要告诉服务端的一些额外信息，以下为常见的请求头：</p>
<table>
<thead>
<tr>
<th>键</th>
<th>值</th>
</tr>
</thead>
<tbody>
<tr>
<td>Host</td>
<td>请求的主机</td>
</tr>
<tr>
<td>Cache-Control</td>
<td>控制缓存（例如：max-age=60 缓存 60 秒）</td>
</tr>
<tr>
<td>Accept</td>
<td>客户端想要接收的文档类型，逗号分隔</td>
</tr>
<tr>
<td>User-Agent</td>
<td>标识什么客户端帮你发送的这次请求</td>
</tr>
<tr>
<td>Referer</td>
<td>这次请求的来源</td>
</tr>
<tr>
<td>Accept-Encoding</td>
<td>可以接受的压缩编码</td>
</tr>
<tr>
<td>Cookie</td>
<td>客户端本地的小票信息</td>
</tr>
</tbody>
</table>
<h5 id="请求体"><a href="#请求体" class="headerlink" title="请求体"></a>请求体</h5><p>这次请求客户端想要发送给服务端的数据正文，一般在 GET 请求时很少用到，因为 GET 请求主观上都是去“拿东西”。</p>
<h4 id="响应报文"><a href="#响应报文" class="headerlink" title="响应报文"></a>响应报文</h4><p><img src="media/response.png" alt="response"></p>
<h5 id="状态行"><a href="#状态行" class="headerlink" title="状态行"></a>状态行</h5><p><code>HTTP/1.1 200 OK</code></p>
<p>HTTP 协议版本 + 空格 + 状态码 + 空格 + 状态描述</p>
<h5 id="响应头"><a href="#响应头" class="headerlink" title="响应头"></a>响应头</h5><p>服务端想要告诉客户端的一些额外信息，常见的有以下：</p>
<table>
<thead>
<tr>
<th>键</th>
<th>值</th>
</tr>
</thead>
<tbody>
<tr>
<td>Date</td>
<td>响应时间</td>
</tr>
<tr>
<td>Server</td>
<td>服务器信息</td>
</tr>
<tr>
<td>Content-Type</td>
<td>响应体的内容类型</td>
</tr>
<tr>
<td>Content-Length</td>
<td>响应的内容大小</td>
</tr>
<tr>
<td>Set-Cookie</td>
<td>让客户端设置一个小票</td>
</tr>
</tbody>
</table>
<p>如果需要在程序中设置自定义的响应头（不是预设的），建议使用 <code>X-&lt;Property-Name&gt;</code> 规则</p>
<h5 id="响应体"><a href="#响应体" class="headerlink" title="响应体"></a>响应体</h5><p>这次请求服务端想要返回给客户端的数据正文，一般返回的都是 HTML，也可以返回 JavaScript 或者 CSS（需要修改响应头中的响应类型）。</p>
<h4 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h4><ul>
<li><p>设置响应文件类型</p>
<ul>
<li><code>header(&#39;Content-Type: text/css&#39;);</code></li>
<li>常见的 HTTP MIME type：<code>text/css</code> <code>text/html</code> <code>text/plain</code> <code>applcation/javascript</code></li>
</ul>
</li>
<li><p>重定向（跳转到其他网页）</p>
<ul>
<li><code>header(&#39;Location: https://www.baidu.com&#39;);</code></li>
</ul>
</li>
<li><p>下载文件</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 让文件下载</span></span><br><span class="line">header(<span class="string">'Content-Type: application/octet-stream'</span>);</span><br><span class="line"><span class="comment">// 设置默认下载文件名</span></span><br><span class="line">header(<span class="string">'Content-Disposition: attachment; filename=demo.txt'</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>图片防盗链</p>
<ul>
<li>通过判断请求来源 <code>Referer</code> 是否为本网站从而区分是否是合法请求</li>
</ul>
</li>
</ul>
<h3 id="请求方式"><a href="#请求方式" class="headerlink" title="请求方式"></a>请求方式</h3><blockquote>
<p><a href="http://www.w3school.com.cn/tags/html_ref_httpmethods.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/tags/html_ref_httpmethods.asp</a></p>
<p><a href="http://www.runoob.com/http/http-methods.html" target="_blank" rel="noopener">http://www.runoob.com/http/http-methods.html</a></p>
</blockquote>
<h4 id="GET"><a href="#GET" class="headerlink" title="GET"></a>GET</h4><p>字面意思：拿，获取</p>
<h4 id="POST"><a href="#POST" class="headerlink" title="POST"></a>POST</h4><p>字面意思：发，给</p>
<h4 id="对比-GET-与-POST"><a href="#对比-GET-与-POST" class="headerlink" title="对比 GET 与 POST"></a>对比 GET 与 POST</h4><table>
<thead>
<tr>
<th></th>
<th>GET</th>
<th>POST</th>
</tr>
</thead>
<tbody>
<tr>
<td>后退按钮/刷新</td>
<td>无害</td>
<td>数据会被重新提交（浏览器应该告知用户数据会被重新提交）。</td>
</tr>
<tr>
<td>书签</td>
<td>可收藏为书签</td>
<td>不可收藏为书签</td>
</tr>
<tr>
<td>缓存</td>
<td>能被缓存</td>
<td>不能缓存</td>
</tr>
<tr>
<td>编码类型</td>
<td>application/x-www-form-urlencoded</td>
<td>application/x-www-form-urlencoded 或 multipart/form-data。为二进制数据使用多重编码。</td>
</tr>
<tr>
<td>历史</td>
<td>参数保留在浏览器历史中。</td>
<td>参数不会保存在浏览器历史中。</td>
</tr>
<tr>
<td>对数据长度的限制</td>
<td>是的。当发送数据时，GET 方法向 URL 添加数据；URL 的长度是受限制的（URL 的最大长度是 2048 个字符）。</td>
<td>无限制。</td>
</tr>
<tr>
<td>对数据类型的限制</td>
<td>只允许 ASCII 字符。</td>
<td>没有限制。也允许二进制数据。</td>
</tr>
<tr>
<td>安全性</td>
<td>与 POST 相比，GET 的安全性较差，因为所发送的数据是 URL 的一部分。在发送密码或其他敏感信息时绝不要使用 GET ！</td>
<td>POST 比 GET 更安全，因为参数不会被保存在浏览器历史或 web 服务器日志中。</td>
</tr>
<tr>
<td>可见性</td>
<td>数据在 URL 中对所有人都是可见的。</td>
<td>数据不会显示在 URL 中。</td>
</tr>
</tbody>
</table>
<h3 id="状态码"><a href="#状态码" class="headerlink" title="状态码"></a>状态码</h3><blockquote>
<p>了解即可，不用刻意去记忆，用多了自然就忘不了。</p>
<p><a href="http://www.w3school.com.cn/tags/html_ref_httpmessages.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/tags/html_ref_httpmessages.asp</a></p>
</blockquote>
<p>状态代码由三位数字组成，第一个数字定义了响应的类别，且有五种可能取值。</p>
<ul>
<li>1xx：指示信息 —— 表示请求已接收，继续处理。</li>
<li>2xx：成功 —— 表示请求已被成功接收、理解、接受。</li>
<li>3xx：重定向 —— 要完成请求必须进行更进一步的操作。</li>
<li>4xx：客户端错误 —— 请求有语法错误或请求无法实现。</li>
<li>5xx：服务器端错误 —— 服务器未能实现合法的请求。</li>
</ul>
<p>常见状态代码、状态描述的说明如下。</p>
<ul>
<li>200 OK：客户端请求成功。</li>
<li>400 Bad Request：客户端请求有语法错误，不能被服务器所理解。</li>
<li>401 Unauthorized：请求未经授权，这个状态代码必须和 <code>WWW-Authenticate</code> 报头域一起使用。</li>
<li>403 Forbidden：服务器收到请求，但是拒绝提供服务。</li>
<li>404 Not Found：请求资源不存在，举个例子：输入了错误的URL。</li>
<li>500 Internal Server Error：服务器发生不可预期的错误。</li>
<li>503 Server Unavailable：服务器当前不能处理客户端的请求，一段时间后可能恢复正常。</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/03/20/PHP_03.V5.0/" data-id="cjez7tlcv0005fwuqv07arfvn" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-PHP_02.V5.0" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/20/PHP_02.V5.0/" class="article-date">
  <time datetime="2018-03-20T03:56:29.833Z" itemprop="datePublished">2018-03-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/03/20/PHP_02.V5.0/">第二天 GET与POST</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="每日目标"><a href="#每日目标" class="headerlink" title="每日目标"></a>每日目标</h2><ul>
<li>能够进行服务端渲染操作</li>
<li>能够说出GET与POST请求方式的区别</li>
<li>能够在服务端分别接收GET与POST的请求参数</li>
<li>能够处理复选按钮的请求参数</li>
<li>能够进行文件上传并使用$_FILES处理</li>
<li>综合案例：<strong>能够完成注册案例</strong></li>
</ul>
<h2 id="GET请求"><a href="#GET请求" class="headerlink" title="GET请求"></a>GET请求</h2><p>请求在网站的访问过程中很常见，并且请求分为多种方式：GET、POST、PUT、DELETE、OPTIONS等。其中GET和POST最常用。</p>
<h3 id="什么是GET请求？"><a href="#什么是GET请求？" class="headerlink" title="什么是GET请求？"></a>什么是GET请求？</h3><p>GET从字面上理解为’获取’，通常用于获取服务端的数据。</p>
<p>常见的发起GET请求的方式有：</p>
<ul>
<li>地址栏访问</li>
<li>src/href</li>
<li>表单</li>
</ul>
<p>网页中有许多效果使用的就是GET请求：</p>
<ul>
<li>各种搜索框</li>
<li>各种详情页面</li>
<li>大部分请求都是GET请求。。。</li>
</ul>
<h2 id="表单处理"><a href="#表单处理" class="headerlink" title="表单处理"></a>表单处理</h2><p>表单的概念在生活中很常见，就像是问卷调查表一样，别人先把问卷发给你，你照着问卷的要求填写，完事过后再将填完的问卷发给别人，从而达到一个将别人需要的信息传递给别人的一种方式。</p>
<p>传统的网页大多数的作用都是展示数据，就是将信息传递给用户。而在现代化的 Web 开发中，非常注重信息交互，所以表单也随处可见，只是形式上变成网页，性质上还是一模一样的。主要的作用任然是<strong>收集指定的用户信息</strong>。</p>
<blockquote>
<p>信息交互：例如 <a href="http://www.jianshu.com" target="_blank" rel="noopener">简书</a> 这个平台，除了展示文章（展示信息），还可以发布文章（收集信息）</p>
</blockquote>
<h3 id="表单基本使用"><a href="#表单基本使用" class="headerlink" title="表单基本使用"></a>表单基本使用</h3><p>HTML 中有一个专门用于提交数据的标签：<code>&lt;form&gt;</code>，通过这个标签可以很容易的收集用户输入。</p>
<blockquote>
<p>form 标签有两个必要属性：</p>
<ul>
<li>action：表单提交地址（填完了，交给谁）</li>
<li>method：表单以什么方式提交</li>
</ul>
</blockquote>
<p>例如，我们需要在登录界面上收集用户输入的用户名和密码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>登录<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"login.php"</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"username"</span>&gt;</span>用户名<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"username"</span> <span class="attr">name</span>=<span class="string">"username"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"password"</span>&gt;</span>密码<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">id</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"password"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"submit"</span>&gt;</span>登录<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>按照目前的情况，用户第一次请求得到这个表单页面，填写完表单内容，点击登录，表单会自动发送到 <code>login.php</code>，剩下的问题就是要考虑如何在 <code>login.php</code> 中获取到用户提交过来的内容。</p>
<blockquote>
<p>PHP 中有三个超全局变量专门用来获取表单提交内容：</p>
<ul>
<li><code>$_GET</code>：用于获取以 GET 方式提交的内容，更标准的说法：接收 URL 地址问号参数中的数据</li>
<li><code>$_POST</code>：用于获取以 POST 方式提交的内容，更标准的说法：接收 请求体 中的数据</li>
<li><code>$_REQUEST</code>：用于获取 GET 或 POST 方式提交的内容</li>
</ul>
</blockquote>
<p>借助 <code>$_POST</code> 或者 <code>$_REQUEST</code> 就可以获取到表单提交的内容：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// 获取表单提交的用户名和密码</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">'用户名：'</span> . $_REQUEST[<span class="string">'username'</span>];</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'密码：'</span> . $_REQUEST[<span class="string">'password'</span>];</span><br></pre></td></tr></table></figure>
<h4 id="提交地址"><a href="#提交地址" class="headerlink" title="提交地址"></a>提交地址</h4><p><code>action</code> 提交地址指的是这个表单填写完成过后点击提交，发送请求的请求地址是什么。</p>
<p>从便于维护的角度考虑，一般我们最常见的都是提交给当前文件，然后在当前文件中判断是否是表单提交请求：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span> ($_SERVER[<span class="string">'REQUEST_METHOD'</span>] === <span class="string">'POST'</span>) &#123;</span><br><span class="line">  <span class="comment">// 表单提交请求</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>另外，建议使用 <code>$_SERVER[&#39;PHP_SELF&#39;]</code> 动态获取当前页面访问路径，这样就不用因为文件重命名或者网站目录结构调整而修改代码了：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 这样写死 action 地址，当文件重命名就需要修改代码 --&gt;</span><br><span class="line">&lt;form action=<span class="string">"/foo/login.php"</span>&gt;</span><br><span class="line">  &lt;!-- ... --&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;!-- 通过 `$_SERVER[<span class="string">'PHP_SELF'</span>]` 获取路径，可以轻松避免这个问题 --&gt;</span><br><span class="line">&lt;form action=<span class="string">"&lt;?php echo $_SERVER['PHP_SELF']; ?&gt;"</span>&gt;</span><br><span class="line">  &lt;!-- ... --&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure>
<h4 id="提交方式"><a href="#提交方式" class="headerlink" title="提交方式"></a>提交方式</h4><p><code>method</code> 可以用于设置表单提交的方式，目前我们所认识的就是最常见两种表单提交方式：<code>GET</code> 和 <code>POST</code>。</p>
<p>从效果上来看，两者都可以将数据提交到服务端，但是从实现提交的原理上两者有很大的不同：</p>
<ul>
<li>GET<ul>
<li><strong>表单数据是通过 URL 中的 ? 参数传递到服务端的</strong></li>
<li>可以在地址栏中看到提交的内容</li>
<li>数据长度有限制，因为 URL 地址长度有限（2000个字符）</li>
</ul>
</li>
<li>POST<ul>
<li><strong>表单数据是通过请求体传递到服务端的</strong>，我们在界面上看不到</li>
<li>可以提交任何类型的数据，包括文件</li>
<li>由于界面上看不见，浏览器也不储存，所以更安全</li>
</ul>
</li>
</ul>
<p>至于什么情况下应该选用哪种方式，这个需要结合业务场景和这两种方式各自的特点来决定，没有绝对的答案，只能给出一些原则：</p>
<ul>
<li>绝不能使用 GET 来发送密码或其他敏感信息！！！</li>
<li><strong>应该想清楚这次请求到底主要是去拿东西，还是去送东西</strong></li>
</ul>
<h3 id="常见表单元素处理"><a href="#常见表单元素处理" class="headerlink" title="常见表单元素处理"></a>常见表单元素处理</h3><p>至于表单元素中的文本框文本域一类的元素，都是直接将元素的 <code>name</code> 属性值作为键，用户填写的信息作为值，发送到服务端。</p>
<p>但是表单元素中还有一些比较特殊的表单元素需要单独考虑：</p>
<h4 id="单选按钮"><a href="#单选按钮" class="headerlink" title="单选按钮"></a>单选按钮</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 最终只会提交选中的那一项的 value --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"gender"</span> <span class="attr">value</span>=<span class="string">"male"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"gender"</span> <span class="attr">value</span>=<span class="string">"female"</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="复选按钮"><a href="#复选按钮" class="headerlink" title="复选按钮"></a>复选按钮</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 没有设置 value 的 checkbox 选中提交的 value 是 on --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"agree"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 设置了 value 的 checkbox 选中提交的是 value 值 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"agree"</span> <span class="attr">value</span>=<span class="string">"true"</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>如果需要同时提交多个选中项，可以在 <code>name</code> 属性后面 跟上 <code>[]</code>：</p>
<blockquote>
<p><a href="http://php.net/manual/zh/faq.html.php#faq.html.arrays" target="_blank" rel="noopener">http://php.net/manual/zh/faq.html.php#faq.html.arrays</a></p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"funs[]"</span> <span class="attr">value</span>=<span class="string">"football"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"funs[]"</span> <span class="attr">value</span>=<span class="string">"basketball"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"funs[]"</span> <span class="attr">value</span>=<span class="string">"world peace"</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>最终提交到服务端，通过 <code>$_POST</code> 接收到的是一个索引数组。</p>
<h4 id="选择框"><a href="#选择框" class="headerlink" title="选择框"></a>选择框</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">"subject"</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 设置 value 提交 value --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"1"</span>&gt;</span>语文<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 没有设置 value 提交 innerText --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span>&gt;</span>数学<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h3><h4 id="基于文件的注册"><a href="#基于文件的注册" class="headerlink" title="基于文件的注册"></a>基于文件的注册</h4><ol>
<li>分析<ol>
<li>用户请求一个注册页面</li>
<li>服务端返回一个注册表单</li>
<li>用户填写表单并提交</li>
<li>服务端接收用户提交的信息</li>
<li>判断是否正确填写内容以及是否勾选同意</li>
<li>如果出现异常界面给出提示，并返回表单</li>
<li>如果都正常，则保存到文件中（每个用户一行）</li>
</ol>
</li>
</ol>
<h3 id="文件上传"><a href="#文件上传" class="headerlink" title="文件上传"></a>文件上传</h3><blockquote>
<p><a href="http://php.net/manual/zh/features.file-upload.php" target="_blank" rel="noopener">http://php.net/manual/zh/features.file-upload.php</a></p>
<p><strong>注意：</strong></p>
<ul>
<li>修改 <code>php.ini</code> 中的 <code>post_max_size</code> 配置，让服务端可以接受更大的请求体体积</li>
<li>修改 <code>php.ini</code> 中的 <code>upload_max_filesize</code> 配置，让服务端支持更大的单个上传文件</li>
</ul>
<p>*暂时作为了解</p>
</blockquote>
<p><code>type</code> 属性为 <code>file</code> 的 <code>input</code> 元素可以通过表单提交文件（上传文件），服务端 PHP 可以通过 <code>$_FILES</code> 获取上传的文件信息。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// 如果选择了文件 $_FILES['file']['error'] =&gt; 0</span></span><br><span class="line"><span class="comment">// 详细的错误码说明：http://php.net/manual/zh/features.file-upload.errors.php</span></span><br><span class="line"><span class="keyword">if</span> ($_FILES[<span class="string">'file'</span>][<span class="string">'error'</span>] === <span class="number">0</span>) &#123;</span><br><span class="line">  <span class="comment">// PHP 在会自动接收客户端上传的文件到一个临时的目录</span></span><br><span class="line">  $temp_file = $_FILES[<span class="string">'file'</span>][<span class="string">'tmp_name'</span>];</span><br><span class="line">  <span class="comment">// 我们只需要把文件保存到我们指定上传目录</span></span><br><span class="line">  $target_file = <span class="string">'../static/uploads/'</span> . $_FILES[<span class="string">'file'</span>][<span class="string">'name'</span>];</span><br><span class="line">  <span class="keyword">if</span> (move_uploaded_file($temp_file, $target_file)) &#123;</span><br><span class="line">    $image_file = <span class="string">'/static/uploads/'</span> . $_FILES[<span class="string">'file'</span>][<span class="string">'name'</span>];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>$_FILES</code> 同样也是一个关联数组，键为表单的 <code>name</code>，内容如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">array(1) &#123;</span><br><span class="line">  [&quot;avatar&quot;]=&gt;</span><br><span class="line">  array(5) &#123;</span><br><span class="line">    [&quot;name&quot;]=&gt;</span><br><span class="line">    string(17) &quot;demo.jpg&quot;</span><br><span class="line">    [&quot;type&quot;]=&gt;</span><br><span class="line">    string(10) &quot;image/jpeg&quot;</span><br><span class="line">    [&quot;tmp_name&quot;]=&gt;</span><br><span class="line">    string(27) &quot;C:\Windows\Temp\php786C.tmp&quot;</span><br><span class="line">    [&quot;error&quot;]=&gt;</span><br><span class="line">    int(0)</span><br><span class="line">    [&quot;size&quot;]=&gt;</span><br><span class="line">    int(29501)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="文件移动"><a href="#文件移动" class="headerlink" title="文件移动"></a>文件移动</h4><p>如果需要将上传后的文件移动到某个指定位置，需要使用move_uploaded_file()函数</p>
<p> <a href="http://www.w3school.com.cn/php/func_filesystem_move_uploaded_file.asp" target="_blank" rel="noopener">move_uploaded_file()</a> | 将上传的文件移动到新位置。   </p>
<h3 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h3><ul>
<li>HTML 中的 form 标签：<a href="http://www.w3school.com.cn/html/html_forms.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/html/html_forms.asp</a></li>
<li>PHP 中处理表单：<a href="http://www.w3school.com.cn/php/php_forms.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/php/php_forms.asp</a></li>
<li>Emmet 手册：<a href="https://docs.emmet.io/cheat-sheet/" target="_blank" rel="noopener">https://docs.emmet.io/cheat-sheet/</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/03/20/PHP_02.V5.0/" data-id="cjez7tlcr0002fwuqo6g6afx3" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-vue" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/19/vue/" class="article-date">
  <time datetime="2018-03-19T13:14:19.768Z" itemprop="datePublished">2018-03-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/03/19/vue/">Vue + ES6</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>安装时报错，一般是网络问题!!!!!     具体学习   <a href="http://jspang.com/2017/04/10/vue-cli/" target="_blank" rel="noopener">http://jspang.com/2017/04/10/vue-cli/</a><br>安装一个服务环境，通过cmd命令下载</p>
<p> 找到项目所在的路径后 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cnpm install -g live-server</span><br><span class="line"></span><br><span class="line">live-server</span><br></pre></td></tr></table></figure>
<p> 自己将打开一个页面</p>
<p>前端项目都需要进行初始化，得到 package.json文件   npm init  后面的选项自己选填，不写的直接回车即可   npm init -y 一切默认-不用回车</p>
<p>vue-cli 构建项目开发环境，获取项目模板——-Vue-cli是vue官方出品的快速构建单页应用的脚手架</p>
<p>1.在cmd下载vue-cli   找到新建项目的目录</p>
<pre><code>cnpm install vue-cli -g
</code></pre><ol>
<li>初始化及构建项目目录  </li>
</ol>
<pre><code>vue init webpack vuecliTest   (后面那个是项目的名字，前面那个webpack默认)
project name: 自己写
project description :可以回车不写
Author:自己写
Vue bulid：回车
install vue-router? y
后面的根据情况 y/n  基本上 n
可以根据上面的提示： cd vuecliTest
npm install
</code></pre><p><strong>！！！！！！      npm run dev   如果能在浏览器中正常打开页面，说明安装正确   会告诉你打开的页面地址</strong></p>
<p> 3.如果项目已经完成，需要上传到服务器上，需要进行打包</p>
<pre><code>npm run build           vue-cli会自动进行项目发布打包
</code></pre><p>在执行完npm run build命令后，在你的项目根目录生成了dist文件夹，这个文件夹里边就是我们要传到服务器上的文件。</p>
<p> dist文件夹下目录包括：</p>
<p>index.html 主页文件:因为我们开发的是单页web应用，所以说一般只有一个html文件。</p>
<p>static 静态资源文件夹：里边js、CSS和一些图片。</p>
<h4 id="———————–Vue-cli模板文件介绍———————————————————————–"><a href="#———————–Vue-cli模板文件介绍———————————————————————–" class="headerlink" title="———————–Vue-cli模板文件介绍———————————————————————–"></a>———————–Vue-cli模板文件介绍———————————————————————–</h4><ol>
<li><p>components  —- vue公共组件</p>
<p>App.vue  ——–  页面入口文件</p>
<p>main.js ———- 程序入口文件，加载各种公共组件</p>
<p>static ———– 静态文件，比如一些图片，json数据等  本地下载的fonticon</p>
<p>.babelrc ———- ES6语法编译配置</p>
<p>.editorconfig — —- 定义代码格式  不同公司不同要求</p>
<p>README.md  ————  项目说明</p>
<p>index.html ———— 入口页面</p>
<p>package.json ———  项目基本信息</p>
<p>​</p>
</li>
</ol>
<h4 id="——————–-vue-router-对模板的应用-———————————————————"><a href="#——————–-vue-router-对模板的应用-———————————————————" class="headerlink" title="——————– vue-router 对模板的应用 ———————————————————"></a>——————– vue-router 对模板的应用 ———————————————————</h4><ol>
<li>一个.vue组件就是一个页面—-一个页面就要在路由配置 index.js 进行配置 path 就是你点击链接的时候，</li>
</ol>
<p>​        进入一个新页面的地址，每配置一个路由就要引入一个组件 import XX from ‘.vue组件的相对地址’</p>
<ol>
<li><p>APP.vue文件相当于一个页面的整体布局，可以定义公共组件，无论哪个页面都会有，</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-view&gt;&lt;/router-view&gt;</span><br></pre></td></tr></table></figure>
<p>就是点击不同链接，那个部分显示每个组件自己的内容，变化的区域，APP.vue文件可以实现，单页面多路由，即多个<router-view name=""></router-view>  如果有三个，可以写样式让他们放在固定的位置上，其中有一个<router-view name=""></router-view> 不用写name属性，是默认的，其他的都必须写。</p>
<p>然后配置路由：        </p>
<pre><code>{ 
   path: &apos;/&apos;,
    components: {
            default:Hello,
            left:Hi1,
            right:Hi2
     }
  }
</code></pre><p> components 的写法，与我们前面的name属性进行对应，后面是对应位置显示的组件内容。</p>
</li>
<li><p>每个页面的公用样式写在APP.vue页面的style里面，不共用的写在自己组件下面 加scoped</p>
<p>   每个页面都可以有链接 <router-link to="/Home"></router-link> to后面跟你要跳转页面组件的地址</p>
<p>   to也可以进行传参 <router-link :to="{name:‘hi1’,params:{username:'jspang'}}">liu</router-link></p>
<p>   to是进行绑定的，name和你要跳转页面组件的name相对应，后面是传递的参数，你可以在你跳转页面 </p>
<p>   用接收</p>
</li>
<li><p>子路由： </p>
<p>   （1）在任何页面都可以有子路由，就是在这个页面，有一个固定的位置留给了你的子页面，你需要写</p>
<pre><code>&lt;router-view&gt;&lt;/router-view&gt;给位置留出来，然后在本页面点击不同链接，可以在你留的位置显示你的子页面的内容
</code></pre>   <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link to=&quot;/hi/hi1&quot;&gt;-Hi页面1&lt;/router-link&gt; </span><br><span class="line">&lt;router-link to=&quot;/hi/hi2&quot;&gt;-Hi页面2&lt;/router-link&gt;</span><br></pre></td></tr></table></figure>
<pre><code>（2）配置路由： import Hi from &apos;@/components/Hi&apos; 
               import Hi1 from &apos;@/components/Hi1&apos; 
               import Hi2 from &apos;@/components/Hi2&apos;

             {
               path:&apos;/hi&apos;,
               component:Hi,
               children:[
                  {path:&apos;hi1&apos;,component:Hi1},
                  {path:&apos;hi2&apos;,component:Hi2}
               ]
              }
</code></pre><p>  （3）可以在你的子页面进行内容的编写即可</p>
</li>
<li><p>vue-router 利用url传递参数，比如说页面有多条新闻点击不同的标题会进入不同的页面，这时候点击的标题</p>
<p> 对应的地址栏的地址不同，常用的是这个页面的地址加新闻的id 和 新闻的title  每条新闻都不一样</p>
</li>
</ol>
<pre><code> &lt;router-link to=&quot;/params/198/jspang website is very good&quot;&gt;params&lt;/router-link&gt;  链接的写法

配置路由： {
           path:&apos;/params/:newsId/:newsTitle&apos;,
           component:Params
           }
这是你要跳转的页面 用：进行绑定参数   在链接里面进行给值，就可以传递到地址栏里面了

如果newsId只能是数字，支持正则  path:&apos;/params/:newsId（\\d+）/:newsTitle&apos;,
</code></pre><p> <strong>！！~~  如果现在是很多条新闻，我们用v-for进行循环 我们用to怎么进行传递参数？？？？？</strong></p>
<pre><code>&lt;router-link class=&quot;title link&quot; :to=&quot;item.url&quot;&gt;{{item.title}}&lt;/router-link&gt;
</code></pre><p>我们在data数据里面定义了一个数组，遍历这个数组里面的json 进行取值就可以了  用to进行绑定</p>
<p>每个json定义不同的 ‘url’:’/PE/456/qwe’  后面的传递的参数，，我们在跳转的页面路由进行传参的配置就可以了</p>
<pre><code>path:&apos;/PE/:newsId（\\d+）/:newsTitle&apos;
</code></pre><ol>
<li><p>不同的链接，点击后希望可以跳转到同一个页面，就是路由的重定向：redirect  </p>
<p>当然跳转后地址栏的地址是redirect后面的地址，就是相当于给path的地址变成了 redirect后面的地址</p>
<p>（1）不传参数时：</p>
<pre><code>            {   
              path:&apos;/goback&apos;,
               redirect:&apos;/&apos;
             }
就是链接&lt;router-link to=&quot;/goback&quot;&gt;&lt;/router-link&gt; 进入的是goback这个组件，但是实际进入的是主页，地址栏的地址也是首页的地址
</code></pre><p>（2）传递参数时：</p>
<pre><code>  {
      path:&apos;/params/:newsId(\\d+)/:newsTitle&apos;,
      component:Params
  },{
      path:&apos;/hello/:newsId(\\d+)/:newsTitle&apos;,
      redirect:&apos;/params/:newsId(\\d+)/:newsTitle&apos;
    }      
&lt;router-link to=&quot;/hello/123/jspang&quot;&gt;&lt;/router-link&gt;
</code></pre></li>
</ol>
<p>我们只要把传递参数模块设置成一样的就行了 :newsId(\d+)/:newsTitle  （三个地方都一样）这样redirect后面的内容就和 最上面那个path内容一模一样了</p>
<p>出现一个问题：这样的话，原来那个页面params 在链接的to属性也要进行传参数，不然不能出现页面（也不报错）</p>
<ol>
<li><p>使用alias别名的形式，我们也可以实现类似重定向的效果</p>
<p>redirect：仔细观察URL，redirect是直接改变了url的值，把url变成了真实的path路径。</p>
<p>​                 URL地址就是 – ———和那个的页面有相同的地址</p>
<p>alias：URL路径没有别改变，这种情况更友好，让用户知道自己访问的路径，只是改变了<router-view>中的内容</router-view></p>
<p> URL地址就是 链接里面的to后面的地址</p>
</li>
</ol>
<pre><code>{
 path: &apos;/hi1&apos;,
 component: Hi1,
 alias:&apos;/jspang&apos;
}

&lt;router-link to=&quot;/jspang&quot;&gt;jspang&lt;/router-link&gt;       就可以进入和Hi1相同的那个页面了
</code></pre><p><strong>别名请不要用在path为’/’中，就是在主页中设置别名是不起作用的！！！！！！！—-  我的首页起作用</strong></p>
<ol>
<li>路由的过渡动画：transition 标签— 可以在页面切换时我们加入一些动画效果</li>
</ol>
<p>需要在<router-view>标签的外部添加<transition>标签，标签还需要一个name属性</transition></router-view></p>
<pre><code>&lt;transition name=&quot;fade&quot; mode=&quot;out-in&quot;&gt;
     &lt;router-view &gt;&lt;/router-view&gt;
&lt;/transition&gt;

  fade-enter:进入过渡的开始状态，元素被插入时生效，只应用一帧后立刻删除。
  fade-enter-active:进入过渡的结束状态，元素被插入时就生效，在过渡过程完成后移除。
  fade-leave:离开过渡的开始状态，元素被删除时触发，只应用一帧后立刻删除。
  fade-leave-active:离开过渡的结束状态，元素被删除时生效，离开过渡完成后被删除 

 制作一个简单的透明度效果：
                       .fade-enter {
                            opacity:0;
                        }
                       .fade-leave{
                            opacity:1;
                        }
                       .fade-enter-active{
                            transition:opacity .5s;
                        }
                       .fade-leave-active{
                             opacity:0;
                             transition:opacity .5s;
                        }
</code></pre><p>  默认的mode模式in-out模式</p>
<p>in-out:新元素先进入过渡，完成之后当前元素过渡离开。</p>
<p>out-in:当前元素先进行过渡离开，离开完成后新元素过渡进入 —-想做出实用酷炫的过渡效果，你需要有较强的动画制作能力</p>
<ol>
<li><p>路由的属性中还有一个mode   我们可以设置为  mode:’history’,</p>
<p>histroy:当你使用 history 模式时，URL 就像正常的 url，例如 <a href="http://jsapng.com/lms/，也好看！" target="_blank" rel="noopener">http://jsapng.com/lms/，也好看！</a><br>hash:默认’hash’值，但是hash看起来就像无意义的字符排列，不太好看也不符合我们一般的网址浏览习惯。</p>
</li>
<li><p>404页面的设置  — 就是配置路由，写一个404组件  编写一个漂亮的404出错页面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  path:&apos;*&apos;,</span><br><span class="line">  component:Error</span><br><span class="line">&#125;</span><br><span class="line"> import Error from &apos;@/components/page/Error&apos;</span><br></pre></td></tr></table></figure>
<p>当我们在地址栏输入错误的地址时就会出现这个404页面</p>
</li>
<li><p>路由中的钩子</p>
<pre><code>（1）路由配置文件中的钩子函数  （只有这一个钩子函数）
</code></pre><p> {<br>  path:’/params/:newsId(\d+)/:newsTitle’,<br>  component:Params,<br>  beforeEnter:(to,from,next)=&gt;{</p>
<pre><code>console.log(&apos;我进入了params模板&apos;);
console.log(to);  //to:路由将要跳转的路径信息，信息是包含在对像里边的
console.log(from); //from:路径跳转前的路径信息，也是一个对象的形式
next();            //next:路由的控制参数，常用的有next(true)和next(false)
</code></pre><p> },<br>(2) 写在模板中的钩子函数 ( 有两个函数)  —  可以监控到路由的进入和路由的离开，也可以轻易的读出to和from的值。</p>
<p>beforeRouteEnter：在路由进入前的钩子函数。</p>
<p>beforeRouteLeave：在路由离开前的钩子函数</p>
<p>data (){<br> return {</p>
<pre><code>msg: &apos;params page&apos;
}
</code></pre><p>},<br>beforeRouteEnter:(to,from,next)=&gt;{<br>  console.log(“准备进入路由模板”);<br>  next();<br> },<br>beforeRouteLeave: (to, from, next) =&gt; {<br>  console.log(“准备离开路由模板”);<br>  next();<br> }</p>
<ol>
<li>编程式导航 — 可以用其他标签代替链接，进行  前进–后退 或者直接进入指定的页面</li>
</ol>
<p>（1）this.$router.go(-1) 代表后退</p>
<button @click="goback">后退</button>

<p>模块中写入goback()方法： </p>
<pre><code>methods:{
     goback(){
        this.$router.go(-1);
             } 
        }
</code></pre><p>（2） this.$router.go(1) 代表前进  同理</p>
<p>（3） this.$router.push(‘/xxx ‘)  这个编程式导航都作用就是跳转，比如我们判断用户名和密码正确时， 需要跳转到用户中心页面或者首页，都用到这个编程的方法来操作路由</p>
<p>  goHome(){</p>
<pre><code>this.$router.push(&apos;/&apos;);   或者   this.$router.replace(&apos;/&apos;);
</code></pre><p>   }<br>  直接跳回首页…..</p>
</li>
</ol>
<h4 id=""><a href="#" class="headerlink" title=" "></a> </h4><h4 id="——————————————–-Vue-2-0-基础-指令篇-———————————————–"><a href="#——————————————–-Vue-2-0-基础-指令篇-———————————————–" class="headerlink" title="——————————————–  Vue 2.0 基础  指令篇  ———————————————–"></a>——————————————–  Vue 2.0 基础  指令篇  ———————————————–</h4><ol>
<li><p>v-if  v-else  v-show</p>
<p>（1）v-if用来判断是否加载html的DOM，比如我们模拟一个用户登录状态，在用户登录后实现用户名称</p>
</li>
</ol>
<p>这里我们在vue的data里定义了isLogin的值，当它为true时，网页就会显示：你好：JSPang，如果为false时，就显示请登录后操作</p>
<pre><code>&lt;div id=&quot;app&quot;&gt;
    &lt;div v-if=&quot;isLogin&quot;&gt;你好：JSPang&lt;/div&gt;
    &lt;div v-else&gt;请登录后操作&lt;/div&gt;
&lt;/div&gt;

isLogin:false
</code></pre><p> （2） v-show: 调整css中display属性，DOM已经加载，只是CSS控制没有显示出来</p>
<p> （3） v-for:    </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;li v-for=&quot;item in items&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/li&gt;</span><br></pre></td></tr></table></figure>
<pre><code>data:{
     items:[20,23,18,65,32,19,54,56,41]
 }
</code></pre><p>  输出前，我们需要给数组进行排序：  工作中经常进行使用</p>
<pre><code>computed:{
      sortItems:function(){
           return this.items.sort(sortNumber);
          }
       } 
</code></pre><p>  //我们在computed里新声明了一个对象sortItems，如果不重新声明会污染原来的数据源，这是Vue不允许的，所以你要重新声明一个对象</p>
<p> 自己编写一个方法sortNumber— 直接用sort()不准确，只能比较第一个数</p>
<pre><code>function sortNumber(a,b){
                return a-b
  }
</code></pre><p>  —-对象的循环输出： 数组里面是对象</p>
<p>  有索引情况：</p>
<pre><code>&lt;ul&gt;
  &lt;li v-for=&quot;(student,index) in students&quot;&gt;
     {{index}}: -{{student.name}} - {{student.age}}
  &lt;/li&gt;
&lt;/ul&gt;
</code></pre><p>  原生的对象形式的数组排序方法:</p>
<p> //数组对象方法排序:<br>    function sortByKey(array,key){<br>         return array.sort(function(a,b){<br>               var x=a[key];<br>               var y=b[key];<br>               return ((x&lt;y)?-1:((x&gt;y)?1:0));<br>             });<br>          }<br>      computed:{<br>          sortStudent:function(){<br>          return sortByKey(this.students,’age’);<br>           }<br>     }</p>
<ol>
<li><p>v-text &amp; v-html</p>
<p>,这种情况是有弊端的，就是当我们网速很慢或者javascript出错时，会暴露我们的。Vue给我们提供的v-text,就是解决这个问题的</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;span v-text=&quot;message&quot;&gt;&lt;/span&gt;</span><br></pre></td></tr></table></figure>
<h4 id="在javascript中写有html标签-v-html-可以进行解析html代码-—"><a href="#在javascript中写有html标签-v-html-可以进行解析html代码-—" class="headerlink" title="在javascript中写有html标签,v-html 可以进行解析html代码 —"></a>在javascript中写有html标签,v-html 可以进行解析html代码 —</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;span v-html=&quot;msgHtml&quot;&gt;&lt;/span&gt;</span><br></pre></td></tr></table></figure>
<h2 id="！！！！！只能在可信的内容上使用v-html，永远不要在用户提交和可操作的网页上使用。"><a href="#！！！！！只能在可信的内容上使用v-html，永远不要在用户提交和可操作的网页上使用。" class="headerlink" title="！！！！！只能在可信的内容上使用v-html，永远不要在用户提交和可操作的网页上使用。"></a>！！！！！只能在可信的内容上使用v-html，永远不要在用户提交和可操作的网页上使用。</h2><ol>
<li><p>v-on：绑定事件监听器   简写@</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;button @click=&quot;jianfen&quot;&gt;减分&lt;/button&gt;</span><br></pre></td></tr></table></figure>
<p>除了绑定click之外，我们还可以绑定其它事件，比如键盘回车事件v-on:keyup.enter</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=&quot;text&quot; v-on:keyup.enter=&quot;onEnter&quot; v-model=&quot;secondCount&quot;&gt;</span><br><span class="line"></span><br><span class="line">onEnter:function()&#123;</span><br><span class="line">     this.count=this.count+parseInt(this.secondCount);</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p> 因为文本框的数字会默认转变成字符串，所以我们需要用parseInt()函数进行整数转换</p>
<ol>
<li><p>v-model指令  – 把数据绑定在特定的表单元素上，可以很容易的实现双向数据绑定</p>
<p>​</p>
</li>
</ol>
<h4 id="————————-Element-ui-——————————————————–"><a href="#————————-Element-ui-——————————————————–" class="headerlink" title="————————- Element ui ——————————————————–"></a>————————- Element ui ——————————————————–</h4><p> <a href="http://element.eleme.io/#/zh-CN/component/quickstart" target="_blank" rel="noopener">http://element.eleme.io/#/zh-CN/component/quickstart</a></p>
<p>项目中引入Element ui      </p>
<pre><code>cnpm install element-ui --save  
</code></pre><p> 在main.js中写入以下内容:</p>
<pre><code>import ElementUI from &apos;element-ui&apos;
import &apos;element-ui/lib/theme-chalk/index.css&apos;
Vue.use(ElementUI)
</code></pre><h4 id="————————-Axios-——————————————————–"><a href="#————————-Axios-——————————————————–" class="headerlink" title="———————— Axios ——————————————————–"></a>———————— Axios ——————————————————–</h4><p>  安装Axios</p>
<pre><code>cnpm install axios --save
</code></pre><p>  在首页 pos.vue页面引入</p>
<pre><code>import axios from &apos;axios&apos;
</code></pre><h3 id="ES6-环境配置"><a href="#ES6-环境配置" class="headerlink" title="ES6 环境配置"></a>ES6 环境配置</h3><p> ES6代码转化成ES5</p>
<p>  1.工程目录下边建立两个文件夹：src和dist</p>
<p>​    src：书写ES6代码的文件夹</p>
<p>​    dist：利用Babel编译成的ES5代码的文件夹</p>
<p> 2.新建一个index.html文件</p>
<p> 3.引入的是dist目录下的文件 即生成的ES5      </p>
<pre><code>&lt;script src=&quot;./dist/index.js&quot;&gt;&lt;/script&gt;
</code></pre><p> 4.在安装Babel之前,先初始化我们的项目</p>
<pre><code>npm init -y  (生产package.json文件)     -y代表全部默认同意，就不用一次次按回车了
</code></pre><p> 5.全局安装Babel-cli  (仍然不能成功转化)</p>
<pre><code>cnpm install -g babel-cli   
</code></pre><p> 6.本地安装babel-preset-es2015 和 babel-cli</p>
<pre><code>npm install --save-dev babel-preset-es2015 babel-cli
</code></pre><p> 安装完成后，我们可以看一下我们的package.json文件，已经多了devDependencies选项</p>
<p> 7.在根目录下新建.babelrc文件，并打开录入下面的代码</p>
<pre><code>   {
    &quot;presets&quot;:[
         &quot;es2015&quot;
     ],
    &quot;plugins&quot;:[]
    }


8.打开package.json文件，把文件修改成下面的样子。

       {
          &quot;name&quot;: &quot;es6&quot;,
          &quot;version&quot;: &quot;1.0.0&quot;,
          &quot;description&quot;: &quot;&quot;,
          &quot;main&quot;: &quot;index.js&quot;,
          &quot;scripts&quot;: {
                     &quot;build&quot;: &quot;babel src/index.js -o dist/index.js&quot;      ！！！
            }
         }
</code></pre><ol>
<li>npm run build成功转化！！！！！！</li>
</ol>
<h3 id="ES6中新增的数字操作："><a href="#ES6中新增的数字操作：" class="headerlink" title="ES6中新增的数字操作："></a>ES6中新增的数字操作：</h3><ol>
<li><p>数字验证  Number.isFinite( xx ) 只要是数字，不论是浮点型还是整形都会返回true，其他时候会返回false。</p>
</li>
<li><p>NaN验证   Number.isNaN(xx)); console.log(Number.isNaN(NaN));  true</p>
</li>
<li><p>判断是否为整数  Number.isInteger(xx)   </p>
</li>
</ol>
<pre><code>let a=123.1;
console.log(Number.isInteger(a)); //false
</code></pre><ol>
<li>整数转换Number.parseInt(xxx)</li>
</ol>
<p>​    浮点型转换Number.parseFloat(xxx)</p>
<ol>
<li><p>最大安全整数   console.log(Number.MAX_SAFE_INTEGER); </p>
</li>
<li><p>最小安全整数   console.log(Number.MIN_SAFE_INTEGER);</p>
</li>
<li><p>安全整数判断   isSafeInteger( )</p>
</li>
</ol>
<pre><code> let a= Math.pow(2,53)-1;
console.log(Number.isSafeInteger(a));//false
</code></pre><h3 id="ES6-字符串连接操作"><a href="#ES6-字符串连接操作" class="headerlink" title="ES6 字符串连接操作"></a>ES6 字符串连接操作</h3><ol>
<li>用<code></code>进行连接  ${};</li>
</ol>
<p>2.查找是否存在:   let jspang=’技术胖’;</p>
<pre><code>let blog = &apos;非常高兴你能看到这篇文章，我是你的老朋友技术胖。这节课我们学习字符串模版。&apos;;
document.write(blog.includes(jspang));
</code></pre><p>3.判断开头是否存在： blog.startsWith(jspang);</p>
<p>4.判断结尾是否存在： blog.endsWith(jspang);</p>
<p>5.复制字符串   blog.repeat(4);</p>
<pre><code>document.write(&apos;jspang|&apos;.repeat(3));
</code></pre><p>  <strong>数组  在开发中特别重要  注意经常用 熟练掌握</strong></p>
<ol>
<li><p>JSON的数组格式</p>
<pre><code>let json={ 
   &apos;0&apos;:&apos;jspang&apos;,
    &apos;1&apos;:&apos;技术胖&apos;，
    &apos;2&apos;:&apos;比比叨&apos;，
    length:3   //重要  必写
    }
 let arr=Array.from(json);  //json转化为数组
 console.log(arr);
</code></pre></li>
</ol>
<ol>
<li><p>Array.of()  这个方法可以将 字符串转化成数组  </p>
<pre><code>let arr=Array.of(3,4,5,6,7);
console.log(arr);  //[3,4,5,6,7];
let arr=Array.of(&apos;[1,2,3,4,5]&apos;);
console.log(arr);  //[1,2,3,4,5];
let arr=Array.of(&apos;cjc&apos;,&apos;ttt&apos;,223); 
console.log(arr);  //[&apos;cjc&apos;,&apos;ttt&apos;,223];
</code></pre></li>
<li><p>find()  实例方法1–》所谓的实例方法就是并不是以Array对象开始的，而是必须有一个已经存在的数组，然后使用的方法</p>
<pre><code>let arr=[1,2,3,4,5,6,7,8,9];
arr.find(function(value,index,arr){  //value：表示当前查找的值
return value&gt;5; 
})               //可以利用传递的三个参数，得到我们需要的的值进行返回得到
                  如果找不到会显示undefined,  找到一个后就会返回
</code></pre></li>
</ol>
<ol>
<li><p>实例2  fill() 它的作用是把数组进行填充，它接收三个参数，第一个参数是填充的变量，第二个是开始填充的位置，第三个是填充到的位置。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let arr=[0,1,2,3,4,5,6,7,8,9];</span><br><span class="line">arr.fill(&apos;jspang&apos;,2,5);</span><br><span class="line">console.log(arr);     //上边的代码是把数组从第二位到第五位用jspang进行填充 ,,就是从第二位开始到第                          五位之前都是jspang</span><br></pre></td></tr></table></figure>
</li>
<li><p>数组的遍历   for … of 循环</p>
<pre><code>(1)  let arr=[&apos;jspang&apos;,&apos;技术胖&apos;,&apos;大胖逼逼叨&apos;]
     for (let index of arr.keys()){
         console.log(index);
      }          //只利用索引的情况

（2） let arr=[&apos;jspang&apos;,&apos;技术胖&apos;,&apos;大胖逼逼叨&apos;]
      for (let item of arr){
        console.log(item);
      }         // 只循环值

（3） let arr=[&apos;jspang&apos;,&apos;aaa&apos;,&apos;bbb&apos;];

 for(let [index,val] of arr.entries()){

    console.log(index+&apos;:&apos;+val);

     }       //同时用的情况
</code></pre></li>
<li><p>entries()方法  —》entries()实例方式生成的是Iterator形式的数组，那这种形式的好处就是可以让我们在需要时用next()手动跳转到下一个值</p>
<pre><code>let arr=[&apos;jspang&apos;,&apos;技术胖&apos;,&apos;saji&apos;];
let list=arr.entries();
console.log(list.next().value);   //jspang
console.log(list.next().value);   //技术胖
console.log(list.next().value);   //saji
</code></pre><p>   ​</p>
</li>
</ol>
<h3 id="ES6中的箭头函数和扩展"><a href="#ES6中的箭头函数和扩展" class="headerlink" title="ES6中的箭头函数和扩展"></a>ES6中的箭头函数和扩展</h3><ol>
<li><p>主动抛出错误Error</p>
<pre><code>function add(a,b=1){ 
  if(a==0){
    throw new Error(&apos;A is error&apos;);
 }
 return a+b;
} 
  console.log(add(0));   //在控制台会报错 A is error
</code></pre></li>
<li><p>箭头函数  箭头函数中不可加new，也就是说箭头函数不能当构造函数进行使用</p>
<p>   var add=(a,b=1)=&gt;a+b;   直接获得返回的值 —仅限于只有一行代码<br>   console.log(add(1));   //2<br>​        </p>
<pre><code>var add=(a,b=1)=&gt;{ return a+b;}   
console.log(add(1));   //2
</code></pre><p>   // 多行代码的情况</p>
<pre><code>var add=(a,b=1)=&gt;{
    console.log(&apos;jspang&apos;);
    return a+b;
 }

 console.log(add(1));   //2
</code></pre></li>
<li><p>获得需要传递的参数个数  console.log(add.length);</p>
</li>
<li><p>函数中的严谨模式   我们在ES中就经常使用严谨模式来进行编程，但是必须写在代码最上边，相当于全局使用  ‘use strict’     在ES6中我们可以写在函数体中，相当于针对函数来使用。</p>
<pre><code>如果你使用了默认值，再使用严谨模式的话，就会有冲突，所以我们要取消默认值的操作，这时候你在运行就正常了。
</code></pre></li>
</ol>
<pre><code>function add(a,b=1){
 &apos;use strict&apos;
  if(a == 0){
       throw new Error(&apos;This is error&apos;);
  }
   return a+b;
 }

  console.log(add(1));     //会报错
</code></pre><h3 id="对象的函数解构"><a href="#对象的函数解构" class="headerlink" title="对象的函数解构  !!!!!!!!!!!!!!!!"></a>对象的函数解构  !!!!!!!!!!!!!!!!</h3><ol>
<li>对象解构</li>
</ol>
<pre><code>let json={
      a:&apos;jspang&apos;,
      b:&apos;技术胖&apos;
   };

function fun({a,b=&apos;web&apos;}){
    console.log(a,b);
  }
fun(json);
</code></pre><ol>
<li><p>数组解构</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">let arr=[&apos;jspang&apos;,&apos;技术胖&apos;,&apos;web&apos;];</span><br><span class="line">function fun(a,b,c)&#123;</span><br><span class="line">   console.log(a,b,c);</span><br><span class="line"> &#125;</span><br><span class="line">fun(...arr);</span><br></pre></td></tr></table></figure>
</li>
<li><p>in是用来判断对象或者数组中是否存在某个值的。我们先来看一下用in如何判断对象里是否有某个值</p>
<pre><code>   let json={
      a:&apos;jspang&apos;,
      b:&apos;aaa&apos;
     };

   console.log(&apos;c&apos; in json);  //false

   let arr=[&apos;a&apos;,,,];
   console.log(0 in arr);//true  这里的0为下标，判断那个位置上是否存在值

4.数组遍历的方法   前后端规定

  forEach:  let arr=[&apos;jspang&apos;,&apos;aaa&apos;,&apos;sss&apos;];
            arr.forEach((val,index)=&gt;console.log(index,val)); 
</code></pre><p>   ​</p>
</li>
</ol>
<pre><code>     filter:   let arr=[&apos;jspang&apos;,&apos;aaa&apos;,&apos;sss&apos;];
               arr.filter(x=&gt;console.log(x));
​       


     some:     let arr=[&apos;jspang&apos;,&apos;aaa&apos;,&apos;sss&apos;];
               arr.some(x=&gt;console.log(x));   //和filter相似
​


      map:     let arr=[&apos;jspang&apos;,&apos;aaa&apos;,&apos;sss&apos;];
               console.log(arr.map(x=&gt;&apos;web&apos;));   //有替换的效果

5. 数组转换字符串

   (1) join()方法就是在数组元素中间，加了一些间隔，开发中很有用处。

       let arr=[&apos;jspang&apos;,&apos;技术胖&apos;,&apos;web&apos;];
       console.log(arr.join(&apos;|&apos;));   //&apos;jspang|技术胖|web&apos;

   (2)  toString()方法  转换时只是是用逗号隔开了

       let arr=[&apos;jspang&apos;,&apos;web&apos;,&apos;aaa&apos;];
       console.log(arr.toString());  //&apos;jspang,web,aaa&apos;
</code></pre><h3 id="ES6中的对象"><a href="#ES6中的对象" class="headerlink" title="ES6中的对象"></a>ES6中的对象</h3><ol>
<li><p>对象赋值</p>
<p>let name=’jspang’;</p>
<p>let skill=’web’;</p>
<p>let obj={name,skill};   //进行变量的赋值就可以了</p>
<p>console.log(obj);   // {name:’jspang’,skill:’web’}</p>
</li>
</ol>
<ol>
<li><p>Key值的构建 –&gt;有时候我们会在后台取出key值，而不是我们前台定义好的，这时候我们如何构建我们的key值那。比如我们在后台取了一个key值，然后可以用[ ] 的形式，进行对象的构建。</p>
<pre><code>let key=&quot;skill&quot;;
    var obj={
             [key]:&apos;web&apos;
   }

 console.log(obj);   //{skill:&apos;web&apos;}   
</code></pre></li>
<li><p>Object.is()  严格相等</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var  obj1=&#123;name:&apos;jspang&apos;&#125;;</span><br><span class="line"></span><br><span class="line"> var  obj2=&#123;name:&apos;jspang&apos;&#125;;</span><br><span class="line"></span><br><span class="line">console.log(Object.is(obj1.name,obj2.name));  //true</span><br><span class="line"></span><br><span class="line">console.log(+0 === -0);  //true</span><br><span class="line"></span><br><span class="line">console.log(NaN === NaN ); //false</span><br><span class="line"></span><br><span class="line">console.log(Object.is(+0,-0)); //false</span><br><span class="line"></span><br><span class="line">console.log(Object.is(NaN,NaN)); //true</span><br></pre></td></tr></table></figure>
<ol>
<li>Object.assign() 合并对象  </li>
</ol>
</li>
</ol>
<pre><code>let b={b:&apos;aaa&apos;};
let c={c:&apos;web&apos;};

let d=Objet.assign(a,b,c);

console.log(d); //{a:&apos;jspag&apos;,b:&apos;aaa&apos;,c:&apos;web&apos;}
</code></pre><ol>
<li><p>Symbol在对象中的作用  —Symbol 全局标记  新增加的数据类型</p>
<p> 如何用Symbol构建对象的Key，并调用和赋值</p>
<pre><code>var jspang=Symbol();
var obj={   
    [jspang]:&apos;技术胖&apos;
 }
console.log(obj[jspang]);  //技术胖  一定要用[] 不然获取不到值

obj[jspang]=&apos;web&apos;;

console.log(obj[jspang]);  //web
</code></pre></li>
<li><p>Symbol对象元素的保护作用  nodejs中常用</p>
<p>在对象中有很多值，但是循环输出时，并不希望全部输出，那我们就可以使用Symbol进行保护</p>
<p>没有进行保护的写法： </p>
<p>   var obj={name:’jspang’,skill:’web’,age:18};                   </p>
<pre><code>for (let item in obj){
    console.log(obj[item]);
     }
</code></pre><p>现在我不想别人知道我的年龄，这时候我就可以使用Symbol来进行循环保护</p>
</li>
</ol>
<pre><code>let obj={name:&apos;jspang&apos;,skill:&apos;web&apos;};
let age=Symbol();
   obj[age]=18;
   for (let item in obj){
       console.log(obj[item]);
   } 
     console.log(obj);
</code></pre><h3 id="Set数据结构-！！！！！！！！！！！！-里面放数组-（去重）"><a href="#Set数据结构-！！！！！！！！！！！！-里面放数组-（去重）" class="headerlink" title="Set数据结构  ！！！！！！！！！！！！  里面放数组 （去重）"></a>Set数据结构  ！！！！！！！！！！！！  里面放数组 （去重）</h3><ol>
<li><p>Set和Array 的区别是Set不允许内部有重复的值，如果有只显示一个，相当于去重。虽然Set很像数组，但是他不是数组</p>
<p>let setArr=new Set([‘jspang’,’web’,’aa’,’jspang’]);<br>console.log(setArr); //  Set{‘jspang’,’web’,’aa’};</p>
</li>
<li><p>Set值的增删查</p>
</li>
</ol>
<p>追加add :在使用Array的时候，可以用push进行追加值，那Set稍有不同，它用更语义化的add进行追加</p>
<pre><code>setArr.add(&apos;前端职场&apos;);
console.log(setArr);

删除delete: 

setArr.delete(&apos;前端职场&apos;);
console.log(setArr);

查找has:

console.log(setArr.has(&apos;jspang&apos;)); //true

删除clear: 删除全部值

setArr.clear();   // set{}
</code></pre><ol>
<li><p>set的循环  for…of…</p>
<pre><code>for(let item of setArr){
         console.log(item);
   }
</code></pre></li>
<li><p>size 属性</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.log(setArr.size);</span><br></pre></td></tr></table></figure>
</li>
<li><p>forEach循环</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setArr.forEach(value=&gt;console.log(value));</span><br></pre></td></tr></table></figure>
</li>
<li><p>WeakSet的声明  里面可以放对象</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">let weakObj=new WeakSet();</span><br><span class="line"></span><br><span class="line">let obj=&#123;a:&apos;jspang&apos;,b:&apos;web&apos;&#125;;</span><br><span class="line"></span><br><span class="line">weakObj.add(obj);</span><br><span class="line"></span><br><span class="line">console.log(weakObj);</span><br></pre></td></tr></table></figure>
<p> WeakSet里边的值也是不允许重复的</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"> let weakObj=new WeakSet();</span><br><span class="line"> let obj=&#123;a:&apos;jspang&apos;,b:&apos;技术胖&apos;&#125;</span><br><span class="line"> let obj1=obj;     //obj obj1占用相同的存储空间 所以值不重复</span><br><span class="line"> weakObj.add(obj);</span><br><span class="line"> weakObj.add(obj1);</span><br><span class="line"> console.log(weakObj);</span><br><span class="line"></span><br><span class="line">let weakObj=new WeakSet();</span><br><span class="line"></span><br><span class="line">let obj=&#123;a:&apos;jspang&apos;,b:&apos;技术胖&apos;&#125;;</span><br><span class="line"></span><br><span class="line">let obj1=&#123;a:&apos;jspang&apos;,b:&apos;技术胖&apos;&#125;;</span><br><span class="line"></span><br><span class="line">weakObj.add(obj);</span><br><span class="line"></span><br><span class="line">weakObj.add(obj1);</span><br><span class="line"></span><br><span class="line">console.log(weakObj);   //两个都打印出来，因为占据不同的存储空间</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="map数据结构-效果灵活性和效率比-json-高-开发中经常使用！！！"><a href="#map数据结构-效果灵活性和效率比-json-高-开发中经常使用！！！" class="headerlink" title="map数据结构  效果灵活性和效率比 json 高       开发中经常使用！！！"></a>map数据结构  效果灵活性和效率比 json 高       开发中经常使用！！！</h3><ol>
<li><p>​</p>
<pre><code>let json={
    name:&apos;jspang&apos;,
    skill:&apos;web&apos;
 };
console.log(json.name);  //jspang

var map=new Map();

 map.set(json,&apos;iam&apos;);   //set设置值，优点就是左边可以为任意形式的键值key  右边进行赋值
 console.log(map);

 map.set(&apos;jspang&apos;,json);  key值是一个字符串，赋一个对象
 console.log(map);    
</code></pre></li>
</ol>
<ol>
<li>删除delete clear  查找has 尺寸size  赋值set  取值get</li>
</ol>
<p>取值：map.get(里面是key值);</p>
<p> 删除：map.delete(json); //删除了key值为json的数据</p>
<p> 清除所有元素clear:    map.clear();</p>
<p> size()    console.log(map.size);</p>
<p> 查找是否存在 has     map.has(‘jspang’);  键值jspang是否存在</p>
<h3 id="Proxy进行预处理"><a href="#Proxy进行预处理" class="headerlink" title="Proxy进行预处理"></a>Proxy进行预处理</h3><p>  1.声明Proxy  new Proxy({},{});</p>
<p>需要注意的是这里是两个花括号，第一个花括号就相当于我们方法的主体，后边的花括号就是Proxy代理处理区域，相当于我们写钩子函数的地方</p>
<pre><code>var pro = new Proxy({
add: function (val) {
    return val + 10;
},
name: &apos;I am Jspang&apos;
}, {
    get:function(target,key,property){
        console.log(&apos;come in Get&apos;);
        return target[key];
    }
});

console.log(pro.name);   在控制台看到结果，先输出了come in Get。相当于在方法调用前的钩子函数
</code></pre><p>  (1) get属性: get属性是在你得到某对象属性值时预处理的方法，他接受三个参数</p>
<pre><code>target：得到的目标值
key：目标的key值，相当于对象的属性
property：这个不太常用，用法还在研究中
</code></pre><p>  (2) set属性： set属性是指你要改变Proxy属性值时，进行的预先处理。它接收四个参数。</p>
<pre><code>  target:目标值。
  key：目标的Key值。
  value：要改变的值。 
  receiver：改变前的原始值。

var pro = new Proxy({
add: function (val) {
    return val + 10;
},
name: &apos;I am Jspang&apos;
}, {
    get:function(target,key){
        console.log(&apos;come in Get&apos;);
        return target[key];
    },
    set:function(target,key,value,receiver){
        console.log(`    setting ${key} = ${value}`);
        return target[key] = value;
    }

  });

   console.log(pro.name);
   pro.name=&apos;技术胖&apos;;
   console.log(pro.name);
</code></pre><p>  （3）apply的使用：apply的作用是调用内部的方法，它使用在方法体是一个匿名函数时</p>
<pre><code>let target = function () {
   return &apos;I am JSPang&apos;;
};
var handler = {
    apply(target, ctx, args) {
       console.log(&apos;do apply&apos;);
       return Reflect.apply(...arguments);
     }
}

var pro = new Proxy(target, handler);

 console.log(pro());
</code></pre><h3 id="promise基本用法"><a href="#promise基本用法" class="headerlink" title="promise基本用法"></a>promise基本用法</h3><p> 1.promise执行多步操作非常好用，那我们就来模仿一个多步操作的过程，那就以吃饭为例</p>
<p>   洗菜做饭—坐下来吃饭—收拾桌子洗碗    这个过程是有一定的顺序的，你必须保证上一步完成，才能顺利进行下一步</p>
<pre><code>let state=1;

function step1(resolve,reject){
console.log(&apos;1.开始-洗菜做饭&apos;);
    if(state==1){
       resolve(&apos;洗菜做饭--完成&apos;);
     }else{
       reject(&apos;洗菜做饭--出错&apos;);
     }
  }

 function step2(resolve,reject){
     console.log(&apos;2.开始-坐下来吃饭&apos;);
    if(state==1){
       resolve(&apos;坐下来吃饭--完成&apos;);
     }else{
       reject(&apos;坐下来吃饭--出错&apos;);
     }
  }

   function step3(resolve,reject){
    console.log(&apos;3.开始-收拾桌子，洗碗&apos;);
    if(state==1){
       resolve(&apos;收拾桌子，洗碗--完成&apos;);
     }else{
       reject(&apos;收拾桌子，洗碗--出错&apos;);
       }
     }

  new Promise(step1).then(function(val){
    console.log(&apos;val&apos;);
    return new Promise(step2);
 }).then(function(val){
    console.log(&apos;val&apos;);
    return new Promise(step3);
 }).then(function(val){
    console.log(&apos;val&apos;);
});
</code></pre><h3 id="class-类的使用"><a href="#class-类的使用" class="headerlink" title="class 类的使用"></a>class 类的使用</h3><p>类里面放函数，多个函数之间不用分号，若要调用类里面其他的函数，需要返回值</p>
<ol>
<li><p>​</p>
<pre><code>class Coder{
name(val){
   console.log(val);
   return val;
 }
skill(val){
   console.log(this.name(&apos;技术胖&apos;)+&apos;:&apos;+&apos;skill-&apos;+val);
   }
 }
 let jspang=new Coder;
 jspang.skill(&apos;web&apos;);  //技术胖：skill-web      
</code></pre></li>
<li><p>类的传参  在类的参数传递中我们用constructor( )进行传参</p>
</li>
</ol>
<pre><code>class Coder{
    name(val){
       console.log(val);
       return val;
    }
    skill(val){
       console.log(this.name(&apos;jspang&apos;)+&apos;:&apos;+&apos;skill-&apos;+val);
    }
    constructor(a,b){
       this.a=a;
       this.b=b;
     }

     add(){
        return this.a+this.b;
     }

}
   let jspang=new Coder(1,2);

   console.log(jspang.add()); //3
</code></pre><ol>
<li><p>类的继承  声明一个htmler的新类并继承Coder类，htmler新类里边为空，这时候我们实例化新类，并调用里边的name方法。结果也是可以调用到的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">class htmler extends Coder&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let pang=new htmler;</span><br><span class="line"></span><br><span class="line">pang.name(&apos;liu&apos;);  //控制台打印 liu</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="模块化操作"><a href="#模块化操作" class="headerlink" title="模块化操作"></a>模块化操作</h3><p>  export 输出操作（生成模块）       import引入操作（引入模块）</p>
<ol>
<li>​</li>
</ol>
<pre><code>export var a=&apos;jspang&apos;;   
import {a} from &apos;./temp.js&apos;; 
console.log(a);
</code></pre><ol>
<li><p>多变量的输出  - –这里声明了3个变量，需要把这3个变量都进行模块化输出，这时候我们给他们包装成对象就可以了</p>
<p>var a=’jspang’;<br>var b=’web’;<br>var c=’aa’;</p>
<p>export {a,b,c}</p>
</li>
<li><p>函数的模块化输出</p>
<p>export function add(a,b){<br>  return a+b;<br>}</p>
</li>
</ol>
<ol>
<li><p>as的用法（有些时候我们并不想暴露模块里边的变量名称，而给模块起一个更语义话的名称，这时候我们就可以使用as来操作）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var a=&apos;jspang&apos;;</span><br><span class="line">var b=&apos;web&apos;;</span><br><span class="line">var c=&apos;aa&apos;;</span><br><span class="line">export &#123;</span><br><span class="line">   x as a,</span><br><span class="line">   y as b,</span><br><span class="line">   z as c</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>export default的使用 （加上default相当是一个默认的入口。在一个文件里export default只能有一个）</p>
<p>  export和export default区别</p>
</li>
</ol>
<pre><code>    export:   export var a =&apos;jspang&apos;;
    export function add(a,b){
                         return a+b;
     }

   对应的导入方式：

   import {a,add} from &apos;./temp&apos;;  

 也可以分开写

   export default :  export default var a=&apos;jspang&apos;;

   对应的导入方式:   

 import str from &apos;./temp&apos;;  

因为export default只有一个，所以引入时可以随便起名
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/03/19/vue/" data-id="cjez7tld70008fwuqbbrbo3tl" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-webpack3" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/19/webpack3/" class="article-date">
  <time datetime="2018-03-19T10:41:25.271Z" itemprop="datePublished">2018-03-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/03/19/webpack3/">webpack-3</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>   <a href="http://www.jianshu.com/p/42e11515c10f" target="_blank" rel="noopener">http://www.jianshu.com/p/42e11515c10f</a> </p>
<pre><code>mkdir webpack_demo 建立一个文件夹                        
cd webpack_demo 进入这个文件夹
</code></pre><h1 id="1-全局安装"><a href="#1-全局安装" class="headerlink" title="1. 全局安装"></a>1. 全局安装</h1><h6 id="webpack-–-cnpm-install-g-webpack-这样你才可以正确的使用webpack这个命令-必做-官网不建议使用"><a href="#webpack-–-cnpm-install-g-webpack-这样你才可以正确的使用webpack这个命令-必做-官网不建议使用" class="headerlink" title="webpack – cnpm install -g webpack  这样你才可以正确的使用webpack这个命令 必做   官网不建议使用"></a>webpack – cnpm install -g webpack  这样你才可以正确的使用webpack这个命令 必做   官网不建议使用</h6><pre><code>（这会将您项目中的 webpack 锁定到指定版本，并且在使用不同的 webpack 版本的项目中，可能会导致构建失败。）
</code></pre><h1 id="2-本地安装-先初始化"><a href="#2-本地安装-先初始化" class="headerlink" title="2. 本地安装 先初始化"></a>2. 本地安装 先初始化</h1><p>cnpm init -y (可以选择性填，也可以回车)—– 为了生成package.json</p>
<p>cnpm install –save-dev webpack      (–save是下载到本地  并保存到package.json中，dev是指在开发环境时使用这个包，不写就是生产环境)</p>
<p>webpack -v  查看版本</p>
<h1 id="3-安装过程中出现错误原因："><a href="#3-安装过程中出现错误原因：" class="headerlink" title="3.安装过程中出现错误原因："></a>3.安装过程中出现错误原因：</h1><p>​                                                 （1）网速不好，建议用cnpm  </p>
<p>​                                                   (2)    nodejs版本过低，网上查看如何升级node  </p>
<p>​                                                   (3)权限的限制问题，如果你是Windows系统，主要要使用以管理员方式安装</p>
<pre><code>更新webpack   1.如果是新项目，给node_modules删除，重新下载 
              2.如果老旧项目，有依赖包，现在package.json给webpack的版本给改了，然后再把                           node_modules删除，然后重新下载就可以了
</code></pre><h1 id=""><a href="#" class="headerlink" title=" "></a> </h1><h1 id="4-建立基本项目结构-————-在根目录建立两个文件夹，分别是src文件夹和dist文件夹"><a href="#4-建立基本项目结构-————-在根目录建立两个文件夹，分别是src文件夹和dist文件夹" class="headerlink" title="4.建立基本项目结构 ————-在根目录建立两个文件夹，分别是src文件夹和dist文件夹"></a>4.建立基本项目结构 ————-在根目录建立两个文件夹，分别是src文件夹和dist文件夹</h1><p>src文件夹：用来存放我们编写的javascript，css代码，可以简单的理解为用JavaScript编写的模块。</p>
<p>dist文件夹：用来存放供浏览器读取的文件，这个是webpack打包成的文件。</p>
<p>你可以理解成src是源码文件，dist是我们编译打包好的文件；一个用于开发环境，一个用于生产环境。</p>
<p> ———–<strong>目前学习的知识有限</strong>                                </p>
<p>（1）我们在dist文件夹下建立一个index.html文件，本来是打包生成的，我们进行模拟一下， 并且引入一个bundle.js文件（这个本来也是打包生成的）</p>
<p>（2）在src文件夹下建立entry.js的文件，用于编写我们的JavaScript代码，也是我们的入口文件。用来操作我们html文件里面的内容  终端打包方案，在实际开发中并不使用</p>
<p>（3）在终端打包生成bundle.js文件，   webpack src/entry.js dist/bundle.js                 </p>
<pre><code>webpack {entry file} {destination for bundled file}    入口文件地址和打包后存放的路径
</code></pre><p>（4）成功生成bundle.js文件，然后在终端输入 npm install -g live-server =&gt; live-server 成功！</p>
<h1 id="5-配置文件webpack-config-js-入口、出口文件"><a href="#5-配置文件webpack-config-js-入口、出口文件" class="headerlink" title="5. 配置文件webpack.config.js  入口、出口文件"></a>5. 配置文件webpack.config.js  入口、出口文件</h1><pre><code>(1)配置文件webpack.config.js(根目录下)
       module.exports={
                   //入口文件的配置项，可以是单一入口，也可以是多入口
                   entry:{},
                   //出口文件的配置项 path:&apos;&apos;, filename:&apos;&apos;   支持多出口配置
                   output:{},
                   //模块：例如解读CSS,图片如何转换，压缩
                   module:{},
                   //插件，用于生产模版和各项功能  --  根据你的需要配置不同功能的插件
                   plugins:[],
                   //配置webpack开发服务功能
                   devServer:{}
               }
 (2) entry选项（入口配置）

       //入口文件的配置项

        entry:{

      //里面的entry是可以随便命名的，我们以文件名为准

        entry:__dirname+&apos;/src/entry.js&apos;      两个杠

         },


（3）output选项（出口配置）-- 出口配置是用来告诉webpack最后打包文件的地址和文件名称的

       //出口文件的配置项

          output:{

      //打包的路径位置（记住就行，node知识）

          path:__dirname+&apos;/dist&apos;,     --&gt;获取了项目的绝对路径

      //打包的文件名称

          filename:&apos;bundle.js&apos;             --filename:是打包后的文件名称，这里我们起名为bundle.js

        },

   （4） 我们要在webpack.config.js的头部引入path 否则会找不到path而报错

             const path = require(&apos;path&apos;);     

   （5） 在终端直接输入webpack 就可以打包了

   （6） 多入口、多出口配置

         //入口文件的配置项

            entry:{

                  entry:&apos;./src/entry.js&apos;,

               //这里我们又引入了一个入口文件

                  entry2:&apos;./src/entry2.js&apos;

            },

              //出口文件的配置项

            output:{

              //输出的路径，用了Node语法 -- 这句话不变，只改变下面的 filename

                   path:path.resolve(__dirname,&apos;dist&apos;),

             //输出的文件名称

                   filename:&apos;[name].js&apos;
             },

             [name]的意思是根据入口文件的名称，打包成相同的名称，有几个入口文件，就可以打包出几个文件
</code></pre><h1 id="6-配置文件：-服务和热更新-–-所见即所得"><a href="#6-配置文件：-服务和热更新-–-所见即所得" class="headerlink" title="6. 配置文件： 服务和热更新  – 所见即所得"></a>6. 配置文件： 服务和热更新  – 所见即所得</h1><p> ( 一个屏幕编写代码，一个屏幕实时显示页面效果 )</p>
<pre><code>（1） cnpm install webpack-dev-server -save-dev  来进行下载 -- 配置一下devServer 
     在 webpack.config.js文件里   

     devServer:{
                  //设置基本目录结构--》 用于找到程序打包地址
             contentBase:path.resolve(__dirname,&apos;dist&apos;),
                  //服务器的IP地址，可以使用IP也可以使用localhost--》服务运行地址，建议使用本机                      IP，这里为了讲解方便，所以用localhost
             host:&apos;192.168.0.108&apos;,
                  //服务端压缩是否开启---》一般设置为开启
             compress:true,
                 //配置服务端口号---》建议不使用80，很容易被占用，这里使用了1717
             port:1717
         }
（2） 本地安装 webpack-dev-server

     cnpm install webpack-dev-server --save-dev

（3）在package.json里配置一下scripts选项

     &quot;scripts&quot;: {

           &quot;server&quot;:&quot;webpack-dev-server&quot;
     },

     配置好保存后，在终端里输入 npm run server  打开服务器

   在浏览器地址栏输入http://localhost:1717就可以看到结果了

（4）加入热更新插件

   const webpack = require(&apos;webpack&apos;);
   new webpack.HotModuleReplacementPlugin()

   npm run server  启动-----成功！！！！
</code></pre><h1 id="7-模块：CSS文件打包-非常重要！！！！！！"><a href="#7-模块：CSS文件打包-非常重要！！！！！！" class="headerlink" title="7. 模块：CSS文件打包   非常重要！！！！！！"></a>7. 模块：CSS文件打包   非常重要！！！！！！</h1><p>（1）Loaders 是Webpack最重要的功能之一，通过使用不同的Loader，对不同的文件格式进行特定处理</p>
<p>​        可以把SASS文件的写法转换成CSS，而不在使用其他转换工具。</p>
<p>​        可以把ES6或者ES7的代码，转换成大多浏览器兼容的JS代码。</p>
<p>​        可以把React中的JSX转换成JavaScript代码</p>
<pre><code>注意：所有的Loaders都需要在npm中单独进行安装，并在webpack.config.js里进行配置。
</code></pre><p> test：用于匹配处理文件的扩展名的表达式，这个选项是必须进行配置的；!!!!</p>
<p> use：loader名称，就是你要使用模块的名称，这个选项也必须进行配置，否则报错；!!!!</p>
<p>include/exclude:手动添加必须处理的文件（文件夹）或屏蔽不需要处理的文件（文件夹）（可选）；</p>
<p> query：为loaders提供额外的设置选项（可选）</p>
<p>（2）打包CSS文件</p>
<pre><code>建立index.css文件--》要打包CSS你必须先要有个CSS文件，在/src目录下，我们建立一个css文件夹，在       文件夹里建立index.css文件

CSS文件建立好后，需要引入到入口文件中，才可以打包到，这里我们引入到entry.js中

import css from &apos;./css/index.css&apos;;

我们需要使用loader来解析CSS文件，这里我们需要两个解析用的loader，分别是style-loader和
css- loader
</code></pre><p>​       style-loader:用来处理css文件中的url()等—-&gt; cnpm install style-loader –save-dev  进行安装</p>
<p>​       css-loader：用来将css插入到页面的style标签—-&gt; cnpm install css-loader –save-dev  </p>
<p>​       (3) loaders配置   webpack.config.js</p>
<pre><code>module:{
        rules: [
           {
             test: /\.css$/,
             use: [ &apos;style-loader&apos;, &apos;css-loader&apos; ]
            // loader:[&apos;style-loader&apos;,&apos;css-loader&apos;]
            //  use: [
                     {
                      loader: &quot;style-loader&quot;
                     }, {
                      loader: &quot;css-loader&quot;
                     }
                   ]                   三种写法任意一种都行
         }

     ]
}
</code></pre><p>—————————————下面的压缩不要着急，生产环境中才需要———————————————————-</p>
<h1 id="8-压缩JS代码-—-讲插件"><a href="#8-压缩JS代码-—-讲插件" class="headerlink" title="8.压缩JS代码 — 讲插件"></a>8.压缩JS代码 — 讲插件</h1><p> uglifyjs-webpack-plugin(JS压缩插件，简称uglify)—注意：虽然uglifyjs是插件，但是webpack版本里默认已经集成，不需要再次安装</p>
<p>（1）引入：在webpack.config.js顶部， </p>
<pre><code>      const uglify = require(&apos;uglifyjs-webpack-plugin&apos;);
                plugins:[
                    new uglify()
                ],  
uglifyjs-webpack-plugin本来已经集成在webpack里不需要下载了，但是我的window7不行，需要先下载，
再webpack打包
</code></pre><p>（2）  用于下载  uglifyjs-webpack-plugin 插件，压缩js代码   </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm i -D uglifyjs-webpack-plugin</span><br></pre></td></tr></table></figure>
<h1 id="9-devServer和JS压缩的冲突"><a href="#9-devServer和JS压缩的冲突" class="headerlink" title="9. devServer和JS压缩的冲突"></a>9. devServer和JS压缩的冲突</h1><p> JS压缩后–在终端中输入了npm run server进行了预览，发现终端中报错了</p>
<p>====&gt;原因：开发环境中是基本不会对js进行压缩的</p>
<p> 而生产环境中才会压缩JS代码，用于加快程序的工作效率</p>
<p> devServer用于开发环境，而压缩JS用于生产环境，在开发环境中做生产环境的事情，所以Webpack设置了冲突报错</p>
<h1 id="10-打包HTML文件"><a href="#10-打包HTML文件" class="headerlink" title="10. 打包HTML文件"></a>10. 打包HTML文件</h1><p>（1）配置webpack.config.js文件</p>
<pre><code>const htmlPlugin= require(&apos;html-webpack-plugin&apos;);
</code></pre><p> （2） npm下载 html-webpack-plugin    </p>
<pre><code>cnpm install --save-dev html-webpack-plugin
</code></pre><p> （3） plugins里进行插件配置</p>
<pre><code> new htmlPlugin({
     minify:{
         removeAttributeQuotes:true
     },
     hash:true,
     template:&apos;./src/index.html&apos;       
})
</code></pre><p>minify：是对html文件进行压缩，removeAttributeQuotes是却掉属性的双引号。</p>
<p>hash：为了开发中js有缓存效果，所以加入hash，这样可以有效避免缓存JS。</p>
<p>template：是要打包的html模版路径和文件名称。</p>
<p>（4） 在终端中使用webpack，进行打包 ==&gt;index.html文件已经被打包到我们的dist目录下了，并且自动为我们引入了路口的JS文件</p>
<h4 id="！！！-记住在loader使用时不需要用require引入，在plugins才需要使用require引入"><a href="#！！！-记住在loader使用时不需要用require引入，在plugins才需要使用require引入" class="headerlink" title="！！！  记住在loader使用时不需要用require引入，在plugins才需要使用require引入"></a>！！！  记住在loader使用时不需要用require引入，在plugins才需要使用require引入</h4><h1 id="11-图片迈坑："><a href="#11-图片迈坑：" class="headerlink" title="11. 图片迈坑："></a>11. <strong>图片迈坑</strong>：</h1><p>CSS中的图片处理(有的小伙伴在开发环境中是可以找到图片的，但是一打包后就找不到图片了，</p>
<p>有的小伙伴是不知道如何正确引入html或者css中的图片，导致程序出错)</p>
<pre><code>（1）在src目录下新建一个images文件夹，把图片放入images文件夹

（2）编写css文件，把你用的图片作为背景显示，引入图片

（3）安装file-loader和url-loader                     
 cnpm install --save-dev file-loader url-loader
</code></pre><p>  （4）配置url-loader  （注意use数组里面是对象）</p>
<pre><code>module:{
   rules: [
      {
        test: /\.css$/,
        use: [ &apos;style-loader&apos;, &apos;css-loader&apos; ]
      },{
        test:/\.(png|jpg|gif)/ ,
        use:[{
            loader:&apos;url-loader&apos;,
            options:{
               limit:500000
             }
         }]
       }
   ]
 },
</code></pre><p>  test:/.(png|jpg|gif)/是匹配图片文件后缀名称。<br>  use：是指定使用的loader和loader的配置参数。<br>  limit：是把小于500000B的文件打成Base64的格式，写入JS   </p>
<p>（5）使用webpack进行打包</p>
<p>​        <strong>题外话：为什么只使用了url-loader？</strong></p>
<pre><code>url-loader封装了file-loader   url-loader不依赖于file-loader
即使用url-loader时，只需要安装url-loader即可，不需要安装file-loader
因为url-loader内置了file-loader
</code></pre><p>（1）文件大小小于limit参数，url-loader将会把文件转为DataURL</p>
<p>（2）文件大小大于limit，url-loader会调用file-loader进行处理，参数也会直接传给file-loader<br> 其实我们只安装一个url-loader就可以了。但是为了以后的操作方便，我们这里就顺便安装上file-loader</p>
<pre><code>file-loader：解决引用路径的问题，拿background样式用url引入背景图来说，我们都知道，webpack最终会将各个模块打包成一个文件， 因此我们样式中的url路径是相对入口html页面的，而不是相对于原始css文件所在的路径的。这就会导致图片引入失败。
 ==&gt;这个问题是用file-loader解决的，file-loader可以解析项目中的url引入（不仅限于css），根据我们的配置，将图片拷贝到相应的路径，再根据我们的配置，修改打包后文件引用路径，使之指向正确的文件。
</code></pre><p>  url-loader：如果图片较多，会发很多http请求，会降低页面性能。这个问题可以通过url-loader解决。url-loader会将引入的图片编码，生成dataURl。<br>    相当于把图片数据翻译成一串字符。再把这串字符打包到文件中，最终只需要引入这个文件就能访问图片了。当然，如果图片较大，编码会消耗性能。<br>    因此url-loader提供了一个limit参数，小于limit字节的文件会被转为DataURl，大于limit的还会使用file-loader进行copy。  </p>
<h1 id="12-CSS分离与图片路径处理"><a href="#12-CSS分离与图片路径处理" class="headerlink" title="12. CSS分离与图片路径处理"></a>12. CSS分离与图片路径处理</h1><p>（我们生成的dist文件里面把css和js融合到一起了，项目组长会要求把CSS单独提取出来，方便以后更改</p>
<p><strong>第一个是把CSS从JavasScript代码中分离出来，第二个是如何处理分离出来后CSS中的图片路径不对问题</strong></p>
<pre><code>（1）extract-text-webpack-plugin 插件解决分离问题

    cnpm install --save-dev extract-text-webpack-plugin

（2）const extractTextPlugin = require(&quot;extract-text-webpack-plugin&quot;);

（3）设置Plugins

    new extractTextPlugin(&quot;/css/index.css&quot;)   ---  这里的/css/index.css是分离后的路径位置

（4）包装代码：修改原来我们的style-loader和css-loader。 
  module:{       
         rules: [           
               {
                 test: /\.css$/,                     
                 use: extractTextPlugin.extract({       
                                    fallback: &quot;style-loader&quot;,       
                                    use: &quot;css-loader&quot;
                 })
              },{
                 test:/\.(png|jpg|gif)/ ,
                 use:[{
                     loader:&apos;url-loader&apos;,
                     options:{         
                       limit:5000，
                       outputPath:&apos;images/&apos;
                     }
                 }]
              }
       ]
    },
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">（5）分离成功，解决图片路径问题：</span><br><span class="line"></span><br><span class="line">        publicPath：是在webpack.config.js文件的output选项中，主要作用就是处理静态文件路径的。</span><br><span class="line"></span><br><span class="line">       在处理前，我们在webpack.config.js 上方声明一个对象，叫website</span><br><span class="line"></span><br><span class="line">         var website =&#123;</span><br><span class="line">                  publicPath:&quot;http://192.168.0.108:1717/&quot;</span><br><span class="line">         &#125;;</span><br><span class="line">       这里的IP和端口，是你本机的ip或者是你devServer配置的IP和端口</span><br><span class="line"></span><br><span class="line">        output:&#123;</span><br><span class="line">               path:path.resolve(__dirname,&apos;dist&apos;),</span><br><span class="line">               filename:&apos;[name].js&apos;,</span><br><span class="line">               publicPath:website.publicPath</span><br><span class="line">        &#125;,</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">（6）打包完成 webpack</span><br></pre></td></tr></table></figure>
<p><strong>解决小问题：</strong></p>
<pre><code>1.只有项目安装webpack，如何打包？-- 就是没有进行全局安装webpack,没办法用webpack进行直接打包      
      &quot;scripts&quot;: {
               &quot;server&quot;: &quot;webpack-dev-server --open&quot;,
               &quot;build&quot;:&quot;webpack&quot;
           },
        在控制台输入npm run build 进行打包
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">2. 打包后的图片并没有放到images文件夹下，要放到images文件夹下,其实只需要配置我们的url-loader选项</span><br><span class="line"></span><br><span class="line">         options:&#123;</span><br><span class="line">                  limit:5000,</span><br><span class="line">                  outputPath:&apos;images/&apos;,     !!!!!</span><br><span class="line">              &#125;</span><br></pre></td></tr></table></figure>
<h1 id="13-图片迈坑："><a href="#13-图片迈坑：" class="headerlink" title="13 . 图片迈坑："></a>13 . 图片迈坑：</h1><p>处理HTML中的图片—&gt; 解决的问题就是在hmtl文件中引入<img>标签的问题</p>
<p>  (1) 安装html-withimg-loader插件</p>
<pre><code>cnpm install html-withimg-loader --save
</code></pre><p>  （2）配置loader</p>
<pre><code>{
  test: /\.(htm|html)$/i,
  use:[ &apos;html-withimg-loader&apos;] 
}
</code></pre><p>   （3）打包–进行查看打包图片和地址是否正确</p>
<h1 id="14-CSS进阶：Less文件的打包和分离"><a href="#14-CSS进阶：Less文件的打包和分离" class="headerlink" title="14.CSS进阶：Less文件的打包和分离"></a>14.CSS进阶：Less文件的打包和分离</h1><p> Less 是一门 CSS 预处理语言，它扩展了 CSS 语言，增加了变量、Mixin、函数等特性，使 CSS 更易维护和扩展。 也就是说Less给我们枯燥单一的样式文件加入了编程机制，这让我们这些前端程序员很受用，所以在工作中大部分程序员都使用了Less开发</p>
<p>   （1）打包Less文件</p>
<pre><code>   npm install --save-dev less

（2）安装Less-loader用来打包

   npm install --save-dev less-loader

（3）写loader配置

   {
     test: /\.less$/,
     use: [{
            loader: &quot;style-loader&quot;   // creates style nodes from JS strings
           }, {
            loader: &quot;css-loader&quot;    // translates CSS into CommonJS 
          }，{
            loader: &quot;less-loader&quot;   // compiles Less to CSS
      }]
   }
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">（4）编写一个less文件   black.less</span><br><span class="line"></span><br><span class="line">     @base :#000;</span><br><span class="line">     #gogo&#123;</span><br><span class="line">            width:300px;</span><br><span class="line">            height:300px;</span><br><span class="line">            background-color:@base;</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">（5）引入到我们entry.js文件中</span><br><span class="line"></span><br><span class="line">      import less from &apos;./css/black.less&apos;;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">（6）打包</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">（7） 把Lees文件和js分离</span><br><span class="line"></span><br><span class="line">  extract-text-webpack-plugin 插件 和css分离方法一样，如果之前进行了css的分离，这一步就省略了即可</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">（8） less的loader配置方法</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line">            test: /\.less$/,</span><br><span class="line">            use: extractTextPlugin.extract(&#123;</span><br><span class="line">                                    use: [&#123;</span><br><span class="line">                                         loader: &quot;css-loader&quot;</span><br><span class="line">                                         &#125;, &#123;</span><br><span class="line">                                         loader: &quot;less-loader&quot;</span><br><span class="line">                                      &#125;],</span><br><span class="line">        </span><br><span class="line">                                    fallback: &quot;style-loader&quot;</span><br><span class="line">              &#125;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      你会发现less被分离到了index.css文件里----&gt; 转换成css语</span><br></pre></td></tr></table></figure>
<h1 id="15-CSS进阶：SASS文件的打包和分离"><a href="#15-CSS进阶：SASS文件的打包和分离" class="headerlink" title="15. CSS进阶：SASS文件的打包和分离"></a>15. CSS进阶：SASS文件的打包和分离</h1><p> （1）安装node-sass和sass-loader</p>
<pre><code>npm install --save-dev node-sass

npm install --save-dev sass-loader
</code></pre><p>注意：在用npm安装时，这个loader很容易安装失败，最好使用cnpm来进行安装。如果你安装一直报错，最好是把node_modules文件夹删除后，再重新安装</p>
<pre><code>（2）编写loader配置   ----&gt; 需要注意的是loader的加载要有先后顺序

   {
        test: /\.scss$/,
        use: [{
            loader: &quot;style-loader&quot; // creates style nodes from JS strings
        }, {
            loader: &quot;css-loader&quot; // translates CSS into CommonJS
        }, {
            loader: &quot;sass-loader&quot; // compiles Sass to CSS
        }]
  }
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">(3) Sass文件的编写,并且引入到entry.js中  （有两种后缀， .scss和.sass）</span><br><span class="line"></span><br><span class="line">         $nav-color: #FFF;</span><br><span class="line">         #nav &#123;</span><br><span class="line">              $width: 100%;</span><br><span class="line">              width: $width;</span><br><span class="line">              height:30px;</span><br><span class="line">              background-color: $nav-color;</span><br><span class="line">          &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">(4) 把SASS文件分离 (和less一样)</span><br><span class="line">      &#123;</span><br><span class="line">        test: /\.scss$/,</span><br><span class="line">        use: extractTextPlugin.extract(&#123;</span><br><span class="line">            use: [&#123;</span><br><span class="line">                loader: &quot;css-loader&quot;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                loader: &quot;sass-loader&quot;</span><br><span class="line">            &#125;],</span><br><span class="line">            fallback: &quot;style-loader&quot;</span><br><span class="line">        &#125;)</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>
<h1 id="16-CSS进阶：自动处理CSS3属性前缀—–成功！！"><a href="#16-CSS进阶：自动处理CSS3属性前缀—–成功！！" class="headerlink" title="16.CSS进阶：自动处理CSS3属性前缀—–成功！！"></a>16.CSS进阶：自动处理CSS3属性前缀—–成功！！</h1><pre><code>为了浏览器的兼容性，有时候我们必须加入-webkit,-ms,-o,-moz这些前缀。目的就是让我们写的页面在每个浏览器中都可以顺利运行
 PostCSS是一个CSS的处理平台，它可以帮助你的CSS实现-&gt;更多的功能&lt;-，但是今天我们就通过(其中的一个)加前缀的功能

(1) 安装两个包postcss-loader 和autoprefixer （自动添加前缀的插件）

    cnpm install --save-dev postcss-loader autoprefixer

(2) postCSS推荐在项目根目录（和webpack.config.js同级），建立一个postcss.config.js文件

   module.exports = {
                plugins: [
                     require(&apos;autoprefixer&apos;)({browsers:&apos;last 5 version&apos;})
               ]
    }    //这就是对postCSS一个简单的配置，引入了autoprefixer插件 （三种形式）
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">(3) 提取CSS   ---  配置提取CSS的loader配置.</span><br><span class="line"></span><br><span class="line">      &#123;</span><br><span class="line">           test: /\.css$/,</span><br><span class="line">           use: extractTextPlugin.extract(&#123;</span><br><span class="line">                               fallback: &apos;style-loader&apos;,</span><br><span class="line">                               use: [</span><br><span class="line">                                      &#123; loader: &apos;css-loader&apos;, options: &#123; importLoaders: 1 &#125; &#125;,</span><br><span class="line">                                      &apos;postcss-loader&apos;</span><br><span class="line">                               ]</span><br><span class="line">            &#125;)</span><br><span class="line"></span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure>
<h1 id="17-CSS进阶：消除未使用的CSS"><a href="#17-CSS进阶：消除未使用的CSS" class="headerlink" title="17  CSS进阶：消除未使用的CSS"></a>17  CSS进阶：消除未使用的CSS</h1><p>（像Bootstrap这样的框架往往会带有很多CSS，消除我们没有用到的部分）</p>
<p>（1）安装PurifyCSS-webpack   purify-css  —-&gt;  PurifyCSS-webpack要依赖于purify-css这个包，所以这两个都需要安装</p>
<pre><code>cnpm i -D purifycss-webpack purify-css       --- &gt; -D代表的是–save-dev
</code></pre><p> (2) 引入glob , purifycss-webpack (因为我们需要同步检查html模板，所以我们需要引入node的glob对象使用)</p>
<pre><code>const glob = require(&apos;glob&apos;);
const PurifyCSSPlugin = require(&quot;purifycss-webpack&quot;);
</code></pre><p> (3) 配置plugins — 使用这个插件必须配合extract-text-webpack-plugin这个插件</p>
<pre><code>new PurifyCSSPlugin({
     paths: glob.sync(path.join(__dirname, &apos;src/*.html&apos;)),
   })
</code></pre><p> 这里配置了一个paths，主要是需找html模板，purifycss根据这个配置会遍历你的文件，查找哪些css被使用了       success!!    添加一些没用的css,成功去除</p>
<h2 id="———————最终采用最下面的总结-———————————"><a href="#———————最终采用最下面的总结-———————————" class="headerlink" title="———————最终采用最下面的总结-———————————-"></a>———————<strong>最终采用最下面的总结-</strong>———————————-</h2><h1 id="18-给webpack增加babel支持"><a href="#18-给webpack增加babel支持" class="headerlink" title="18 . 给webpack增加babel支持"></a>18 . 给webpack增加babel支持</h1><p> –因为：webpack3增加了一些ES6的转换支持，但是实际效果不是很好</p>
<pre><code>Babel目的：ES6,ES7未被当前浏览器所支持，需要将其转换成javascript, React的JSX转换
</code></pre><p>   （1）Babel的安装与配置（核心功能位于称为babel-core的npm包中，用得最多的是解析ES6的babel-preset-es2015包和解析JSX的babel-preset-react包）</p>
<pre><code>cnpm install --save-dev babel-core babel-loader babel-preset-es2015 babel-preset-react
</code></pre><p>   （2）在webpack中配置Babel的方法  —&gt;配置loader</p>
<pre><code>{
  test:/\.(jsx|js)$/,
  use:{
      loader:&apos;babel-loader&apos;,
      options:{
               presets:[
                   &quot;es2015&quot;,&quot;react&quot;
               ]
      }
  },
  exclude:/node_modules/
}
</code></pre><p> 虽然Babel可以直接在webpack.config.js中进行配置，但是考虑到babel具有非常多的配置选项，如果卸载  webapck.config.js中会非常的雍长不可阅读， 所以我们经常把配置卸载.babelrc文件里</p>
<p>  (√√)优化上面的配置，新写法：（1）在项目根目录新建.babelrc文件，并把配置写到文件里</p>
<pre><code>  {
     &quot;presets&quot;:[&quot;react&quot;,&quot;es2015&quot;]
  }

（2）.webpack.config.js里的loader配置

      {
       test:/\.(jsx|js)$/,
       use:{
            loader:&apos;babel-loader&apos;,
        },
        exclude:/node_modules/
      }
</code></pre><p>  现在网络上已经不流行babel-preset-es2015，现在官方推荐使用的是babel-preset-env</p>
<p>   （1）下载ENV  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev babel-preset-env</span><br></pre></td></tr></table></figure>
<pre><code>(2) 然后修改.babelrc里的配置文件---- 把之前的es2015换成env就可以

      {
          &quot;presets&quot;:[&quot;react&quot;,&quot;env&quot;]
      }

Babel的配置文件分解出来是最好的选择
</code></pre><h1 id="19-打包后如何调试—-gt-Source-Maps来方便我们的调试"><a href="#19-打包后如何调试—-gt-Source-Maps来方便我们的调试" class="headerlink" title="19 . 打包后如何调试—&gt;Source Maps来方便我们的调试"></a>19 . 打包后如何调试—&gt;Source Maps来方便我们的调试</h1><h3 id="注意：source-map只适用于开发阶段，上线前记得修改这些调试设置！！！！！！"><a href="#注意：source-map只适用于开发阶段，上线前记得修改这些调试设置！！！！！！" class="headerlink" title="注意：source map只适用于开发阶段，上线前记得修改这些调试设置！！！！！！"></a><strong>注意：source map只适用于开发阶段，上线前记得修改这些调试设置！！！！！！</strong></h3><pre><code>在使用webpack时只要通过简单的devtool配置，webapck就会自动给我们生产source maps 文件，
map文件是一种对应编译文件和源文件的方法，让我们调试起来更简单
在配置devtool时，webpack给我们提供了四种选项
</code></pre><p>（1）source-map:在一个单独文件中产生一个完整且功能完全的文件。这个文件具有最好的source map,但是它   会减慢打包速度</p>
<p>（2）cheap-module-source-map：不带列映射提高了打包速度，不能对应到具体的列（符号）,会对调试造成不  便</p>
<p>（3）eval-source-map:使用eval打包源文件模块，在同一个文件中生产干净的完整版的sourcemap，但是对打包后输出的JS文件的执行具有性能和安全的隐患。</p>
<pre><code>在开发阶段这是一个非常好的选项，在生产阶段则一定要不开启这个选项
</code></pre><p>   （4）cheap-module-eval-source-map:最快的生产source map的方法，没有影射列，和eval-source-map选项具有相似的缺点</p>
<h4 id="四种打包模式，有上到下打包速度越来越快，不过同时也具有越来越多的负面作用，较快的打包速度的后果就是对执行和调试有一定的影响"><a href="#四种打包模式，有上到下打包速度越来越快，不过同时也具有越来越多的负面作用，较快的打包速度的后果就是对执行和调试有一定的影响" class="headerlink" title="四种打包模式，有上到下打包速度越来越快，不过同时也具有越来越多的负面作用，较快的打包速度的后果就是对执行和调试有一定的影响"></a><strong>四种打包模式，有上到下打包速度越来越快，不过同时也具有越来越多的负面作用，较快的打包速度的后果就是对执行和调试有一定的影响</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">如果大型项目可以使用source-map，如果是中小型项目使用eval-source-map就完全可以应对</span><br></pre></td></tr></table></figure>
<p> 简单的配置：     《一定要记得在上线前一定要修改webpack配置，再打出上线包》</p>
<pre><code>module.exports = {
    devtool: &apos;eval-source-map&apos;,
    entry:  __dirname + &quot;/src/entry.js&quot;,
    output: {
         path: __dirname + &quot;/dist&quot;,
         filename: &quot;bundle.js&quot;
    }
  }
</code></pre><h1 id="20-实战技巧：开发和生产并行设置"><a href="#20-实战技巧：开发和生产并行设置" class="headerlink" title="20. 实战技巧：开发和生产并行设置"></a>20. 实战技巧：开发和生产并行设置</h1><p>（1）开发依赖：只在开发中用来帮助你进行开发，简化代码或者生成兼容设置的依赖包。</p>
<p> 你可以打开package.json来查看，devDependencies的下面的这些包为开发使用的包。这些包在生产环境中并没有用处。</p>
<p> 生产依赖：就是比如我们的js使用了jquery，jquery的程序要在浏览器端起作用，也就是说我们最终的程序也需要这个包，这就是生产依赖。这些包在dependencies中</p>
<p>（2）假如我们要在项目中使用jquery库，这时候我们一般有三种安装方法</p>
<pre><code>  1.  npm install jquery  我们最不赞成的安装方法 -在package.json中并不存在这个包的依赖

  2.  npm install jquery --save  它存在于package.json的dependencies中（上线时需要的依赖包）

  3.  npm install jquery --save-dev 它存在于package.json的devDependencies中，也就是说它是开发环境中                                     需要的，上线并不需要这个包的依赖

(3) 安装全部项目依赖包：  npm install

    安装生产环境依赖包：  npm install --production
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var website=&#123;        </span><br><span class="line">   publicPath:&quot;http://192.168.0.108:1717/&quot; </span><br><span class="line">   &#125; </span><br><span class="line">   修改package.json命令:     </span><br><span class="line">   &quot;scripts&quot;: &#123;              </span><br><span class="line">            &quot;server&quot;: &quot;webpack-dev-server --open&quot;,                            </span><br><span class="line">            &quot;dev&quot;:&quot;set type=dev&amp;webapck&quot;,                             </span><br><span class="line">            &quot;build&quot;: &quot;set type=build&amp;webpack&quot;       </span><br><span class="line">            &#125;,</span><br></pre></td></tr></table></figure>
<p>   修改webpack.config.js文件</p>
<pre><code> if(process.env.type== &quot;build&quot;){
     var website={
         publicPath:&quot;http://192.168.0.108:1717/&quot;
     }
}else{
    var website={
          publicPath:&quot;http://cdn.jspang.com/&quot;
   }
}
</code></pre><h1 id="21-实战技巧：webpack模块化配置"><a href="#21-实战技巧：webpack模块化配置" class="headerlink" title="21. 实战技巧：webpack模块化配置"></a>21. 实战技巧：webpack模块化配置</h1><p>把开发环境的写到一个模块中，把生产环境的写到一个模块中</p>
<p>   先了解JS的模块化实现：</p>
<pre><code>function jspang(){
      alert(&apos;jspang.com:&apos;+&apos;webpack&apos;);
 }
 module.exports=jspang;

我们声明了一个jspang方法，并且把这个方法用module.exports进行暴露出去。

然后我们在入口文件中用import进行引入，并进行使用

 import jspang from &apos;./jspang.js&apos;;
 jspang();
</code></pre><p>  webpack模块： 和上面的类似==&gt; 把webpack.config.js中的entry入口文件进行模块化设置，单独拿出来制作成一个模块</p>
<p> 1.首先在根目录，新建一个webpack_config文件夹，然后新建entry_webpack.js文件</p>
<pre><code>entry_webpack.js  内容：  //声明entry变量
                         const entry ={};  
                          //声明路径属性
                         entry.path={
                              entry:&apos;./src/entry.js&apos;  
                          }
                         //进行模块化
                         module.exports =entry;
</code></pre><ol>
<li><p>在webpack.config.js中引入，注意这里的引入只能使用require的方法</p>
<p>const entry = require(“./webpack_config/entry_webpack.js”);</p>
<p>3.入口文件部分修改如下：</p>
<p>entry:entry.path,<br>你可以再次使用npm run dev 进行测试，你会发现模块化成功了</p>
</li>
</ol>
<p>模块化在实际工作中是必不可少的操作，但是现在的webpack教程还很少讲到，大家一定要重视这节，<br>因为如果你搞不清这节的内容，可能你看别人的配置也会看不明白</p>
<h1 id="22-如何打包JQuery-Vue-React等框架，库-jquery-js-Vue-js"><a href="#22-如何打包JQuery-Vue-React等框架，库-jquery-js-Vue-js" class="headerlink" title="22. 如何打包JQuery,Vue,React等框架，库  jquery.js  Vue.js"></a>22. 如何打包JQuery,Vue,React等框架，库  jquery.js  Vue.js</h1><h4 id="第一种方法-以JQuery为例：-Success"><a href="#第一种方法-以JQuery为例：-Success" class="headerlink" title="第一种方法    以JQuery为例：  Success!!"></a><strong>第一种方法</strong>    以JQuery为例：  Success!!</h4><p>​    1.安装JQuery</p>
<pre><code>cnpm install --save jquery
</code></pre><p>   2.修改entry.js文件, 安装好后，还需要引入到我们的entry.js中</p>
<p>   <strong>!!!!!   import $ from ‘jquery’;  —-&gt;这里引入是不需要我们写相对路径的，</strong></p>
<p><strong>因为jquery的包是在node_modules里的，只要写一个包名jquery，系统会自动为我们查找的</strong></p>
<p>引入好后我们就可以在entry.js里使用jquery，我们可以加入下面的代码，然后进行测试</p>
<pre><code>$(&apos;#title&apos;).html(&apos;Hello JSpang&apos;);
</code></pre><p>上面是标准的jquery代码，你可以使用npm run server 进行测试，现在代码顺利运行了，这说明我们引用的JQuery库成功了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run server</span><br></pre></td></tr></table></figure>
<p>需要说的是你不仅可以在入口中进行引入，你还可以在任何你需要的js中引入，webpack并不会重复打包，它只给我们打包一次</p>
<h4 id="第二种方法："><a href="#第二种方法：" class="headerlink" title="第二种方法："></a>第二种方法：</h4><p>用plugin引入—&gt;在webapck.config.js中配置的方法，这种不需要你在入口文件中引入，而是webpack给你作了全局引入ProvidePlugin</p>
<p> ProvidePlugin是一个webpack自带的插件</p>
<ol>
<li>先再webpack.config.js中引入webpack     在webpack.config.js里引入必须使用require，否则会报错的，一定要注意</li>
</ol>
<pre><code>const webpack = require(&apos;webpack&apos;);
</code></pre><ol>
<li>配置我们的plugins模块</li>
</ol>
<pre><code>plugins:[
     new webpack.ProvidePlugin({
                  $:&quot;jquery&quot;
     })
],
</code></pre><p>配置好后，就可以在你的入口文件中使用了，而不用再次引入了。这是一种全局的引入，在实际工作中也可以很好的规范项目所使用的第三方库</p>
<h4 id="总结：Vue和Angular这样的成熟框架都推出了自己的webpack框架，比如vue-cli。但是很多情况还是需要我们手动更改这些配置好的webpack来适用于我们的公司项目"><a href="#总结：Vue和Angular这样的成熟框架都推出了自己的webpack框架，比如vue-cli。但是很多情况还是需要我们手动更改这些配置好的webpack来适用于我们的公司项目" class="headerlink" title="总结：Vue和Angular这样的成熟框架都推出了自己的webpack框架，比如vue-cli。但是很多情况还是需要我们手动更改这些配置好的webpack来适用于我们的公司项目"></a>总结：Vue和Angular这样的成熟框架都推出了自己的webpack框架，比如vue-cli。但是很多情况还是需要我们手动更改这些配置好的webpack来适用于我们的公司项目</h4><p>   import引入方法：引用后不管你在代码中使用不适用该类库，都会把该类库打包起来，这样有时就会让代码产生冗余。<br>   ProvidePlugin引入方法：引用后只有在类库使用时，才按需进行打包，所以建议在工作使用插件的方式进行引入            配置写在module.exports里   一个公共的服务器条件</p>
<h1 id="23-实战技巧：watch的正确使用方法"><a href="#23-实战技巧：watch的正确使用方法" class="headerlink" title="23.实战技巧：watch的正确使用方法"></a>23.实战技巧：watch的正确使用方法</h1><p> 两个前端合并代码时，就需要一个公共的服务器，我们希望的场景是代码发生变化后，只要保存，webpack自动为我们进行打包</p>
<p>1.watch的配置   在没配置的情况下，直接用webpack –watch是不起作用的</p>
<pre><code>watchOptions:{     
   poll:1000,  //检测修改的时间，以毫秒为单位
   aggregeateTimeout:500,  //防止重复保存而发生重复编译错误。这里设置的500是半秒内重复保存，不进行打包操作
   ignored:/node_modules/,    //不监听的目录
}
</code></pre><ol>
<li>BannerPlugin插件—》再工作中每个人写的代码都要写上备注，为的就是在发生问题时可以找到当时写代码的人。有时候也用于版权声明</li>
</ol>
<pre><code>const webpack = require(&apos;webpack&apos;);
new webpack.BannerPlugin(&apos;JSPang版权所有，看官方免费视频到jspang.com收看&apos;)     -----成功！
</code></pre><h1 id="24-实战技巧：webpack优化黑技能"><a href="#24-实战技巧：webpack优化黑技能" class="headerlink" title="24. 实战技巧：webpack优化黑技能"></a>24. 实战技巧：webpack优化黑技能</h1><p> 上面我们进行引入JQuery的两种方法，只是必须的第一步，为了优化，我们应该抽离JQuery</p>
<p> 抽离JQuery:</p>
<p>  1.修改入口文件</p>
<pre><code>webpack.config.js中： entry:{
                          entry:&apos;./src/entry.js&apos;,
                          jquery:&apos;jquery&apos;
                      },
</code></pre><p> 2.引入插件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">new webpack.optimize.CommonsChunkPlugin(&#123;</span><br><span class="line">            name:&apos;jquery&apos;, //name对应入口文件中的名字，我们起的是jQuery</span><br><span class="line">            filename:&quot;assets/js/jquery.min.js&quot;,  //把文件打包到哪里，是一个路径 -- filename是可以省略的，这是直接打包到了打包根目录下</span><br><span class="line">            minChunks:2   ////最小打包的文件模块数，这里直接写2就好---（minChunks一般都是固定配置，但是不写是不行的，你会打包失败）</span><br><span class="line">    &#125;),</span><br></pre></td></tr></table></figure>
<p>配置完成后，我们可以先删掉以前打包的dist目录，然后用webpack再次打包，你会发现jquery被抽离了出来，并且我们的entry.js文件变的很小</p>
<h5 id="多个第三方类库抽离：-引入Vue为例，看看如何抽离出来"><a href="#多个第三方类库抽离：-引入Vue为例，看看如何抽离出来" class="headerlink" title="多个第三方类库抽离： 引入Vue为例，看看如何抽离出来"></a>多个第三方类库抽离： 引入Vue为例，看看如何抽离出来</h5><p>1.先用npm进行安装： 这个类库在生产环境中也是要使用的</p>
<pre><code>cnpm install vue --save    
</code></pre><p>2.在入口配置中引入vue和jquery</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">entry:&#123;</span><br><span class="line">       entry:&apos;./src/entry.js&apos;,</span><br><span class="line">       jquery:&apos;jquery&apos;,</span><br><span class="line">       vue:&apos;vue&apos;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>   3.修改CommonsChunkPlugin配置（name属性里把原来的字符串改为数组，filename属性中把我们输出的文件名改为匹配付[name]）</p>
<pre><code> new webpack.optimize.CommonsChunkPlugin({
    //name对应入口文件中的名字，我们起的是jQuery
      name:[&apos;jquery&apos;,&apos;vue&apos;],

    //把文件打包到哪里，是一个路径
      filename:&quot;assets/js/[name].js&quot;,

   //最小打包的文件模块数，这里直接写2就好
      minChunks:2
}),
</code></pre><p>可以在控制台输入webpack进行打包了。你会看到我们预想的结果，jquery和vue都被我们抽离出来了</p>
<p><strong>在项目开发中，我们很使用很多第三方类库，那好的做法就是把第三方这些类库全部抽离处理，这样在项目维护和性能上都是不错的选择</strong></p>
<h1 id="25-实战技巧：静态资源集中输出"><a href="#25-实战技巧：静态资源集中输出" class="headerlink" title="25.实战技巧：静态资源集中输出"></a><strong>25.实战技巧：静态资源集中输出</strong></h1><p>工作中会有一些已经存在但在项目中没有引用的图片资源或者其他静态资源（比如设计图、开发文档），这些静态资源有可能是文档，也有可能是一些额外的图片。项目组长会要求你打包时保留这些静态资源，直接打包到制定文件夹。其实打包这些资源只需要用到copy-webpack-plugin</p>
<h4 id="copy-webpack-plugin就是专门为我们作静态资源转移的插件"><a href="#copy-webpack-plugin就是专门为我们作静态资源转移的插件" class="headerlink" title="copy-webpack-plugin就是专门为我们作静态资源转移的插件"></a>copy-webpack-plugin就是专门为我们作静态资源转移的插件</h4><p>   1.插件安装     在安装过程中出错，你可以使用npm来进行安装</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install --save-dev copy-webpack-plugin</span><br></pre></td></tr></table></figure>
<p>   2.引入插件   </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const copyWebpackPlugin= require(&quot;copy-webpack-plugin&quot;);</span><br></pre></td></tr></table></figure>
<p>   3.配置插件<br>     new copyWebpackPlugin([{<br>                       from:<strong>dirname+’/src’,<br>                       to:</strong>dirname+’/dist’<br>               }])<br>from:要打包的静态资源目录地址，这里的<strong>dirname是指项目目录下，是node的一种语法，可以直接定位到本机的项目目录中<br>to:要打包到的文件夹路径，跟随output配置中的目录。需要再自己加</strong>dirname</p>
<p>配置好后，我们就可以使用webpack 进行打包了，你会发现图片按照我们的配置打包了过去</p>
<h1 id="26-实战技巧：Json配置文件使用"><a href="#26-实战技巧：Json配置文件使用" class="headerlink" title="26.实战技巧：Json配置文件使用"></a>26.实战技巧：Json配置文件使用</h1><p>我们的项目都会配置一个Json的文件或者说API文件，作为项目的配置文件<br> 这节课就学习如何在webpack环境中使用Json   </p>
<p>读出Json内容：</p>
<p>1.现在我们的index.html模板中加入一个层，并给层一个Id，为了是在javascript代码中可以方便引用</p>
<pre><code>&lt;div id=&quot;json&quot;&gt;&lt;/div&gt;
</code></pre><p>2.到src文件夹下，找到入口文件，我这里是entry.js文件</p>
<pre><code>var json =require(&apos;../config.json&apos;);   第一行是引入我们的json文件

document.getElementById(&quot;json&quot;).innerHTML= json.name;   第二行是写入到到DOM中
</code></pre><ol>
<li><p>启用我们的npm run server 命令就可以在浏览器中看到结果了</p>
<p>热更新：在webpack3中启用热加载相当的容易，只要加入HotModuleReplacementPlugin这个插件就可以了</p>
<pre><code>new webpack.HotModuleReplacementPlugin()
</code></pre><p>我们Vue或者React中的热更新，并不是刷新整个页面，而是一个局部更新，而这里的更新是重新刷新了页面。</p>
</li>
</ol>
<h4 id="————————-下面是我操作过程中的错误及总结———————————————–"><a href="#————————-下面是我操作过程中的错误及总结———————————————–" class="headerlink" title="————————-下面是我操作过程中的错误及总结———————————————–"></a>————————-下面是我操作过程中的错误及总结———————————————–</h4><pre><code>1.   devServer:{
    contentBase:path.resolve(__dirname,&apos;dist&apos;),
    host:&apos;192.168.0.108&apos;,     //本地服务器名
    compress:true,
    port:1717
 }
</code></pre><ol>
<li><p>css文件中引入图片的地址错误，注意是../  还是 ./</p>
</li>
<li><p>图片当背景，没给宽高，不出效果</p>
<p>4.生成的图片不在images文件夹里，对  limit:5000, 改小了之后就有文件夹了，然后DataURL编码（&lt;limit）少很多     大于limit值  就生成了images文件并把图片放在里面</p>
</li>
</ol>
<p>成功完成HTML打包，CSS打包，图片加载，背景图加载（css中）,html中（img图片加载），打包后的css和js分离， images文件夹生成,图片地址正确，运用PublicPath,IP成功，</p>
<p> ===========&gt;  查看 webpack_1.config.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">const path = require(&apos;path&apos;);</span><br><span class="line">const htmlPlugin= require(&apos;html-webpack-plugin&apos;);</span><br><span class="line">const extractTextPlugin = require(&quot;extract-text-webpack-plugin&quot;);</span><br><span class="line">var website =&#123;</span><br><span class="line">    publicPath:&quot;http://192.168.0.108:1717/&quot;</span><br><span class="line">&#125;;</span><br><span class="line">module.exports=&#123;</span><br><span class="line">	entry:&#123;</span><br><span class="line">		entry:&apos;./src/entry.js&apos;</span><br><span class="line">	&#125;,</span><br><span class="line">	output:&#123;</span><br><span class="line">		path:path.resolve(__dirname,&apos;dist&apos;),</span><br><span class="line">		filename:&apos;bundle.js&apos;,</span><br><span class="line">		publicPath:website.publicPath</span><br><span class="line">	&#125;,</span><br><span class="line">	module:&#123;</span><br><span class="line">		rules:[</span><br><span class="line">		   &#123;</span><br><span class="line">              test: /\.css$/,                     </span><br><span class="line">              use: extractTextPlugin.extract(&#123;       </span><br><span class="line">                   fallback: &quot;style-loader&quot;,       </span><br><span class="line">                   use: &quot;css-loader&quot;</span><br><span class="line">               &#125;)</span><br><span class="line">           &#125;,&#123;</span><br><span class="line">             test:/\.(png|jpg|gif)/ ,</span><br><span class="line">             use:[&#123;</span><br><span class="line">                 loader:&apos;url-loader&apos;,</span><br><span class="line">                 options:&#123;</span><br><span class="line">                      limit:5000,</span><br><span class="line">                      outputPath:&apos;images/&apos;</span><br><span class="line">                 &#125;</span><br><span class="line">            &#125;]</span><br><span class="line">          &#125;,&#123;</span><br><span class="line">              test: /\.(htm|html)$/i,</span><br><span class="line">              use:[ &apos;html-withimg-loader&apos;] </span><br><span class="line">            &#125;</span><br><span class="line">		]</span><br><span class="line">	&#125;,</span><br><span class="line">	plugins:[</span><br><span class="line">	    new htmlPlugin(&#123;</span><br><span class="line">                minify:&#123;</span><br><span class="line">                    removeAttributeQuotes:true</span><br><span class="line">                &#125;,</span><br><span class="line">                hash:true,</span><br><span class="line">                template:&apos;./src/index.html&apos;       </span><br><span class="line">           &#125;),</span><br><span class="line">	    new extractTextPlugin(&quot;/css/index.css&quot;)</span><br><span class="line">	],</span><br><span class="line">	devServer:&#123;</span><br><span class="line">		contentBase:path.resolve(__dirname,&apos;dist&apos;),</span><br><span class="line">		host:&apos;192.168.0.108&apos;,</span><br><span class="line">		compress:true,</span><br><span class="line">		port:1717</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  5.热更新成功，加入插件 —-Yes    —》仅限于html和js页面可以实时更新  css并不能实现<br>       const webpack = require(‘webpack’);<br>       new extractTextPlugin(“/css/index.css”),</p>
<ol>
<li>前缀添加解决</li>
<li>多余css消除成功</li>
<li>给webpack增加babel支持  最终方案： success!!!</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install --save-dev babel-core babel-loader babel-preset-env babel-preset-react</span><br></pre></td></tr></table></figure>
<p>   在项目根目录新建.babelrc文件，并把配置写到文件里</p>
<pre><code>  {
     &quot;presets&quot;:[&quot;react&quot;,&quot;env&quot;]
  }

（2）.webpack.config.js里的loader配置

      {
       test:/\.(jsx|js)$/,
       use:{
            loader:&apos;babel-loader&apos;,
        },
        exclude:/node_modules/
</code></pre><p> 9.总结引入第三方框架，Jquery和Vue，并将他们打包抽离出来，，优化  success!!!</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cnpm install --save jquery</span><br><span class="line">cnpm install vue --save</span><br></pre></td></tr></table></figure>
<pre><code>const webpack = require(&apos;webpack&apos;);
 entry:{
         entry:&apos;./src/entry.js&apos;,
         jquery:&apos;jquery&apos;,
         vue:&apos;vue&apos;
   },

  plugins:[
        new webpack.ProvidePlugin({
                     $:&quot;jquery&quot;
        })，
       new webpack.optimize.CommonsChunkPlugin({
          name:[&apos;jquery&apos;,&apos;vue&apos;],
          filename:&quot;assets/js/[name].js&quot;,
          minChunks:2
       }),
 ]
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/03/19/webpack3/" data-id="cjez0ax4p000094uqmf1sxkt2" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Articles récents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/03/20/JQUERY /">jQuery的重点</a>
          </li>
        
          <li>
            <a href="/2018/03/20/DOM + BOM/">DOM + BOM</a>
          </li>
        
          <li>
            <a href="/2018/03/20/html + css/">HTML + CSS</a>
          </li>
        
          <li>
            <a href="/2018/03/20/PHP_01.V5.0/">第一天 服务端开发基础</a>
          </li>
        
          <li>
            <a href="/2018/03/20/PHP_05.V5.0/">第五天 PHP操作MySQL</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 John Doe<br>
      Propulsé by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>